var Ii=Object.defineProperty;var Oi=(e,t,n)=>t in e?Ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var x=(e,t,n)=>(Oi(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function Lo(e,t){const n=Object.create(null),o=e.split(",");for(let r=0;r<o.length;r++)n[o[r]]=!0;return t?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function xn(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],r=Oe(o)?Mi(o):xn(o);if(r)for(const s in r)t[s]=r[s]}return t}else{if(Oe(e))return e;if(we(e))return e}}const $i=/;(?![^(]*\))/g,Ni=/:([^]+)/,Ti=/\/\*.*?\*\//gs;function Mi(e){const t={};return e.replace(Ti,"").split($i).forEach(n=>{if(n){const o=n.split(Ni);o.length>1&&(t[o[0].trim()]=o[1].trim())}}),t}function je(e){let t="";if(Oe(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const o=je(e[n]);o&&(t+=o+" ")}else if(we(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const zi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ai=Lo(zi);function rs(e){return!!e||e===""}function Di(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=Qn(e[o],t[o]);return n}function Qn(e,t){if(e===t)return!0;let n=pr(e),o=pr(t);if(n||o)return n&&o?e.getTime()===t.getTime():!1;if(n=mn(e),o=mn(t),n||o)return e===t;if(n=q(e),o=q(t),n||o)return n&&o?Di(e,t):!1;if(n=we(e),o=we(t),n||o){if(!n||!o)return!1;const r=Object.keys(e).length,s=Object.keys(t).length;if(r!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),u=t.hasOwnProperty(i);if(a&&!u||!a&&u||!Qn(e[i],t[i]))return!1}}return String(e)===String(t)}function Li(e,t){return e.findIndex(n=>Qn(n,t))}const Le=e=>Oe(e)?e:e==null?"":q(e)||we(e)&&(e.toString===as||!te(e.toString))?JSON.stringify(e,ss,2):String(e),ss=(e,t)=>t&&t.__v_isRef?ss(e,t.value):Jt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,r])=>(n[`${o} =>`]=r,n),{})}:to(t)?{[`Set(${t.size})`]:[...t.values()]}:we(t)&&!q(t)&&!us(t)?String(t):t,_e={},qt=[],ct=()=>{},Ri=()=>!1,ji=/^on[^a-z]/,eo=e=>ji.test(e),Ro=e=>e.startsWith("onUpdate:"),Ke=Object.assign,jo=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Bi=Object.prototype.hasOwnProperty,de=(e,t)=>Bi.call(e,t),q=Array.isArray,Jt=e=>Pn(e)==="[object Map]",to=e=>Pn(e)==="[object Set]",pr=e=>Pn(e)==="[object Date]",te=e=>typeof e=="function",Oe=e=>typeof e=="string",mn=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",is=e=>we(e)&&te(e.then)&&te(e.catch),as=Object.prototype.toString,Pn=e=>as.call(e),Fi=e=>Pn(e).slice(8,-1),us=e=>Pn(e)==="[object Object]",Bo=e=>Oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Rn=Lo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),no=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Vi=/-(\w)/g,yt=no(e=>e.replace(Vi,(t,n)=>n?n.toUpperCase():"")),Hi=/\B([A-Z])/g,nn=no(e=>e.replace(Hi,"-$1").toLowerCase()),oo=no(e=>e.charAt(0).toUpperCase()+e.slice(1)),vo=no(e=>e?`on${oo(e)}`:""),vn=(e,t)=>!Object.is(e,t),jn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Hn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},gn=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let hr;const Wi=()=>hr||(hr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let mt;class Ui{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=mt,!t&&mt&&(this.index=(mt.scopes||(mt.scopes=[])).push(this)-1)}run(t){if(this.active){const n=mt;try{return mt=this,t()}finally{mt=n}}}on(){mt=this}off(){mt=this.parent}stop(t){if(this.active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function Ki(e,t=mt){t&&t.active&&t.effects.push(e)}const Fo=e=>{const t=new Set(e);return t.w=0,t.n=0,t},cs=e=>(e.w&Nt)>0,ls=e=>(e.n&Nt)>0,qi=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Nt},Ji=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const r=t[o];cs(r)&&!ls(r)?r.delete(e):t[n++]=r,r.w&=~Nt,r.n&=~Nt}t.length=n}},So=new WeakMap;let ln=0,Nt=1;const Co=30;let it;const Vt=Symbol(""),xo=Symbol("");class Vo{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Ki(this,o)}run(){if(!this.active)return this.fn();let t=it,n=Et;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=it,it=this,Et=!0,Nt=1<<++ln,ln<=Co?qi(this):mr(this),this.fn()}finally{ln<=Co&&Ji(this),Nt=1<<--ln,it=this.parent,Et=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){it===this?this.deferStop=!0:this.active&&(mr(this),this.onStop&&this.onStop(),this.active=!1)}}function mr(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Et=!0;const ds=[];function on(){ds.push(Et),Et=!1}function rn(){const e=ds.pop();Et=e===void 0?!0:e}function et(e,t,n){if(Et&&it){let o=So.get(e);o||So.set(e,o=new Map);let r=o.get(n);r||o.set(n,r=Fo()),fs(r)}}function fs(e,t){let n=!1;ln<=Co?ls(e)||(e.n|=Nt,n=!cs(e)):n=!e.has(it),n&&(e.add(it),it.deps.push(e))}function _t(e,t,n,o,r,s){const i=So.get(e);if(!i)return;let a=[];if(t==="clear")a=[...i.values()];else if(n==="length"&&q(e)){const u=gn(o);i.forEach((c,l)=>{(l==="length"||l>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(i.get(n)),t){case"add":q(e)?Bo(n)&&a.push(i.get("length")):(a.push(i.get(Vt)),Jt(e)&&a.push(i.get(xo)));break;case"delete":q(e)||(a.push(i.get(Vt)),Jt(e)&&a.push(i.get(xo)));break;case"set":Jt(e)&&a.push(i.get(Vt));break}if(a.length===1)a[0]&&Po(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);Po(Fo(u))}}function Po(e,t){const n=q(e)?e:[...e];for(const o of n)o.computed&&vr(o);for(const o of n)o.computed||vr(o)}function vr(e,t){(e!==it||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Yi=Lo("__proto__,__v_isRef,__isVue"),ps=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(mn)),Gi=Ho(),Zi=Ho(!1,!0),Xi=Ho(!0),gr=Qi();function Qi(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=fe(this);for(let s=0,i=this.length;s<i;s++)et(o,"get",s+"");const r=o[t](...n);return r===-1||r===!1?o[t](...n.map(fe)):r}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){on();const o=fe(this)[t].apply(this,n);return rn(),o}}),e}function Ho(e=!1,t=!1){return function(o,r,s){if(r==="__v_isReactive")return!e;if(r==="__v_isReadonly")return e;if(r==="__v_isShallow")return t;if(r==="__v_raw"&&s===(e?t?ma:ys:t?gs:vs).get(o))return o;const i=q(o);if(!e&&i&&de(gr,r))return Reflect.get(gr,r,s);const a=Reflect.get(o,r,s);return(mn(r)?ps.has(r):Yi(r))||(e||et(o,"get",r),t)?a:He(a)?i&&Bo(r)?a:a.value:we(a)?e?bs(a):Ko(a):a}}const ea=hs(),ta=hs(!0);function hs(e=!1){return function(n,o,r,s){let i=n[o];if(Xt(i)&&He(i)&&!He(r))return!1;if(!e&&(!Wn(r)&&!Xt(r)&&(i=fe(i),r=fe(r)),!q(n)&&He(i)&&!He(r)))return i.value=r,!0;const a=q(n)&&Bo(o)?Number(o)<n.length:de(n,o),u=Reflect.set(n,o,r,s);return n===fe(s)&&(a?vn(r,i)&&_t(n,"set",o,r):_t(n,"add",o,r)),u}}function na(e,t){const n=de(e,t);e[t];const o=Reflect.deleteProperty(e,t);return o&&n&&_t(e,"delete",t,void 0),o}function oa(e,t){const n=Reflect.has(e,t);return(!mn(t)||!ps.has(t))&&et(e,"has",t),n}function ra(e){return et(e,"iterate",q(e)?"length":Vt),Reflect.ownKeys(e)}const ms={get:Gi,set:ea,deleteProperty:na,has:oa,ownKeys:ra},sa={get:Xi,set(e,t){return!0},deleteProperty(e,t){return!0}},ia=Ke({},ms,{get:Zi,set:ta}),Wo=e=>e,ro=e=>Reflect.getPrototypeOf(e);function Nn(e,t,n=!1,o=!1){e=e.__v_raw;const r=fe(e),s=fe(t);n||(t!==s&&et(r,"get",t),et(r,"get",s));const{has:i}=ro(r),a=o?Wo:n?Jo:yn;if(i.call(r,t))return a(e.get(t));if(i.call(r,s))return a(e.get(s));e!==r&&e.get(t)}function Tn(e,t=!1){const n=this.__v_raw,o=fe(n),r=fe(e);return t||(e!==r&&et(o,"has",e),et(o,"has",r)),e===r?n.has(e):n.has(e)||n.has(r)}function Mn(e,t=!1){return e=e.__v_raw,!t&&et(fe(e),"iterate",Vt),Reflect.get(e,"size",e)}function yr(e){e=fe(e);const t=fe(this);return ro(t).has.call(t,e)||(t.add(e),_t(t,"add",e,e)),this}function br(e,t){t=fe(t);const n=fe(this),{has:o,get:r}=ro(n);let s=o.call(n,e);s||(e=fe(e),s=o.call(n,e));const i=r.call(n,e);return n.set(e,t),s?vn(t,i)&&_t(n,"set",e,t):_t(n,"add",e,t),this}function wr(e){const t=fe(this),{has:n,get:o}=ro(t);let r=n.call(t,e);r||(e=fe(e),r=n.call(t,e)),o&&o.call(t,e);const s=t.delete(e);return r&&_t(t,"delete",e,void 0),s}function _r(){const e=fe(this),t=e.size!==0,n=e.clear();return t&&_t(e,"clear",void 0,void 0),n}function zn(e,t){return function(o,r){const s=this,i=s.__v_raw,a=fe(i),u=t?Wo:e?Jo:yn;return!e&&et(a,"iterate",Vt),i.forEach((c,l)=>o.call(r,u(c),u(l),s))}}function An(e,t,n){return function(...o){const r=this.__v_raw,s=fe(r),i=Jt(s),a=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,c=r[e](...o),l=n?Wo:t?Jo:yn;return!t&&et(s,"iterate",u?xo:Vt),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:a?[l(d[0]),l(d[1])]:l(d),done:h}},[Symbol.iterator](){return this}}}}function Ct(e){return function(...t){return e==="delete"?!1:this}}function aa(){const e={get(s){return Nn(this,s)},get size(){return Mn(this)},has:Tn,add:yr,set:br,delete:wr,clear:_r,forEach:zn(!1,!1)},t={get(s){return Nn(this,s,!1,!0)},get size(){return Mn(this)},has:Tn,add:yr,set:br,delete:wr,clear:_r,forEach:zn(!1,!0)},n={get(s){return Nn(this,s,!0)},get size(){return Mn(this,!0)},has(s){return Tn.call(this,s,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:zn(!0,!1)},o={get(s){return Nn(this,s,!0,!0)},get size(){return Mn(this,!0)},has(s){return Tn.call(this,s,!0)},add:Ct("add"),set:Ct("set"),delete:Ct("delete"),clear:Ct("clear"),forEach:zn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=An(s,!1,!1),n[s]=An(s,!0,!1),t[s]=An(s,!1,!0),o[s]=An(s,!0,!0)}),[e,n,t,o]}const[ua,ca,la,da]=aa();function Uo(e,t){const n=t?e?da:la:e?ca:ua;return(o,r,s)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(de(n,r)&&r in o?n:o,r,s)}const fa={get:Uo(!1,!1)},pa={get:Uo(!1,!0)},ha={get:Uo(!0,!1)},vs=new WeakMap,gs=new WeakMap,ys=new WeakMap,ma=new WeakMap;function va(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ga(e){return e.__v_skip||!Object.isExtensible(e)?0:va(Fi(e))}function Ko(e){return Xt(e)?e:qo(e,!1,ms,fa,vs)}function ya(e){return qo(e,!1,ia,pa,gs)}function bs(e){return qo(e,!0,sa,ha,ys)}function qo(e,t,n,o,r){if(!we(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=r.get(e);if(s)return s;const i=ga(e);if(i===0)return e;const a=new Proxy(e,i===2?o:n);return r.set(e,a),a}function Yt(e){return Xt(e)?Yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Xt(e){return!!(e&&e.__v_isReadonly)}function Wn(e){return!!(e&&e.__v_isShallow)}function ws(e){return Yt(e)||Xt(e)}function fe(e){const t=e&&e.__v_raw;return t?fe(t):e}function _s(e){return Hn(e,"__v_skip",!0),e}const yn=e=>we(e)?Ko(e):e,Jo=e=>we(e)?bs(e):e;function ks(e){Et&&it&&(e=fe(e),fs(e.dep||(e.dep=Fo())))}function Ss(e,t){e=fe(e),e.dep&&Po(e.dep)}function He(e){return!!(e&&e.__v_isRef===!0)}function Ce(e){return ba(e,!1)}function ba(e,t){return He(e)?e:new wa(e,t)}class wa{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:fe(t),this._value=n?t:yn(t)}get value(){return ks(this),this._value}set value(t){const n=this.__v_isShallow||Wn(t)||Xt(t);t=n?t:fe(t),vn(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:yn(t),Ss(this))}}function _a(e){return He(e)?e.value:e}const ka={get:(e,t,n)=>_a(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const r=e[t];return He(r)&&!He(n)?(r.value=n,!0):Reflect.set(e,t,n,o)}};function Cs(e){return Yt(e)?e:new Proxy(e,ka)}var xs;class Sa{constructor(t,n,o,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[xs]=!1,this._dirty=!0,this.effect=new Vo(t,()=>{this._dirty||(this._dirty=!0,Ss(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const t=fe(this);return ks(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}xs="__v_isReadonly";function Ca(e,t,n=!1){let o,r;const s=te(e);return s?(o=e,r=ct):(o=e.get,r=e.set),new Sa(o,r,s||!r,n)}function It(e,t,n,o){let r;try{r=o?e(...o):e()}catch(s){so(s,t,n)}return r}function lt(e,t,n,o){if(te(e)){const s=It(e,t,n,o);return s&&is(s)&&s.catch(i=>{so(i,t,n)}),s}const r=[];for(let s=0;s<e.length;s++)r.push(lt(e[s],t,n,o));return r}function so(e,t,n,o=!0){const r=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,a=n;for(;s;){const c=s.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,i,a)===!1)return}s=s.parent}const u=t.appContext.config.errorHandler;if(u){It(u,null,10,[e,i,a]);return}}xa(e,n,r,o)}function xa(e,t,n,o=!0){console.error(e)}let bn=!1,Eo=!1;const Ve=[];let gt=0;const Gt=[];let wt=null,Rt=0;const Ps=Promise.resolve();let Yo=null;function Es(e){const t=Yo||Ps;return e?t.then(this?e.bind(this):e):t}function Pa(e){let t=gt+1,n=Ve.length;for(;t<n;){const o=t+n>>>1;wn(Ve[o])<e?t=o+1:n=o}return t}function Go(e){(!Ve.length||!Ve.includes(e,bn&&e.allowRecurse?gt+1:gt))&&(e.id==null?Ve.push(e):Ve.splice(Pa(e.id),0,e),Is())}function Is(){!bn&&!Eo&&(Eo=!0,Yo=Ps.then($s))}function Ea(e){const t=Ve.indexOf(e);t>gt&&Ve.splice(t,1)}function Ia(e){q(e)?Gt.push(...e):(!wt||!wt.includes(e,e.allowRecurse?Rt+1:Rt))&&Gt.push(e),Is()}function kr(e,t=bn?gt+1:0){for(;t<Ve.length;t++){const n=Ve[t];n&&n.pre&&(Ve.splice(t,1),t--,n())}}function Os(e){if(Gt.length){const t=[...new Set(Gt)];if(Gt.length=0,wt){wt.push(...t);return}for(wt=t,wt.sort((n,o)=>wn(n)-wn(o)),Rt=0;Rt<wt.length;Rt++)wt[Rt]();wt=null,Rt=0}}const wn=e=>e.id==null?1/0:e.id,Oa=(e,t)=>{const n=wn(e)-wn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function $s(e){Eo=!1,bn=!0,Ve.sort(Oa);const t=ct;try{for(gt=0;gt<Ve.length;gt++){const n=Ve[gt];n&&n.active!==!1&&It(n,null,14)}}finally{gt=0,Ve.length=0,Os(),bn=!1,Yo=null,(Ve.length||Gt.length)&&$s()}}function $a(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||_e;let r=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in o){const l=`${i==="modelValue"?"model":i}Modifiers`,{number:d,trim:h}=o[l]||_e;h&&(r=n.map(m=>Oe(m)?m.trim():m)),d&&(r=n.map(gn))}let a,u=o[a=vo(t)]||o[a=vo(yt(t))];!u&&s&&(u=o[a=vo(nn(t))]),u&&lt(u,e,6,r);const c=o[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,lt(c,e,6,r)}}function Ns(e,t,n=!1){const o=t.emitsCache,r=o.get(e);if(r!==void 0)return r;const s=e.emits;let i={},a=!1;if(!te(e)){const u=c=>{const l=Ns(c,t,!0);l&&(a=!0,Ke(i,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!a?(we(e)&&o.set(e,null),null):(q(s)?s.forEach(u=>i[u]=null):Ke(i,s),we(e)&&o.set(e,i),i)}function io(e,t){return!e||!eo(t)?!1:(t=t.slice(2).replace(/Once$/,""),de(e,t[0].toLowerCase()+t.slice(1))||de(e,nn(t))||de(e,t))}let We=null,ao=null;function Un(e){const t=We;return We=e,ao=e&&e.type.__scopeId||null,t}function En(e){ao=e}function In(){ao=null}const Ts=e=>Ot;function Ot(e,t=We,n){if(!t||e._n)return e;const o=(...r)=>{o._d&&Nr(-1);const s=Un(t);let i;try{i=e(...r)}finally{Un(s),o._d&&Nr(1)}return i};return o._n=!0,o._c=!0,o._d=!0,o}function go(e){const{type:t,vnode:n,proxy:o,withProxy:r,props:s,propsOptions:[i],slots:a,attrs:u,emit:c,render:l,renderCache:d,data:h,setupState:m,ctx:$,inheritAttrs:P}=e;let D,T;const G=Un(e);try{if(n.shapeFlag&4){const J=r||o;D=vt(l.call(J,J,d,s,m,h,$)),T=u}else{const J=t;D=vt(J.length>1?J(s,{attrs:u,slots:a,emit:c}):J(s,null)),T=t.props?u:Na(u)}}catch(J){pn.length=0,so(J,e,1),D=ne(Tt)}let M=D;if(T&&P!==!1){const J=Object.keys(T),{shapeFlag:ee}=M;J.length&&ee&7&&(i&&J.some(Ro)&&(T=Ta(T,i)),M=Qt(M,T))}return n.dirs&&(M=Qt(M),M.dirs=M.dirs?M.dirs.concat(n.dirs):n.dirs),n.transition&&(M.transition=n.transition),D=M,Un(G),D}const Na=e=>{let t;for(const n in e)(n==="class"||n==="style"||eo(n))&&((t||(t={}))[n]=e[n]);return t},Ta=(e,t)=>{const n={};for(const o in e)(!Ro(o)||!(o.slice(9)in t))&&(n[o]=e[o]);return n};function Ma(e,t,n){const{props:o,children:r,component:s}=e,{props:i,children:a,patchFlag:u}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return o?Sr(o,i,c):!!i;if(u&8){const l=t.dynamicProps;for(let d=0;d<l.length;d++){const h=l[d];if(i[h]!==o[h]&&!io(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:o===i?!1:o?i?Sr(o,i,c):!0:!!i;return!1}function Sr(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const s=o[r];if(t[s]!==e[s]&&!io(n,s))return!0}return!1}function za({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Aa=e=>e.__isSuspense;function Da(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):Ia(e)}function La(e,t){if(De){let n=De.provides;const o=De.parent&&De.parent.provides;o===n&&(n=De.provides=Object.create(o)),n[e]=t}}function Bn(e,t,n=!1){const o=De||We;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&e in r)return r[e];if(arguments.length>1)return n&&te(t)?t.call(o.proxy):t}}const Dn={};function yo(e,t,n){return Ms(e,t,n)}function Ms(e,t,{immediate:n,deep:o,flush:r,onTrack:s,onTrigger:i}=_e){const a=De;let u,c=!1,l=!1;if(He(e)?(u=()=>e.value,c=Wn(e)):Yt(e)?(u=()=>e,o=!0):q(e)?(l=!0,c=e.some(M=>Yt(M)||Wn(M)),u=()=>e.map(M=>{if(He(M))return M.value;if(Yt(M))return Ft(M);if(te(M))return It(M,a,2)})):te(e)?t?u=()=>It(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return d&&d(),lt(e,a,3,[h])}:u=ct,t&&o){const M=u;u=()=>Ft(M())}let d,h=M=>{d=T.onStop=()=>{It(M,a,4)}},m;if(kn)if(h=ct,t?n&&lt(t,a,3,[u(),l?[]:void 0,h]):u(),r==="sync"){const M=$u();m=M.__watcherHandles||(M.__watcherHandles=[])}else return ct;let $=l?new Array(e.length).fill(Dn):Dn;const P=()=>{if(T.active)if(t){const M=T.run();(o||c||(l?M.some((J,ee)=>vn(J,$[ee])):vn(M,$)))&&(d&&d(),lt(t,a,3,[M,$===Dn?void 0:l&&$[0]===Dn?[]:$,h]),$=M)}else T.run()};P.allowRecurse=!!t;let D;r==="sync"?D=P:r==="post"?D=()=>Je(P,a&&a.suspense):(P.pre=!0,a&&(P.id=a.uid),D=()=>Go(P));const T=new Vo(u,D);t?n?P():$=T.run():r==="post"?Je(T.run.bind(T),a&&a.suspense):T.run();const G=()=>{T.stop(),a&&a.scope&&jo(a.scope.effects,T)};return m&&m.push(G),G}function Ra(e,t,n){const o=this.proxy,r=Oe(e)?e.includes(".")?zs(o,e):()=>o[e]:e.bind(o,o);let s;te(t)?s=t:(s=t.handler,n=t);const i=De;en(this);const a=Ms(r,s.bind(o),n);return i?en(i):Ht(),a}function zs(e,t){const n=t.split(".");return()=>{let o=e;for(let r=0;r<n.length&&o;r++)o=o[n[r]];return o}}function Ft(e,t){if(!we(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),He(e))Ft(e.value,t);else if(q(e))for(let n=0;n<e.length;n++)Ft(e[n],t);else if(to(e)||Jt(e))e.forEach(n=>{Ft(n,t)});else if(us(e))for(const n in e)Ft(e[n],t);return e}function qe(e){return te(e)?{setup:e,name:e.name}:e}const dn=e=>!!e.type.__asyncLoader,As=e=>e.type.__isKeepAlive;function ja(e,t){Ds(e,"a",t)}function Ba(e,t){Ds(e,"da",t)}function Ds(e,t,n=De){const o=e.__wdc||(e.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(uo(t,o,n),n){let r=n.parent;for(;r&&r.parent;)As(r.parent.vnode)&&Fa(o,t,n,r),r=r.parent}}function Fa(e,t,n,o){const r=uo(t,e,o,!0);js(()=>{jo(o[t],r)},n)}function uo(e,t,n=De,o=!1){if(n){const r=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;on(),en(n);const a=lt(t,n,e,i);return Ht(),rn(),a});return o?r.unshift(s):r.push(s),s}}const St=e=>(t,n=De)=>(!kn||e==="sp")&&uo(e,(...o)=>t(...o),n),Va=St("bm"),Ls=St("m"),Ha=St("bu"),Rs=St("u"),Wa=St("bum"),js=St("um"),Ua=St("sp"),Ka=St("rtg"),qa=St("rtc");function Ja(e,t=De){uo("ec",e,t)}function nt(e,t){const n=We;if(n===null)return e;const o=fo(n)||n.proxy,r=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[i,a,u,c=_e]=t[s];i&&(te(i)&&(i={mounted:i,updated:i}),i.deep&&Ft(a),r.push({dir:i,instance:o,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function At(e,t,n,o){const r=e.dirs,s=t&&t.dirs;for(let i=0;i<r.length;i++){const a=r[i];s&&(a.oldValue=s[i].value);let u=a.dir[o];u&&(on(),lt(u,n,8,[e.el,a,e,t]),rn())}}const Bs="components",Ya="directives";function Ae(e,t){return Fs(Bs,e,!0,t)||e}const Ga=Symbol();function Kn(e){return Fs(Ya,e)}function Fs(e,t,n=!0,o=!1){const r=We||De;if(r){const s=r.type;if(e===Bs){const a=Pu(s,!1);if(a&&(a===t||a===yt(t)||a===oo(yt(t))))return s}const i=Cr(r[e]||s[e],t)||Cr(r.appContext[e],t);return!i&&o?s:i}}function Cr(e,t){return e&&(e[t]||e[yt(t)]||e[oo(yt(t))])}function Re(e,t,n,o){let r;const s=n&&n[o];if(q(e)||Oe(e)){r=new Array(e.length);for(let i=0,a=e.length;i<a;i++)r[i]=t(e[i],i,void 0,s&&s[i])}else if(typeof e=="number"){r=new Array(e);for(let i=0;i<e;i++)r[i]=t(i+1,i,void 0,s&&s[i])}else if(we(e))if(e[Symbol.iterator])r=Array.from(e,(i,a)=>t(i,a,void 0,s&&s[a]));else{const i=Object.keys(e);r=new Array(i.length);for(let a=0,u=i.length;a<u;a++){const c=i[a];r[a]=t(e[c],c,a,s&&s[a])}}else r=[];return n&&(n[o]=r),r}function Za(e,t,n={},o,r){if(We.isCE||We.parent&&dn(We.parent)&&We.parent.isCE)return t!=="default"&&(n.name=t),ne("slot",n,o&&o());let s=e[t];s&&s._c&&(s._d=!1),z();const i=s&&Vs(s(n)),a=Fe(ce,{key:n.key||i&&i.key||`_${t}`},i||(o?o():[]),i&&e._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function Vs(e){return e.some(t=>Jn(t)?!(t.type===Tt||t.type===ce&&!Vs(t.children)):!0)?e:null}const Io=e=>e?Qs(e)?fo(e)||e.proxy:Io(e.parent):null,fn=Ke(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Io(e.parent),$root:e=>Io(e.root),$emit:e=>e.emit,$options:e=>Zo(e),$forceUpdate:e=>e.f||(e.f=()=>Go(e.update)),$nextTick:e=>e.n||(e.n=Es.bind(e.proxy)),$watch:e=>Ra.bind(e)}),bo=(e,t)=>e!==_e&&!e.__isScriptSetup&&de(e,t),Xa={get({_:e},t){const{ctx:n,setupState:o,data:r,props:s,accessCache:i,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const m=i[t];if(m!==void 0)switch(m){case 1:return o[t];case 2:return r[t];case 4:return n[t];case 3:return s[t]}else{if(bo(o,t))return i[t]=1,o[t];if(r!==_e&&de(r,t))return i[t]=2,r[t];if((c=e.propsOptions[0])&&de(c,t))return i[t]=3,s[t];if(n!==_e&&de(n,t))return i[t]=4,n[t];Oo&&(i[t]=0)}}const l=fn[t];let d,h;if(l)return t==="$attrs"&&et(e,"get",t),l(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==_e&&de(n,t))return i[t]=4,n[t];if(h=u.config.globalProperties,de(h,t))return h[t]},set({_:e},t,n){const{data:o,setupState:r,ctx:s}=e;return bo(r,t)?(r[t]=n,!0):o!==_e&&de(o,t)?(o[t]=n,!0):de(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:r,propsOptions:s}},i){let a;return!!n[i]||e!==_e&&de(e,i)||bo(t,i)||(a=s[0])&&de(a,i)||de(o,i)||de(fn,i)||de(r.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:de(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Oo=!0;function Qa(e){const t=Zo(e),n=e.proxy,o=e.ctx;Oo=!1,t.beforeCreate&&xr(t.beforeCreate,e,"bc");const{data:r,computed:s,methods:i,watch:a,provide:u,inject:c,created:l,beforeMount:d,mounted:h,beforeUpdate:m,updated:$,activated:P,deactivated:D,beforeDestroy:T,beforeUnmount:G,destroyed:M,unmounted:J,render:ee,renderTracked:Be,renderTriggered:he,errorCaptured:$e,serverPrefetch:Ze,expose:k,inheritAttrs:b,components:H,directives:Z,filters:F}=t;if(c&&eu(c,o,null,e.appContext.config.unwrapInjectedRef),i)for(const se in i){const oe=i[se];te(oe)&&(o[se]=oe.bind(n))}if(r){const se=r.call(n,n);we(se)&&(e.data=Ko(se))}if(Oo=!0,s)for(const se in s){const oe=s[se],v=te(oe)?oe.bind(n,n):te(oe.get)?oe.get.bind(n,n):ct,y=!te(oe)&&te(oe.set)?oe.set.bind(n):ct,C=kt({get:v,set:y});Object.defineProperty(o,se,{enumerable:!0,configurable:!0,get:()=>C.value,set:W=>C.value=W})}if(a)for(const se in a)Hs(a[se],o,n,se);if(u){const se=te(u)?u.call(n):u;Reflect.ownKeys(se).forEach(oe=>{La(oe,se[oe])})}l&&xr(l,e,"c");function ae(se,oe){q(oe)?oe.forEach(v=>se(v.bind(n))):oe&&se(oe.bind(n))}if(ae(Va,d),ae(Ls,h),ae(Ha,m),ae(Rs,$),ae(ja,P),ae(Ba,D),ae(Ja,$e),ae(qa,Be),ae(Ka,he),ae(Wa,G),ae(js,J),ae(Ua,Ze),q(k))if(k.length){const se=e.exposed||(e.exposed={});k.forEach(oe=>{Object.defineProperty(se,oe,{get:()=>n[oe],set:v=>n[oe]=v})})}else e.exposed||(e.exposed={});ee&&e.render===ct&&(e.render=ee),b!=null&&(e.inheritAttrs=b),H&&(e.components=H),Z&&(e.directives=Z)}function eu(e,t,n=ct,o=!1){q(e)&&(e=$o(e));for(const r in e){const s=e[r];let i;we(s)?"default"in s?i=Bn(s.from||r,s.default,!0):i=Bn(s.from||r):i=Bn(s),He(i)&&o?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):t[r]=i}}function xr(e,t,n){lt(q(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Hs(e,t,n,o){const r=o.includes(".")?zs(n,o):()=>n[o];if(Oe(e)){const s=t[e];te(s)&&yo(r,s)}else if(te(e))yo(r,e.bind(n));else if(we(e))if(q(e))e.forEach(s=>Hs(s,t,n,o));else{const s=te(e.handler)?e.handler.bind(n):t[e.handler];te(s)&&yo(r,s,e)}}function Zo(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:r,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(t);let u;return a?u=a:!r.length&&!n&&!o?u=t:(u={},r.length&&r.forEach(c=>qn(u,c,i,!0)),qn(u,t,i)),we(t)&&s.set(t,u),u}function qn(e,t,n,o=!1){const{mixins:r,extends:s}=t;s&&qn(e,s,n,!0),r&&r.forEach(i=>qn(e,i,n,!0));for(const i in t)if(!(o&&i==="expose")){const a=tu[i]||n&&n[i];e[i]=a?a(e[i],t[i]):t[i]}return e}const tu={data:Pr,props:Lt,emits:Lt,methods:Lt,computed:Lt,beforeCreate:Ue,created:Ue,beforeMount:Ue,mounted:Ue,beforeUpdate:Ue,updated:Ue,beforeDestroy:Ue,beforeUnmount:Ue,destroyed:Ue,unmounted:Ue,activated:Ue,deactivated:Ue,errorCaptured:Ue,serverPrefetch:Ue,components:Lt,directives:Lt,watch:ou,provide:Pr,inject:nu};function Pr(e,t){return t?e?function(){return Ke(te(e)?e.call(this,this):e,te(t)?t.call(this,this):t)}:t:e}function nu(e,t){return Lt($o(e),$o(t))}function $o(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Ue(e,t){return e?[...new Set([].concat(e,t))]:t}function Lt(e,t){return e?Ke(Ke(Object.create(null),e),t):t}function ou(e,t){if(!e)return t;if(!t)return e;const n=Ke(Object.create(null),e);for(const o in t)n[o]=Ue(e[o],t[o]);return n}function ru(e,t,n,o=!1){const r={},s={};Hn(s,lo,1),e.propsDefaults=Object.create(null),Ws(e,t,r,s);for(const i in e.propsOptions[0])i in r||(r[i]=void 0);n?e.props=o?r:ya(r):e.type.props?e.props=r:e.props=s,e.attrs=s}function su(e,t,n,o){const{props:r,attrs:s,vnode:{patchFlag:i}}=e,a=fe(r),[u]=e.propsOptions;let c=!1;if((o||i>0)&&!(i&16)){if(i&8){const l=e.vnode.dynamicProps;for(let d=0;d<l.length;d++){let h=l[d];if(io(e.emitsOptions,h))continue;const m=t[h];if(u)if(de(s,h))m!==s[h]&&(s[h]=m,c=!0);else{const $=yt(h);r[$]=No(u,a,$,m,e,!1)}else m!==s[h]&&(s[h]=m,c=!0)}}}else{Ws(e,t,r,s)&&(c=!0);let l;for(const d in a)(!t||!de(t,d)&&((l=nn(d))===d||!de(t,l)))&&(u?n&&(n[d]!==void 0||n[l]!==void 0)&&(r[d]=No(u,a,d,void 0,e,!0)):delete r[d]);if(s!==a)for(const d in s)(!t||!de(t,d))&&(delete s[d],c=!0)}c&&_t(e,"set","$attrs")}function Ws(e,t,n,o){const[r,s]=e.propsOptions;let i=!1,a;if(t)for(let u in t){if(Rn(u))continue;const c=t[u];let l;r&&de(r,l=yt(u))?!s||!s.includes(l)?n[l]=c:(a||(a={}))[l]=c:io(e.emitsOptions,u)||(!(u in o)||c!==o[u])&&(o[u]=c,i=!0)}if(s){const u=fe(n),c=a||_e;for(let l=0;l<s.length;l++){const d=s[l];n[d]=No(r,u,d,c[d],e,!de(c,d))}}return i}function No(e,t,n,o,r,s){const i=e[n];if(i!=null){const a=de(i,"default");if(a&&o===void 0){const u=i.default;if(i.type!==Function&&te(u)){const{propsDefaults:c}=r;n in c?o=c[n]:(en(r),o=c[n]=u.call(null,t),Ht())}else o=u}i[0]&&(s&&!a?o=!1:i[1]&&(o===""||o===nn(n))&&(o=!0))}return o}function Us(e,t,n=!1){const o=t.propsCache,r=o.get(e);if(r)return r;const s=e.props,i={},a=[];let u=!1;if(!te(e)){const l=d=>{u=!0;const[h,m]=Us(d,t,!0);Ke(i,h),m&&a.push(...m)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!s&&!u)return we(e)&&o.set(e,qt),qt;if(q(s))for(let l=0;l<s.length;l++){const d=yt(s[l]);Er(d)&&(i[d]=_e)}else if(s)for(const l in s){const d=yt(l);if(Er(d)){const h=s[l],m=i[d]=q(h)||te(h)?{type:h}:Object.assign({},h);if(m){const $=$r(Boolean,m.type),P=$r(String,m.type);m[0]=$>-1,m[1]=P<0||$<P,($>-1||de(m,"default"))&&a.push(d)}}}const c=[i,a];return we(e)&&o.set(e,c),c}function Er(e){return e[0]!=="$"}function Ir(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function Or(e,t){return Ir(e)===Ir(t)}function $r(e,t){return q(t)?t.findIndex(n=>Or(n,e)):te(t)&&Or(t,e)?0:-1}const Ks=e=>e[0]==="_"||e==="$stable",Xo=e=>q(e)?e.map(vt):[vt(e)],iu=(e,t,n)=>{if(t._n)return t;const o=Ot((...r)=>Xo(t(...r)),n);return o._c=!1,o},qs=(e,t,n)=>{const o=e._ctx;for(const r in e){if(Ks(r))continue;const s=e[r];if(te(s))t[r]=iu(r,s,o);else if(s!=null){const i=Xo(s);t[r]=()=>i}}},Js=(e,t)=>{const n=Xo(t);e.slots.default=()=>n},au=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=fe(t),Hn(t,"_",n)):qs(t,e.slots={})}else e.slots={},t&&Js(e,t);Hn(e.slots,lo,1)},uu=(e,t,n)=>{const{vnode:o,slots:r}=e;let s=!0,i=_e;if(o.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:(Ke(r,t),!n&&a===1&&delete r._):(s=!t.$stable,qs(t,r)),i=t}else t&&(Js(e,t),i={default:1});if(s)for(const a in r)!Ks(a)&&!(a in i)&&delete r[a]};function Ys(){return{app:null,config:{isNativeTag:Ri,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let cu=0;function lu(e,t){return function(o,r=null){te(o)||(o=Object.assign({},o)),r!=null&&!we(r)&&(r=null);const s=Ys(),i=new Set;let a=!1;const u=s.app={_uid:cu++,_component:o,_props:r,_container:null,_context:s,_instance:null,version:Nu,get config(){return s.config},set config(c){},use(c,...l){return i.has(c)||(c&&te(c.install)?(i.add(c),c.install(u,...l)):te(c)&&(i.add(c),c(u,...l))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,l){return l?(s.components[c]=l,u):s.components[c]},directive(c,l){return l?(s.directives[c]=l,u):s.directives[c]},mount(c,l,d){if(!a){const h=ne(o,r);return h.appContext=s,l&&t?t(h,c):e(h,c,d),a=!0,u._container=c,c.__vue_app__=u,fo(h.component)||h.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return s.provides[c]=l,u}};return u}}function To(e,t,n,o,r=!1){if(q(e)){e.forEach((h,m)=>To(h,t&&(q(t)?t[m]:t),n,o,r));return}if(dn(o)&&!r)return;const s=o.shapeFlag&4?fo(o.component)||o.component.proxy:o.el,i=r?null:s,{i:a,r:u}=e,c=t&&t.r,l=a.refs===_e?a.refs={}:a.refs,d=a.setupState;if(c!=null&&c!==u&&(Oe(c)?(l[c]=null,de(d,c)&&(d[c]=null)):He(c)&&(c.value=null)),te(u))It(u,a,12,[i,l]);else{const h=Oe(u),m=He(u);if(h||m){const $=()=>{if(e.f){const P=h?de(d,u)?d[u]:l[u]:u.value;r?q(P)&&jo(P,s):q(P)?P.includes(s)||P.push(s):h?(l[u]=[s],de(d,u)&&(d[u]=l[u])):(u.value=[s],e.k&&(l[e.k]=u.value))}else h?(l[u]=i,de(d,u)&&(d[u]=i)):m&&(u.value=i,e.k&&(l[e.k]=i))};i?($.id=-1,Je($,n)):$()}}}const Je=Da;function du(e){return fu(e)}function fu(e,t){const n=Wi();n.__VUE__=!0;const{insert:o,remove:r,patchProp:s,createElement:i,createText:a,createComment:u,setText:c,setElementText:l,parentNode:d,nextSibling:h,setScopeId:m=ct,insertStaticContent:$}=e,P=(f,p,g,_=null,w=null,O=null,A=!1,I=null,N=!!p.dynamicChildren)=>{if(f===p)return;f&&!an(f,p)&&(_=Me(f),W(f,w,O,!0),f=null),p.patchFlag===-2&&(N=!1,p.dynamicChildren=null);const{type:S,ref:U,shapeFlag:L}=p;switch(S){case co:D(f,p,g,_);break;case Tt:T(f,p,g,_);break;case wo:f==null&&G(p,g,_,A);break;case ce:H(f,p,g,_,w,O,A,I,N);break;default:L&1?ee(f,p,g,_,w,O,A,I,N):L&6?Z(f,p,g,_,w,O,A,I,N):(L&64||L&128)&&S.process(f,p,g,_,w,O,A,I,N,ft)}U!=null&&w&&To(U,f&&f.ref,O,p||f,!p)},D=(f,p,g,_)=>{if(f==null)o(p.el=a(p.children),g,_);else{const w=p.el=f.el;p.children!==f.children&&c(w,p.children)}},T=(f,p,g,_)=>{f==null?o(p.el=u(p.children||""),g,_):p.el=f.el},G=(f,p,g,_)=>{[f.el,f.anchor]=$(f.children,p,g,_,f.el,f.anchor)},M=({el:f,anchor:p},g,_)=>{let w;for(;f&&f!==p;)w=h(f),o(f,g,_),f=w;o(p,g,_)},J=({el:f,anchor:p})=>{let g;for(;f&&f!==p;)g=h(f),r(f),f=g;r(p)},ee=(f,p,g,_,w,O,A,I,N)=>{A=A||p.type==="svg",f==null?Be(p,g,_,w,O,A,I,N):Ze(f,p,w,O,A,I,N)},Be=(f,p,g,_,w,O,A,I)=>{let N,S;const{type:U,props:L,shapeFlag:K,transition:X,dirs:ue}=f;if(N=f.el=i(f.type,O,L&&L.is,L),K&8?l(N,f.children):K&16&&$e(f.children,N,null,_,w,O&&U!=="foreignObject",A,I),ue&&At(f,null,_,"created"),L){for(const me in L)me!=="value"&&!Rn(me)&&s(N,me,null,L[me],O,f.children,_,w,Se);"value"in L&&s(N,"value",null,L.value),(S=L.onVnodeBeforeMount)&&ht(S,_,f)}he(N,f,f.scopeId,A,_),ue&&At(f,null,_,"beforeMount");const ye=(!w||w&&!w.pendingBranch)&&X&&!X.persisted;ye&&X.beforeEnter(N),o(N,p,g),((S=L&&L.onVnodeMounted)||ye||ue)&&Je(()=>{S&&ht(S,_,f),ye&&X.enter(N),ue&&At(f,null,_,"mounted")},w)},he=(f,p,g,_,w)=>{if(g&&m(f,g),_)for(let O=0;O<_.length;O++)m(f,_[O]);if(w){let O=w.subTree;if(p===O){const A=w.vnode;he(f,A,A.scopeId,A.slotScopeIds,w.parent)}}},$e=(f,p,g,_,w,O,A,I,N=0)=>{for(let S=N;S<f.length;S++){const U=f[S]=I?xt(f[S]):vt(f[S]);P(null,U,p,g,_,w,O,A,I)}},Ze=(f,p,g,_,w,O,A)=>{const I=p.el=f.el;let{patchFlag:N,dynamicChildren:S,dirs:U}=p;N|=f.patchFlag&16;const L=f.props||_e,K=p.props||_e;let X;g&&Dt(g,!1),(X=K.onVnodeBeforeUpdate)&&ht(X,g,p,f),U&&At(p,f,g,"beforeUpdate"),g&&Dt(g,!0);const ue=w&&p.type!=="foreignObject";if(S?k(f.dynamicChildren,S,I,g,_,ue,O):A||oe(f,p,I,null,g,_,ue,O,!1),N>0){if(N&16)b(I,p,L,K,g,_,w);else if(N&2&&L.class!==K.class&&s(I,"class",null,K.class,w),N&4&&s(I,"style",L.style,K.style,w),N&8){const ye=p.dynamicProps;for(let me=0;me<ye.length;me++){const Ie=ye[me],rt=L[Ie],Ut=K[Ie];(Ut!==rt||Ie==="value")&&s(I,Ie,rt,Ut,w,f.children,g,_,Se)}}N&1&&f.children!==p.children&&l(I,p.children)}else!A&&S==null&&b(I,p,L,K,g,_,w);((X=K.onVnodeUpdated)||U)&&Je(()=>{X&&ht(X,g,p,f),U&&At(p,f,g,"updated")},_)},k=(f,p,g,_,w,O,A)=>{for(let I=0;I<p.length;I++){const N=f[I],S=p[I],U=N.el&&(N.type===ce||!an(N,S)||N.shapeFlag&70)?d(N.el):g;P(N,S,U,null,_,w,O,A,!0)}},b=(f,p,g,_,w,O,A)=>{if(g!==_){if(g!==_e)for(const I in g)!Rn(I)&&!(I in _)&&s(f,I,g[I],null,A,p.children,w,O,Se);for(const I in _){if(Rn(I))continue;const N=_[I],S=g[I];N!==S&&I!=="value"&&s(f,I,S,N,A,p.children,w,O,Se)}"value"in _&&s(f,"value",g.value,_.value)}},H=(f,p,g,_,w,O,A,I,N)=>{const S=p.el=f?f.el:a(""),U=p.anchor=f?f.anchor:a("");let{patchFlag:L,dynamicChildren:K,slotScopeIds:X}=p;X&&(I=I?I.concat(X):X),f==null?(o(S,g,_),o(U,g,_),$e(p.children,g,U,w,O,A,I,N)):L>0&&L&64&&K&&f.dynamicChildren?(k(f.dynamicChildren,K,g,w,O,A,I),(p.key!=null||w&&p===w.subTree)&&Gs(f,p,!0)):oe(f,p,g,U,w,O,A,I,N)},Z=(f,p,g,_,w,O,A,I,N)=>{p.slotScopeIds=I,f==null?p.shapeFlag&512?w.ctx.activate(p,g,_,A,N):F(p,g,_,w,O,A,N):ke(f,p,N)},F=(f,p,g,_,w,O,A)=>{const I=f.component=_u(f,_,w);if(As(f)&&(I.ctx.renderer=ft),ku(I),I.asyncDep){if(w&&w.registerDep(I,ae),!f.el){const N=I.subTree=ne(Tt);T(null,N,p,g)}return}ae(I,f,p,g,w,O,A)},ke=(f,p,g)=>{const _=p.component=f.component;if(Ma(f,p,g))if(_.asyncDep&&!_.asyncResolved){se(_,p,g);return}else _.next=p,Ea(_.update),_.update();else p.el=f.el,_.vnode=p},ae=(f,p,g,_,w,O,A)=>{const I=()=>{if(f.isMounted){let{next:U,bu:L,u:K,parent:X,vnode:ue}=f,ye=U,me;Dt(f,!1),U?(U.el=ue.el,se(f,U,A)):U=ue,L&&jn(L),(me=U.props&&U.props.onVnodeBeforeUpdate)&&ht(me,X,U,ue),Dt(f,!0);const Ie=go(f),rt=f.subTree;f.subTree=Ie,P(rt,Ie,d(rt.el),Me(rt),f,w,O),U.el=Ie.el,ye===null&&za(f,Ie.el),K&&Je(K,w),(me=U.props&&U.props.onVnodeUpdated)&&Je(()=>ht(me,X,U,ue),w)}else{let U;const{el:L,props:K}=p,{bm:X,m:ue,parent:ye}=f,me=dn(p);if(Dt(f,!1),X&&jn(X),!me&&(U=K&&K.onVnodeBeforeMount)&&ht(U,ye,p),Dt(f,!0),L&&ot){const Ie=()=>{f.subTree=go(f),ot(L,f.subTree,f,w,null)};me?p.type.__asyncLoader().then(()=>!f.isUnmounted&&Ie()):Ie()}else{const Ie=f.subTree=go(f);P(null,Ie,g,_,f,w,O),p.el=Ie.el}if(ue&&Je(ue,w),!me&&(U=K&&K.onVnodeMounted)){const Ie=p;Je(()=>ht(U,ye,Ie),w)}(p.shapeFlag&256||ye&&dn(ye.vnode)&&ye.vnode.shapeFlag&256)&&f.a&&Je(f.a,w),f.isMounted=!0,p=g=_=null}},N=f.effect=new Vo(I,()=>Go(S),f.scope),S=f.update=()=>N.run();S.id=f.uid,Dt(f,!0),S()},se=(f,p,g)=>{p.component=f;const _=f.vnode.props;f.vnode=p,f.next=null,su(f,p.props,_,g),uu(f,p.children,g),on(),kr(),rn()},oe=(f,p,g,_,w,O,A,I,N=!1)=>{const S=f&&f.children,U=f?f.shapeFlag:0,L=p.children,{patchFlag:K,shapeFlag:X}=p;if(K>0){if(K&128){y(S,L,g,_,w,O,A,I,N);return}else if(K&256){v(S,L,g,_,w,O,A,I,N);return}}X&8?(U&16&&Se(S,w,O),L!==S&&l(g,L)):U&16?X&16?y(S,L,g,_,w,O,A,I,N):Se(S,w,O,!0):(U&8&&l(g,""),X&16&&$e(L,g,_,w,O,A,I,N))},v=(f,p,g,_,w,O,A,I,N)=>{f=f||qt,p=p||qt;const S=f.length,U=p.length,L=Math.min(S,U);let K;for(K=0;K<L;K++){const X=p[K]=N?xt(p[K]):vt(p[K]);P(f[K],X,g,null,w,O,A,I,N)}S>U?Se(f,w,O,!0,!1,L):$e(p,g,_,w,O,A,I,N,L)},y=(f,p,g,_,w,O,A,I,N)=>{let S=0;const U=p.length;let L=f.length-1,K=U-1;for(;S<=L&&S<=K;){const X=f[S],ue=p[S]=N?xt(p[S]):vt(p[S]);if(an(X,ue))P(X,ue,g,null,w,O,A,I,N);else break;S++}for(;S<=L&&S<=K;){const X=f[L],ue=p[K]=N?xt(p[K]):vt(p[K]);if(an(X,ue))P(X,ue,g,null,w,O,A,I,N);else break;L--,K--}if(S>L){if(S<=K){const X=K+1,ue=X<U?p[X].el:_;for(;S<=K;)P(null,p[S]=N?xt(p[S]):vt(p[S]),g,ue,w,O,A,I,N),S++}}else if(S>K)for(;S<=L;)W(f[S],w,O,!0),S++;else{const X=S,ue=S,ye=new Map;for(S=ue;S<=K;S++){const Xe=p[S]=N?xt(p[S]):vt(p[S]);Xe.key!=null&&ye.set(Xe.key,S)}let me,Ie=0;const rt=K-ue+1;let Ut=!1,lr=0;const sn=new Array(rt);for(S=0;S<rt;S++)sn[S]=0;for(S=X;S<=L;S++){const Xe=f[S];if(Ie>=rt){W(Xe,w,O,!0);continue}let pt;if(Xe.key!=null)pt=ye.get(Xe.key);else for(me=ue;me<=K;me++)if(sn[me-ue]===0&&an(Xe,p[me])){pt=me;break}pt===void 0?W(Xe,w,O,!0):(sn[pt-ue]=S+1,pt>=lr?lr=pt:Ut=!0,P(Xe,p[pt],g,null,w,O,A,I,N),Ie++)}const dr=Ut?pu(sn):qt;for(me=dr.length-1,S=rt-1;S>=0;S--){const Xe=ue+S,pt=p[Xe],fr=Xe+1<U?p[Xe+1].el:_;sn[S]===0?P(null,pt,g,fr,w,O,A,I,N):Ut&&(me<0||S!==dr[me]?C(pt,g,fr,2):me--)}}},C=(f,p,g,_,w=null)=>{const{el:O,type:A,transition:I,children:N,shapeFlag:S}=f;if(S&6){C(f.component.subTree,p,g,_);return}if(S&128){f.suspense.move(p,g,_);return}if(S&64){A.move(f,p,g,ft);return}if(A===ce){o(O,p,g);for(let L=0;L<N.length;L++)C(N[L],p,g,_);o(f.anchor,p,g);return}if(A===wo){M(f,p,g);return}if(_!==2&&S&1&&I)if(_===0)I.beforeEnter(O),o(O,p,g),Je(()=>I.enter(O),w);else{const{leave:L,delayLeave:K,afterLeave:X}=I,ue=()=>o(O,p,g),ye=()=>{L(O,()=>{ue(),X&&X()})};K?K(O,ue,ye):ye()}else o(O,p,g)},W=(f,p,g,_=!1,w=!1)=>{const{type:O,props:A,ref:I,children:N,dynamicChildren:S,shapeFlag:U,patchFlag:L,dirs:K}=f;if(I!=null&&To(I,null,g,f,!0),U&256){p.ctx.deactivate(f);return}const X=U&1&&K,ue=!dn(f);let ye;if(ue&&(ye=A&&A.onVnodeBeforeUnmount)&&ht(ye,p,f),U&6)xe(f.component,g,_);else{if(U&128){f.suspense.unmount(g,_);return}X&&At(f,null,p,"beforeUnmount"),U&64?f.type.remove(f,p,g,w,ft,_):S&&(O!==ce||L>0&&L&64)?Se(S,p,g,!1,!0):(O===ce&&L&384||!w&&U&16)&&Se(N,p,g),_&&R(f)}(ue&&(ye=A&&A.onVnodeUnmounted)||X)&&Je(()=>{ye&&ht(ye,p,f),X&&At(f,null,p,"unmounted")},g)},R=f=>{const{type:p,el:g,anchor:_,transition:w}=f;if(p===ce){le(g,_);return}if(p===wo){J(f);return}const O=()=>{r(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:A,delayLeave:I}=w,N=()=>A(g,O);I?I(f.el,O,N):N()}else O()},le=(f,p)=>{let g;for(;f!==p;)g=h(f),r(f),f=g;r(p)},xe=(f,p,g)=>{const{bum:_,scope:w,update:O,subTree:A,um:I}=f;_&&jn(_),w.stop(),O&&(O.active=!1,W(A,f,p,g)),I&&Je(I,p),Je(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Se=(f,p,g,_=!1,w=!1,O=0)=>{for(let A=O;A<f.length;A++)W(f[A],p,g,_,w)},Me=f=>f.shapeFlag&6?Me(f.component.subTree):f.shapeFlag&128?f.suspense.next():h(f.anchor||f.el),ze=(f,p,g)=>{f==null?p._vnode&&W(p._vnode,null,null,!0):P(p._vnode||null,f,p,null,null,null,g),kr(),Os(),p._vnode=f},ft={p:P,um:W,m:C,r:R,mt:F,mc:$e,pc:oe,pbc:k,n:Me,o:e};let bt,ot;return t&&([bt,ot]=t(ft)),{render:ze,hydrate:bt,createApp:lu(ze,bt)}}function Dt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Gs(e,t,n=!1){const o=e.children,r=t.children;if(q(o)&&q(r))for(let s=0;s<o.length;s++){const i=o[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=xt(r[s]),a.el=i.el),n||Gs(i,a)),a.type===co&&(a.el=i.el)}}function pu(e){const t=e.slice(),n=[0];let o,r,s,i,a;const u=e.length;for(o=0;o<u;o++){const c=e[o];if(c!==0){if(r=n[n.length-1],e[r]<c){t[o]=r,n.push(o);continue}for(s=0,i=n.length-1;s<i;)a=s+i>>1,e[n[a]]<c?s=a+1:i=a;c<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}for(s=n.length,i=n[s-1];s-- >0;)n[s]=i,i=t[i];return n}const hu=e=>e.__isTeleport,ce=Symbol(void 0),co=Symbol(void 0),Tt=Symbol(void 0),wo=Symbol(void 0),pn=[];let at=null;function z(e=!1){pn.push(at=e?null:[])}function mu(){pn.pop(),at=pn[pn.length-1]||null}let _n=1;function Nr(e){_n+=e}function Zs(e){return e.dynamicChildren=_n>0?at||qt:null,mu(),_n>0&&at&&at.push(e),e}function B(e,t,n,o,r,s){return Zs(Q(e,t,n,o,r,s,!0))}function Fe(e,t,n,o,r){return Zs(ne(e,t,n,o,r,!0))}function Jn(e){return e?e.__v_isVNode===!0:!1}function an(e,t){return e.type===t.type&&e.key===t.key}const lo="__vInternal",Xs=({key:e})=>e!=null?e:null,Fn=({ref:e,ref_key:t,ref_for:n})=>e!=null?Oe(e)||He(e)||te(e)?{i:We,r:e,k:t,f:!!n}:e:null;function Q(e,t=null,n=null,o=0,r=null,s=e===ce?0:1,i=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Xs(t),ref:t&&Fn(t),scopeId:ao,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:We};return a?(Qo(u,n),s&128&&e.normalize(u)):n&&(u.shapeFlag|=Oe(n)?8:16),_n>0&&!i&&at&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&at.push(u),u}const ne=vu;function vu(e,t=null,n=null,o=0,r=null,s=!1){if((!e||e===Ga)&&(e=Tt),Jn(e)){const a=Qt(e,t,!0);return n&&Qo(a,n),_n>0&&!s&&at&&(a.shapeFlag&6?at[at.indexOf(e)]=a:at.push(a)),a.patchFlag|=-2,a}if(Eu(e)&&(e=e.__vccOpts),t){t=gu(t);let{class:a,style:u}=t;a&&!Oe(a)&&(t.class=je(a)),we(u)&&(ws(u)&&!q(u)&&(u=Ke({},u)),t.style=xn(u))}const i=Oe(e)?1:Aa(e)?128:hu(e)?64:we(e)?4:te(e)?2:0;return Q(e,t,n,o,r,i,s,!0)}function gu(e){return e?ws(e)||lo in e?Ke({},e):e:null}function Qt(e,t,n=!1){const{props:o,ref:r,patchFlag:s,children:i}=e,a=t?yu(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Xs(a),ref:t&&t.ref?n&&r?q(r)?r.concat(Fn(t)):[r,Fn(t)]:Fn(t):r,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ce?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Qt(e.ssContent),ssFallback:e.ssFallback&&Qt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Pt(e=" ",t=0){return ne(co,null,e,t)}function Ee(e="",t=!1){return t?(z(),Fe(Tt,null,e)):ne(Tt,null,e)}function vt(e){return e==null||typeof e=="boolean"?ne(Tt):q(e)?ne(ce,null,e.slice()):typeof e=="object"?xt(e):ne(co,null,String(e))}function xt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Qt(e)}function Qo(e,t){let n=0;const{shapeFlag:o}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(o&65){const r=t.default;r&&(r._c&&(r._d=!1),Qo(e,r()),r._c&&(r._d=!0));return}else{n=32;const r=t._;!r&&!(lo in t)?t._ctx=We:r===3&&We&&(We.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else te(t)?(t={default:t,_ctx:We},n=32):(t=String(t),o&64?(n=16,t=[Pt(t)]):n=8);e.children=t,e.shapeFlag|=n}function yu(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const r in o)if(r==="class")t.class!==o.class&&(t.class=je([t.class,o.class]));else if(r==="style")t.style=xn([t.style,o.style]);else if(eo(r)){const s=t[r],i=o[r];i&&s!==i&&!(q(s)&&s.includes(i))&&(t[r]=s?[].concat(s,i):i)}else r!==""&&(t[r]=o[r])}return t}function ht(e,t,n,o=null){lt(e,t,7,[n,o])}const bu=Ys();let wu=0;function _u(e,t,n){const o=e.type,r=(t?t.appContext:e.appContext)||bu,s={uid:wu++,vnode:e,type:o,parent:t,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ui(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Us(o,r),emitsOptions:Ns(o,r),emit:null,emitted:null,propsDefaults:_e,inheritAttrs:o.inheritAttrs,ctx:_e,data:_e,props:_e,attrs:_e,slots:_e,refs:_e,setupState:_e,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=$a.bind(null,s),e.ce&&e.ce(s),s}let De=null;const en=e=>{De=e,e.scope.on()},Ht=()=>{De&&De.scope.off(),De=null};function Qs(e){return e.vnode.shapeFlag&4}let kn=!1;function ku(e,t=!1){kn=t;const{props:n,children:o}=e.vnode,r=Qs(e);ru(e,n,r,t),au(e,o);const s=r?Su(e,t):void 0;return kn=!1,s}function Su(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=_s(new Proxy(e.ctx,Xa));const{setup:o}=n;if(o){const r=e.setupContext=o.length>1?xu(e):null;en(e),on();const s=It(o,e,0,[e.props,r]);if(rn(),Ht(),is(s)){if(s.then(Ht,Ht),t)return s.then(i=>{Tr(e,i,t)}).catch(i=>{so(i,e,0)});e.asyncDep=s}else Tr(e,s,t)}else ei(e,t)}function Tr(e,t,n){te(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:we(t)&&(e.setupState=Cs(t)),ei(e,n)}let Mr;function ei(e,t,n){const o=e.type;if(!e.render){if(!t&&Mr&&!o.render){const r=o.template||Zo(e).template;if(r){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:u}=o,c=Ke(Ke({isCustomElement:s,delimiters:a},i),u);o.render=Mr(r,c)}}e.render=o.render||ct}en(e),on(),Qa(e),rn(),Ht()}function Cu(e){return new Proxy(e.attrs,{get(t,n){return et(e,"get","$attrs"),t[n]}})}function xu(e){const t=o=>{e.exposed=o||{}};let n;return{get attrs(){return n||(n=Cu(e))},slots:e.slots,emit:e.emit,expose:t}}function fo(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Cs(_s(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in fn)return fn[n](e)},has(t,n){return n in t||n in fn}}))}function Pu(e,t=!0){return te(e)?e.displayName||e.name:e.name||t&&e.__name}function Eu(e){return te(e)&&"__vccOpts"in e}const kt=(e,t)=>Ca(e,t,kn);function Iu(e,t,n){const o=arguments.length;return o===2?we(t)&&!q(t)?Jn(t)?ne(e,null,[t]):ne(e,t):ne(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):o===3&&Jn(n)&&(n=[n]),ne(e,t,n))}const Ou=Symbol(""),$u=()=>Bn(Ou),Nu="3.2.45",Tu="http://www.w3.org/2000/svg",jt=typeof document<"u"?document:null,zr=jt&&jt.createElement("template"),Mu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const r=t?jt.createElementNS(Tu,e):jt.createElement(e,n?{is:n}:void 0);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>jt.createTextNode(e),createComment:e=>jt.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>jt.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,r,s){const i=n?n.previousSibling:t.lastChild;if(r&&(r===s||r.nextSibling))for(;t.insertBefore(r.cloneNode(!0),n),!(r===s||!(r=r.nextSibling)););else{zr.innerHTML=o?`<svg>${e}</svg>`:e;const a=zr.content;if(o){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[i?i.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function zu(e,t,n){const o=e._vtc;o&&(t=(t?[t,...o]:[...o]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Au(e,t,n){const o=e.style,r=Oe(n);if(n&&!r){for(const s in n)Mo(o,s,n[s]);if(t&&!Oe(t))for(const s in t)n[s]==null&&Mo(o,s,"")}else{const s=o.display;r?t!==n&&(o.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(o.display=s)}}const Ar=/\s*!important$/;function Mo(e,t,n){if(q(n))n.forEach(o=>Mo(e,t,o));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const o=Du(e,t);Ar.test(n)?e.setProperty(nn(o),n.replace(Ar,""),"important"):e[o]=n}}const Dr=["Webkit","Moz","ms"],_o={};function Du(e,t){const n=_o[t];if(n)return n;let o=yt(t);if(o!=="filter"&&o in e)return _o[t]=o;o=oo(o);for(let r=0;r<Dr.length;r++){const s=Dr[r]+o;if(s in e)return _o[t]=s}return t}const Lr="http://www.w3.org/1999/xlink";function Lu(e,t,n,o,r){if(o&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Lr,t.slice(6,t.length)):e.setAttributeNS(Lr,t,n);else{const s=Ai(t);n==null||s&&!rs(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function Ru(e,t,n,o,r,s,i){if(t==="innerHTML"||t==="textContent"){o&&i(o,r,s),e[t]=n==null?"":n;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n==null?"":n;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=rs(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Bt(e,t,n,o){e.addEventListener(t,n,o)}function ju(e,t,n,o){e.removeEventListener(t,n,o)}function Bu(e,t,n,o,r=null){const s=e._vei||(e._vei={}),i=s[t];if(o&&i)i.value=o;else{const[a,u]=Fu(t);if(o){const c=s[t]=Wu(o,r);Bt(e,a,c,u)}else i&&(ju(e,a,i,u),s[t]=void 0)}}const Rr=/(?:Once|Passive|Capture)$/;function Fu(e){let t;if(Rr.test(e)){t={};let o;for(;o=e.match(Rr);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):nn(e.slice(2)),t]}let ko=0;const Vu=Promise.resolve(),Hu=()=>ko||(Vu.then(()=>ko=0),ko=Date.now());function Wu(e,t){const n=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=n.attached)return;lt(Uu(o,n.value),t,5,[o])};return n.value=e,n.attached=Hu(),n}function Uu(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(o=>r=>!r._stopped&&o&&o(r))}else return t}const jr=/^on[a-z]/,Ku=(e,t,n,o,r=!1,s,i,a,u)=>{t==="class"?zu(e,o,r):t==="style"?Au(e,n,o):eo(t)?Ro(t)||Bu(e,t,n,o,i):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):qu(e,t,o,r))?Ru(e,t,o,s,i,a,u):(t==="true-value"?e._trueValue=o:t==="false-value"&&(e._falseValue=o),Lu(e,t,o,r))};function qu(e,t,n,o){return o?!!(t==="innerHTML"||t==="textContent"||t in e&&jr.test(t)&&te(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||jr.test(t)&&Oe(n)?!1:t in e}const Yn=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?n=>jn(t,n):t};function Ju(e){e.target.composing=!0}function Br(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Yu={created(e,{modifiers:{lazy:t,trim:n,number:o}},r){e._assign=Yn(r);const s=o||r.props&&r.props.type==="number";Bt(e,t?"change":"input",i=>{if(i.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=gn(a)),e._assign(a)}),n&&Bt(e,"change",()=>{e.value=e.value.trim()}),t||(Bt(e,"compositionstart",Ju),Bt(e,"compositionend",Br),Bt(e,"change",Br))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:r}},s){if(e._assign=Yn(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||o&&e.value.trim()===t||(r||e.type==="number")&&gn(e.value)===t))return;const i=t==null?"":t;e.value!==i&&(e.value=i)}},Gu={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const r=to(t);Bt(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>n?gn(Gn(i)):Gn(i));e._assign(e.multiple?r?new Set(s):s:s[0])}),e._assign=Yn(o)},mounted(e,{value:t}){Fr(e,t)},beforeUpdate(e,t,n){e._assign=Yn(n)},updated(e,{value:t}){Fr(e,t)}};function Fr(e,t){const n=e.multiple;if(!(n&&!q(t)&&!to(t))){for(let o=0,r=e.options.length;o<r;o++){const s=e.options[o],i=Gn(s);if(n)q(t)?s.selected=Li(t,i)>-1:s.selected=t.has(i);else if(Qn(Gn(s),t)){e.selectedIndex!==o&&(e.selectedIndex=o);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Gn(e){return"_value"in e?e._value:e.value}const Zu=["ctrl","shift","alt","meta"],Xu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Zu.some(n=>e[`${n}Key`]&&!t.includes(n))},dt=(e,t)=>(n,...o)=>{for(let r=0;r<t.length;r++){const s=Xu[t[r]];if(s&&s(n,t))return}return e(n,...o)},Zn={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):un(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),un(e,!0),o.enter(e)):o.leave(e,()=>{un(e,!1)}):un(e,t))},beforeUnmount(e,{value:t}){un(e,t)}};function un(e,t){e.style.display=t?e._vod:"none"}const Qu=Ke({patchProp:Ku},Mu);let Vr;function ec(){return Vr||(Vr=du(Qu))}const po=(...e)=>{const t=ec().createApp(...e),{mount:n}=t;return t.mount=o=>{const r=tc(o);if(!r)return;const s=t._component;!te(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.innerHTML="";const i=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),i},t};function tc(e){return Oe(e)?document.querySelector(e):e}/*!
* rete v1.5.0-rc1 
* (c) 2022 Vitaliy Stoliarov 
* Released under the MIT license.
*/function Hr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,o)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hr(Object(n),!0).forEach(function(o){E(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hr(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function ie(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ie=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=typeof Symbol=="function"?Symbol:{},r=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function a(k,b,H){return Object.defineProperty(k,b,{value:H,enumerable:!0,configurable:!0,writable:!0}),k[b]}try{a({},"")}catch{a=function(b,H,Z){return b[H]=Z}}function u(k,b,H,Z){var F=b&&b.prototype instanceof d?b:d,ke=Object.create(F.prototype),ae=new he(Z||[]);return ke._invoke=function(se,oe,v){var y="suspendedStart";return function(C,W){if(y==="executing")throw new Error("Generator is already running");if(y==="completed"){if(C==="throw")throw W;return Ze()}for(v.method=C,v.arg=W;;){var R=v.delegate;if(R){var le=J(R,v);if(le){if(le===l)continue;return le}}if(v.method==="next")v.sent=v._sent=v.arg;else if(v.method==="throw"){if(y==="suspendedStart")throw y="completed",v.arg;v.dispatchException(v.arg)}else v.method==="return"&&v.abrupt("return",v.arg);y="executing";var xe=c(se,oe,v);if(xe.type==="normal"){if(y=v.done?"completed":"suspendedYield",xe.arg===l)continue;return{value:xe.arg,done:v.done}}xe.type==="throw"&&(y="completed",v.method="throw",v.arg=xe.arg)}}}(k,H,ae),ke}function c(k,b,H){try{return{type:"normal",arg:k.call(b,H)}}catch(Z){return{type:"throw",arg:Z}}}e.wrap=u;var l={};function d(){}function h(){}function m(){}var $={};a($,r,function(){return this});var P=Object.getPrototypeOf,D=P&&P(P($e([])));D&&D!==t&&n.call(D,r)&&($=D);var T=m.prototype=d.prototype=Object.create($);function G(k){["next","throw","return"].forEach(function(b){a(k,b,function(H){return this._invoke(b,H)})})}function M(k,b){function H(F,ke,ae,se){var oe=c(k[F],k,ke);if(oe.type!=="throw"){var v=oe.arg,y=v.value;return y&&typeof y=="object"&&n.call(y,"__await")?b.resolve(y.__await).then(function(C){H("next",C,ae,se)},function(C){H("throw",C,ae,se)}):b.resolve(y).then(function(C){v.value=C,ae(v)},function(C){return H("throw",C,ae,se)})}se(oe.arg)}var Z;this._invoke=function(F,ke){function ae(){return new b(function(se,oe){H(F,ke,se,oe)})}return Z=Z?Z.then(ae,ae):ae()}}function J(k,b){var H=k.iterator[b.method];if(H===void 0){if(b.delegate=null,b.method==="throw"){if(k.iterator.return&&(b.method="return",b.arg=void 0,J(k,b),b.method==="throw"))return l;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var Z=c(H,k.iterator,b.arg);if(Z.type==="throw")return b.method="throw",b.arg=Z.arg,b.delegate=null,l;var F=Z.arg;return F?F.done?(b[k.resultName]=F.value,b.next=k.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0),b.delegate=null,l):F:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,l)}function ee(k){var b={tryLoc:k[0]};1 in k&&(b.catchLoc=k[1]),2 in k&&(b.finallyLoc=k[2],b.afterLoc=k[3]),this.tryEntries.push(b)}function Be(k){var b=k.completion||{};b.type="normal",delete b.arg,k.completion=b}function he(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(ee,this),this.reset(!0)}function $e(k){if(k){var b=k[r];if(b)return b.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var H=-1,Z=function F(){for(;++H<k.length;)if(n.call(k,H))return F.value=k[H],F.done=!1,F;return F.value=void 0,F.done=!0,F};return Z.next=Z}}return{next:Ze}}function Ze(){return{value:void 0,done:!0}}return h.prototype=m,a(T,"constructor",m),a(m,"constructor",h),h.displayName=a(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(k){var b=typeof k=="function"&&k.constructor;return!!b&&(b===h||(b.displayName||b.name)==="GeneratorFunction")},e.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,m):(k.__proto__=m,a(k,i,"GeneratorFunction")),k.prototype=Object.create(T),k},e.awrap=function(k){return{__await:k}},G(M.prototype),a(M.prototype,s,function(){return this}),e.AsyncIterator=M,e.async=function(k,b,H,Z,F){F===void 0&&(F=Promise);var ke=new M(u(k,b,H,Z),F);return e.isGeneratorFunction(b)?ke:ke.next().then(function(ae){return ae.done?ae.value:ke.next()})},G(T),a(T,i,"Generator"),a(T,r,function(){return this}),a(T,"toString",function(){return"[object Generator]"}),e.keys=function(k){var b=[];for(var H in k)b.push(H);return b.reverse(),function Z(){for(;b.length;){var F=b.pop();if(F in k)return Z.value=F,Z.done=!1,Z}return Z.done=!0,Z}},e.values=$e,he.prototype={constructor:he,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Be),!k)for(var b in this)b.charAt(0)==="t"&&n.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var b=this;function H(oe,v){return ke.type="throw",ke.arg=k,b.next=oe,v&&(b.method="next",b.arg=void 0),!!v}for(var Z=this.tryEntries.length-1;Z>=0;--Z){var F=this.tryEntries[Z],ke=F.completion;if(F.tryLoc==="root")return H("end");if(F.tryLoc<=this.prev){var ae=n.call(F,"catchLoc"),se=n.call(F,"finallyLoc");if(ae&&se){if(this.prev<F.catchLoc)return H(F.catchLoc,!0);if(this.prev<F.finallyLoc)return H(F.finallyLoc)}else if(ae){if(this.prev<F.catchLoc)return H(F.catchLoc,!0)}else{if(!se)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return H(F.finallyLoc)}}}},abrupt:function(k,b){for(var H=this.tryEntries.length-1;H>=0;--H){var Z=this.tryEntries[H];if(Z.tryLoc<=this.prev&&n.call(Z,"finallyLoc")&&this.prev<Z.finallyLoc){var F=Z;break}}F&&(k==="break"||k==="continue")&&F.tryLoc<=b&&b<=F.finallyLoc&&(F=null);var ke=F?F.completion:{};return ke.type=k,ke.arg=b,F?(this.method="next",this.next=F.finallyLoc,l):this.complete(ke)},complete:function(k,b){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&b&&(this.next=b),l},finish:function(k){for(var b=this.tryEntries.length-1;b>=0;--b){var H=this.tryEntries[b];if(H.finallyLoc===k)return this.complete(H.completion,H.afterLoc),Be(H),l}},catch:function(k){for(var b=this.tryEntries.length-1;b>=0;--b){var H=this.tryEntries[b];if(H.tryLoc===k){var Z=H.completion;if(Z.type==="throw"){var F=Z.arg;Be(H)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(k,b,H){return this.delegate={iterator:$e(k),resultName:b,nextLoc:H},this.method==="next"&&(this.arg=void 0),l}},e}function Wr(e,t,n,o,r,s,i){try{var a=e[s](i),u=a.value}catch(c){n(c);return}a.done?t(u):Promise.resolve(u).then(o,r)}function Ne(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function i(u){Wr(s,o,r,i,a,"next",u)}function a(u){Wr(s,o,r,i,a,"throw",u)}i(void 0)})}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ur(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ge(e,t,n){return t&&Ur(e.prototype,t),n&&Ur(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ao(e,t)}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tn(e)}function Ao(e,t){return Ao=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,r){return o.__proto__=r,o},Ao(e,t)}function nc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oc(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function Ge(e){var t=nc();return function(){var o=tn(e),r;if(t){var s=tn(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return oc(this,r)}}function rc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=tn(e),e!==null););return e}function Vn(){return typeof Reflect<"u"&&Reflect.get?Vn=Reflect.get.bind():Vn=function(t,n,o){var r=rc(t,n);if(r){var s=Object.getOwnPropertyDescriptor(r,n);return s.get?s.get.call(arguments.length<3?t:o):s.value}},Vn.apply(this,arguments)}function Mt(e,t){return ic(e)||uc(e,t)||er(e,t)||lc()}function Qe(e){return sc(e)||ac(e)||er(e)||cc()}function sc(e){if(Array.isArray(e))return Do(e)}function ic(e){if(Array.isArray(e))return e}function ac(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uc(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var o=[],r=!0,s=!1,i,a;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(o.push(i.value),!(t&&o.length===t));r=!0);}catch(u){s=!0,a=u}finally{try{!r&&n.return!=null&&n.return()}finally{if(s)throw a}}return o}}function er(e,t){if(e){if(typeof e=="string")return Do(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Do(e,t)}}function Do(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function cc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kr(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=er(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(u){throw u},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return s=u.done,u},e:function(u){i=!0,a=u},f:function(){try{!s&&n.return!=null&&n.return()}finally{if(i)throw a}}}}var dc=ge(function e(t){ve(this,e),E(this,"name",void 0),E(this,"data",{}),E(this,"engine",null),this.name=t}),Wt=function(){function e(t){ve(this,e),E(this,"name",void 0),E(this,"id",void 0),E(this,"position",[0,0]),E(this,"inputs",new Map),E(this,"outputs",new Map),E(this,"controls",new Map),E(this,"data",{}),E(this,"meta",{}),this.name=t,this.id=e.incrementId()}return ge(e,[{key:"_add",value:function(n,o,r){if(n.has(o.key))throw new Error("Item with key '".concat(o.key,"' already been added to the node"));if(o[r]!==null)throw new Error("Item has already been added to some node");o[r]=this,n.set(o.key,o)}},{key:"addControl",value:function(n){return this._add(this.controls,n,"parent"),this}},{key:"removeControl",value:function(n){n.parent=null,this.controls.delete(n.key)}},{key:"addInput",value:function(n){return this._add(this.inputs,n,"node"),this}},{key:"removeInput",value:function(n){n.removeConnections(),n.node=null,this.inputs.delete(n.key)}},{key:"addOutput",value:function(n){return this._add(this.outputs,n,"node"),this}},{key:"removeOutput",value:function(n){n.removeConnections(),n.node=null,this.outputs.delete(n.key)}},{key:"setMeta",value:function(n){return this.meta=n,this}},{key:"getConnections",value:function(){var n=[].concat(Qe(this.inputs.values()),Qe(this.outputs.values())),o=n.reduce(function(r,s){return[].concat(Qe(r),Qe(s.connections))},[]);return o}},{key:"update",value:function(){}},{key:"toJSON",value:function(){var n=function(r){return Array.from(r).reduce(function(s,i){var a=Mt(i,2),u=a[0],c=a[1];return s[u]=c.toJSON(),s},{})};return{id:this.id,data:this.data,inputs:n(this.inputs),outputs:n(this.outputs),position:this.position,name:this.name}}}],[{key:"incrementId",value:function(){return this.latestId?this.latestId++:this.latestId=1,this.latestId}},{key:"resetId",value:function(){this.latestId=0}},{key:"fromJSON",value:function(n){var o=new e(n.name),r=Mt(n.position,2),s=r[0],i=r[1];return o.id=n.id,o.data=n.data,o.position=[s,i],o.name=n.name,e.latestId=Math.max(o.id,e.latestId),o}}]),e}();E(Wt,"latestId",0);var ti=function(e){Ye(n,e);var t=Ge(n);function n(o){var r;return ve(this,n),r=t.call(this,o),E(j(r),"editor",null),E(j(r),"data",{}),r}return ge(n,[{key:"build",value:function(){var o=Ne(ie().mark(function s(i){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.builder(i);case 2:return u.abrupt("return",i);case 3:case"end":return u.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"createNode",value:function(){var o=Ne(ie().mark(function s(){var i,a,u=arguments;return ie().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=u.length>0&&u[0]!==void 0?u[0]:{},a=new Wt(this.name),a.data=i,l.next=5,this.build(a);case 5:return l.abrupt("return",a);case 6:case"end":return l.stop()}},s,this)}));function r(){return o.apply(this,arguments)}return r}()}]),n}(dc),ni=function(){function e(t,n){ve(this,e),E(this,"output",void 0),E(this,"input",void 0),E(this,"data",{}),this.output=t,this.input=n,this.data={},this.input.addConnection(this)}return ge(e,[{key:"remove",value:function(){this.input.removeConnection(this),this.output.removeConnection(this)}}]),e}(),ho=function(){function e(t){if(ve(this,e),E(this,"key",void 0),E(this,"data",{}),E(this,"parent",null),this.constructor===e)throw new TypeError("Can not construct abstract class");if(!t)throw new Error("The key parameter is missing in super() of Control ");this.key=t}return ge(e,[{key:"getNode",value:function(){if(this.parent===null)throw new Error("Control isn't added to Node/Input");if(this.parent instanceof Wt)return this.parent;if(!this.parent.node)throw new Error("Control hasn't be added to Input or Node");return this.parent.node}},{key:"getData",value:function(n){return this.getNode().data[n]}},{key:"putData",value:function(n,o){this.getNode().data[n]=o}}]),e}(),zt=function(){function e(t){ve(this,e),E(this,"events",{}),E(this,"silent",!1),this.events=t instanceof e?t.events:t.handlers}return ge(e,[{key:"on",value:function(n,o){var r=this,s=n instanceof Array?n:n.split(" ");return s.forEach(function(i){if(!r.events[i])throw new Error("The event ".concat(i," does not exist"));r.events[i].push(o)}),this}},{key:"trigger",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(n in this.events))throw new Error("The event ".concat(String(n)," cannot be triggered"));return this.events[n].reduce(function(r,s){return s(o)!==!1&&r},!0)}},{key:"bind",value:function(n){if(this.events[n])throw new Error("The event ".concat(n," is already bound"));this.events[n]=[]}},{key:"exist",value:function(n){return Array.isArray(this.events[n])}}]),e}(),tr=function(){function e(t,n,o,r){ve(this,e),E(this,"node",null),E(this,"multipleConnections",void 0),E(this,"connections",[]),E(this,"key",void 0),E(this,"name",void 0),E(this,"socket",void 0),this.node=null,this.multipleConnections=r,this.connections=[],this.key=t,this.name=n,this.socket=o}return ge(e,[{key:"removeConnection",value:function(n){this.connections.splice(this.connections.indexOf(n),1)}},{key:"removeConnections",value:function(){var n=this;this.connections.forEach(function(o){return n.removeConnection(o)})}}]),e}(),nr=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s){var i,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return ve(this,n),i=t.call(this,o,r,s,a),E(j(i),"control",null),i}return ge(n,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"addConnection",value:function(r){if(!this.multipleConnections&&this.hasConnection())throw new Error("Multiple connections not allowed");this.connections.push(r)}},{key:"addControl",value:function(r){this.control=r,r.parent=this}},{key:"showControl",value:function(){return!this.hasConnection()&&this.control!==null}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(r){if(!r.output.node)throw new Error("Node not added to Output");return{node:r.output.node.id,output:r.output.key,data:r.data}})}}}]),n}(tr),or=function(){function e(){ve(this,e)}return ge(e,null,[{key:"isValidData",value:function(n){return typeof n.id=="string"&&this.isValidId(n.id)&&n.nodes instanceof Object&&!(n.nodes instanceof Array)}},{key:"isValidId",value:function(n){return/^[\w-]{3,}@[0-9]+\.[0-9]+\.[0-9]+$/.test(n)}},{key:"validate",value:function(n,o){var r=n.split("@"),s=o.id.split("@"),i=[];return this.isValidData(o)||i.push("Data is not suitable"),n!==o.id&&i.push("IDs not equal"),r[0]!==s[0]&&i.push("Names don't match"),r[1]!==s[1]&&i.push("Versions don't match"),{success:Boolean(!i.length),msg:i.join(". ")}}}]),e}(),oi=function(e){Ye(n,e);var t=Ge(n);function n(o,r){var s;if(ve(this,n),s=t.call(this,r),E(j(s),"id",void 0),E(j(s),"plugins",void 0),E(j(s),"components",void 0),!or.isValidId(o))throw new Error("ID should be valid to name@0.1.0 format");return s.id=o,s.plugins=new Map,s.components=new Map,s}return ge(n,[{key:"use",value:function(r,s){if(r.name&&this.plugins.has(r.name))throw new Error("Plugin ".concat(r.name," already in use"));r.install(this,s||{}),this.plugins.set(r.name,s)}},{key:"register",value:function(r){if(this.components.has(r.name))throw new Error("Component ".concat(r.name," already registered"));this.components.set(r.name,r),this.trigger("componentregister",r)}},{key:"destroy",value:function(){this.trigger("destroy")}}]),n}(zt);function $t(e,t){return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}var ri=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a,u,c){},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(a){},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(a){};ve(this,e),this.onTranslate=n,this.onStart=o,this.onDrag=r,E(this,"pointerStart",void 0),E(this,"el",void 0),E(this,"destroy",void 0),this.pointerStart=null,this.el=t,this.el.style.touchAction="none",this.el.addEventListener("pointerdown",this.down.bind(this));var s=$t("pointermove",this.move.bind(this)),i=$t("pointerup",this.up.bind(this));this.destroy=function(){s(),i()}}return ge(e,[{key:"down",value:function(n){n.pointerType==="mouse"&&n.button!==0||(n.stopPropagation(),this.pointerStart=[n.pageX,n.pageY],this.onStart(n))}},{key:"move",value:function(n){if(this.pointerStart){n.preventDefault();var o=[n.pageX,n.pageY],r=o[0],s=o[1],i=[r-this.pointerStart[0],s-this.pointerStart[1]],a=this.el.getBoundingClientRect().width/this.el.offsetWidth;this.onTranslate(i[0]/a,i[1]/a,n)}}},{key:"up",value:function(n){this.pointerStart&&(this.pointerStart=null,this.onDrag(n))}}]),e}(),fc=function(){function e(t,n,o,r){ve(this,e),E(this,"el",void 0),E(this,"intensity",void 0),E(this,"onzoom",void 0),E(this,"previous",null),E(this,"pointers",[]),E(this,"destroy",void 0),this.el=n,this.intensity=o,this.onzoom=r,t.addEventListener("wheel",this.wheel.bind(this)),t.addEventListener("pointerdown",this.down.bind(this)),t.addEventListener("dblclick",this.dblclick.bind(this));var s=$t("pointermove",this.move.bind(this)),i=$t("pointerup",this.end.bind(this)),a=$t("pointercancel",this.end.bind(this));this.destroy=function(){s(),i(),a()}}return ge(e,[{key:"translating",get:function(){return this.pointers.length>=2}},{key:"wheel",value:function(n){n.preventDefault();var o=this.el.getBoundingClientRect(),r=n.deltaY<0,s=r?this.intensity:-this.intensity,i=(o.left-n.clientX)*s,a=(o.top-n.clientY)*s;this.onzoom(s,i,a,"wheel")}},{key:"touches",value:function(){var n={touches:this.pointers},o=[n.touches[0].clientX,n.touches[0].clientY],r=o[0],s=o[1],i=[n.touches[1].clientX,n.touches[1].clientY],a=i[0],u=i[1],c=Math.sqrt(Math.pow(r-a,2)+Math.pow(s-u,2));return{cx:(r+a)/2,cy:(s+u)/2,distance:c}}},{key:"down",value:function(n){this.pointers.push(n)}},{key:"move",value:function(n){if(this.pointers=this.pointers.map(function(d){return d.pointerId===n.pointerId?n:d}),!!this.translating){var o=this.el.getBoundingClientRect(),r=this.touches(),s=r.cx,i=r.cy,a=r.distance;if(this.previous!==null){var u=a/this.previous.distance-1,c=(o.left-s)*u,l=(o.top-i)*u;this.onzoom(u,c-(this.previous.cx-s),l-(this.previous.cy-i),"touch")}this.previous={cx:s,cy:i,distance:a}}}},{key:"end",value:function(n){this.previous=null,this.pointers=this.pointers.filter(function(o){return o.pointerId!==n.pointerId})}},{key:"dblclick",value:function(n){n.preventDefault();var o=this.el.getBoundingClientRect(),r=4*this.intensity,s=(o.left-n.clientX)*r,i=(o.top-n.clientY)*r;this.onzoom(r,s,i,"dblclick")}}]),e}(),pc=function(e){Ye(n,e);var t=Ge(n);function n(o,r){var s;ve(this,n),s=t.call(this,r),E(j(s),"el",void 0),E(j(s),"container",void 0),E(j(s),"transform",{k:1,x:0,y:0}),E(j(s),"mouse",{x:0,y:0}),E(j(s),"_startPosition",null),E(j(s),"_zoom",void 0),E(j(s),"_drag",void 0);var i=s.el=document.createElement("div");return s.container=o,i.style.transformOrigin="0 0",s._zoom=new fc(o,i,.1,s.onZoom.bind(j(s))),s._drag=new ri(o,s.onTranslate.bind(j(s)),s.onStart.bind(j(s))),r.on("destroy",function(){s._zoom.destroy(),s._drag.destroy()}),s.container.addEventListener("pointermove",s.pointermove.bind(j(s))),s.update(),s}return ge(n,[{key:"update",value:function(){var r=this.transform;this.el.style.transform="translate(".concat(r.x,"px, ").concat(r.y,"px) scale(").concat(r.k,")")}},{key:"pointermove",value:function(r){var s=r.clientX,i=r.clientY,a=this.el.getBoundingClientRect(),u=s-a.left,c=i-a.top,l=this.transform.k;this.mouse={x:u/l,y:c/l},this.trigger("mousemove",zo({},this.mouse))}},{key:"onStart",value:function(){this._startPosition=zo({},this.transform)}},{key:"onTranslate",value:function(r,s){this._zoom.translating||this._startPosition&&this.translate(this._startPosition.x+r,this._startPosition.y+s)}},{key:"onZoom",value:function(r,s,i,a){this.zoom(this.transform.k*(1+r),s,i,a),this.update()}},{key:"translate",value:function(r,s){var i={transform:this.transform,x:r,y:s};this.trigger("translate",i)&&(this.transform.x=i.x,this.transform.y=i.y,this.update(),this.trigger("translated"))}},{key:"zoom",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,u=this.transform.k,c={transform:this.transform,zoom:r,source:a};if(this.trigger("zoom",c)){var l=(u-c.zoom)/(u-r||1);this.transform.k=c.zoom||1,this.transform.x+=s*l,this.transform.y+=i*l,this.update(),this.trigger("zoomed",{source:a})}}},{key:"appendChild",value:function(r){this.el.appendChild(r)}},{key:"removeChild",value:function(r){this.el.removeChild(r)}}]),n}(zt),hc=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s,i){var a;return ve(this,n),a=t.call(this,i),E(j(a),"connection",void 0),E(j(a),"inputNode",void 0),E(j(a),"outputNode",void 0),E(j(a),"el",void 0),a.connection=o,a.inputNode=r,a.outputNode=s,a.el=document.createElement("div"),a.el.style.position="absolute",a.el.style.zIndex="-1",a.trigger("renderconnection",{el:a.el,connection:a.connection,points:a.getPoints()}),a}return ge(n,[{key:"getPoints",value:function(){var r=this.connection,s=r.input,i=r.output;if(this.inputNode.hasSocket(s)&&this.outputNode.hasSocket(i)){var a=this.outputNode.getSocketPosition(i),u=Mt(a,2),c=u[0],l=u[1],d=this.inputNode.getSocketPosition(s),h=Mt(d,2),m=h[0],$=h[1];return[c,l,m,$]}return[0,0,0,0]}},{key:"update",value:function(){this.trigger("updateconnection",{el:this.el,connection:this.connection,points:this.getPoints()})}}]),n}(zt),mc=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s){var i;return ve(this,n),i=t.call(this,s),i.trigger("rendercontrol",{el:o,control:r}),i}return ge(n)}(zt),vc=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s,i,a){var u,c;return ve(this,n),c=t.call(this,a),E(j(c),"el",void 0),E(j(c),"type",void 0),E(j(c),"io",void 0),E(j(c),"node",void 0),c.el=o,c.type=r,c.io=s,c.node=i,c.trigger("rendersocket",(u={el:o},E(u,r,c.io),E(u,"socket",s.socket),u)),c}return ge(n,[{key:"getPosition",value:function(r){var s=r.position,i=this.el;return[s[0]+i.offsetLeft+i.offsetWidth/2,s[1]+i.offsetTop+i.offsetHeight/2]}}]),n}(zt),gc=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s){var i;return ve(this,n),i=t.call(this,s),E(j(i),"node",void 0),E(j(i),"component",void 0),E(j(i),"sockets",new Map),E(j(i),"controls",new Map),E(j(i),"el",void 0),E(j(i),"_startPosition",[]),E(j(i),"_drag",void 0),i.node=o,i.component=r,i.el=document.createElement("div"),i.el.style.position="absolute",i.el.addEventListener("contextmenu",function(a){return i.trigger("contextmenu",{e:a,node:i.node})}),i._drag=new ri(i.el,i.onTranslate.bind(j(i)),i.onSelect.bind(j(i)),function(){i.trigger("nodedraged",o),i.trigger("nodedragged",o)}),i.trigger("rendernode",{el:i.el,node:o,component:r.data,bindSocket:i.bindSocket.bind(j(i)),bindControl:i.bindControl.bind(j(i))}),i.update(),i}return ge(n,[{key:"clearSockets",value:function(){var r=this,s=[].concat(Qe(this.node.inputs.values()),Qe(this.node.outputs.values()));this.sockets.forEach(function(i){s.includes(i.io)||r.sockets.delete(i.io)})}},{key:"bindSocket",value:function(r,s,i){this.clearSockets(),this.sockets.set(i,new vc(r,s,i,this.node,this))}},{key:"bindControl",value:function(r,s){this.controls.set(s,new mc(r,s,this))}},{key:"hasSocket",value:function(r){return this.sockets.has(r)}},{key:"getSocketPosition",value:function(r){var s=this.sockets.get(r);if(!s)throw new Error("Socket not found for ".concat(r.name," with key ").concat(r.key));return s.getPosition(this.node)}},{key:"onSelect",value:function(r){var s={node:this.node,accumulate:r.ctrlKey,e:r};this.onStart(),this.trigger("multiselectnode",s),this.trigger("selectnode",s)}},{key:"onStart",value:function(){this._startPosition=Qe(this.node.position)}},{key:"onTranslate",value:function(r,s){this.trigger("translatenode",{node:this.node,dx:r,dy:s})}},{key:"onDrag",value:function(r,s){var i=this._startPosition[0]+r,a=this._startPosition[1]+s;this.translate(i,a)}},{key:"translate",value:function(r,s){var i=this.node,a={node:i,x:r,y:s};if(this.trigger("nodetranslate",a)){var u=Mt(i.position,2),c=u[0],l=u[1],d=[c,l];i.position[0]=a.x,i.position[1]=a.y,this.update(),this.trigger("nodetranslated",{node:i,prev:d})}}},{key:"update",value:function(){var r=Mt(this.node.position,2),s=r[0],i=r[1];this.el.style.transform="translate(".concat(s,"px, ").concat(i,"px)")}},{key:"remove",value:function(){}},{key:"destroy",value:function(){this._drag.destroy()}}]),n}(zt),yc=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s){var i;return ve(this,n),i=t.call(this,s),E(j(i),"container",void 0),E(j(i),"components",void 0),E(j(i),"nodes",new Map),E(j(i),"connections",new Map),E(j(i),"area",void 0),i.container=o,i.components=r,i.container.style.overflow="hidden",i.container.addEventListener("click",i.click.bind(j(i))),i.container.addEventListener("contextmenu",function(a){return i.trigger("contextmenu",{e:a,view:j(i)})}),s.on("destroy",$t("resize",i.resize.bind(j(i)))),s.on("destroy",function(){return i.nodes.forEach(function(a){return a.destroy()})}),i.on("nodetranslated",i.updateConnections.bind(j(i))),i.on("rendersocket",function(a){var u=a.socket,c=Array.from(i.connections.entries()),l=c.filter(function(d){var h=Mt(d,1),m=h[0],$=m.input,P=m.output;return[$.socket,P.socket].includes(u)});l.forEach(function(d){var h=Mt(d,2);h[0];var m=h[1];return requestAnimationFrame(function(){return m.update()})})}),i.area=new pc(o,j(i)),i.container.appendChild(i.area.el),i}return ge(n,[{key:"addNode",value:function(r){var s=this.components.get(r.name);if(!s)throw new Error("Component ".concat(r.name," not found"));var i=new gc(r,s,this);this.nodes.set(r,i),this.area.appendChild(i.el)}},{key:"removeNode",value:function(r){var s=this.nodes.get(r);this.nodes.delete(r),s&&(this.area.removeChild(s.el),s.destroy())}},{key:"addConnection",value:function(r){if(!r.input.node||!r.output.node)throw new Error("Connection input or output not added to node");var s=this.nodes.get(r.input.node),i=this.nodes.get(r.output.node);if(!s||!i)throw new Error("View node not found for input or output");var a=new hc(r,s,i,this);this.connections.set(r,a),this.area.appendChild(a.el)}},{key:"removeConnection",value:function(r){var s=this.connections.get(r);this.connections.delete(r),s&&this.area.removeChild(s.el)}},{key:"updateConnections",value:function(r){var s=this,i=r.node;i.getConnections().forEach(function(a){var u=s.connections.get(a);if(!u)throw new Error("Connection view not found");u.update()})}},{key:"resize",value:function(){var r=this.container;if(!r.parentElement)throw new Error("Container doesn't have parent element");var s=r.parentElement.clientWidth,i=r.parentElement.clientHeight;r.style.width=s+"px",r.style.height=i+"px"}},{key:"click",value:function(r){var s=this.container;s===r.target&&this.trigger("click",{e:r,container:s})}}]),n}(zt),bc=function(){function e(){ve(this,e),E(this,"list",[])}return ge(e,[{key:"add",value:function(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o?this.contains(n)||this.list.push(n):this.list=[n]}},{key:"clear",value:function(){this.list=[]}},{key:"remove",value:function(n){this.list.splice(this.list.indexOf(n),1)}},{key:"contains",value:function(n){return this.list.indexOf(n)!==-1}},{key:"each",value:function(n){this.list.forEach(n)}}]),e}(),si=ge(function e(t){ve(this,e),E(this,"handlers",void 0),this.handlers=zo({warn:[console.warn],error:[console.error],componentregister:[],destroy:[]},t)}),wc=function(e){Ye(n,e);var t=Ge(n);function n(){return ve(this,n),t.call(this,{nodecreate:[],nodecreated:[],noderemove:[],noderemoved:[],connectioncreate:[],connectioncreated:[],connectionremove:[],connectionremoved:[],translatenode:[],nodetranslate:[],nodetranslated:[],nodedraged:[],nodedragged:[],selectnode:[],multiselectnode:[],nodeselect:[],nodeselected:[],rendernode:[],rendersocket:[],rendercontrol:[],renderconnection:[],updateconnection:[],keydown:[],keyup:[],translate:[],translated:[],zoom:[],zoomed:[],click:[],mousemove:[],contextmenu:[],import:[],export:[],process:[],clear:[]})}return ge(n)}(si),ii=function(e){Ye(n,e);var t=Ge(n);function n(o,r){var s;return ve(this,n),s=t.call(this,o,new wc),E(j(s),"nodes",[]),E(j(s),"selected",new bc),E(j(s),"view",void 0),s.view=new yc(r,s.components,j(s)),s.on("destroy",$t("keydown",function(i){return s.trigger("keydown",i)})),s.on("destroy",$t("keyup",function(i){return s.trigger("keyup",i)})),s.on("selectnode",function(i){var a=i.node,u=i.accumulate;return s.selectNode(a,u)}),s.on("nodeselected",function(){return s.selected.each(function(i){var a=s.view.nodes.get(i);a&&a.onStart()})}),s.on("translatenode",function(i){var a=i.dx,u=i.dy;return s.selected.each(function(c){var l=s.view.nodes.get(c);l&&l.onDrag(a,u)})}),s}return ge(n,[{key:"addNode",value:function(r){this.trigger("nodecreate",r)&&(this.nodes.push(r),this.view.addNode(r),this.trigger("nodecreated",r))}},{key:"removeNode",value:function(r){var s=this;this.trigger("noderemove",r)&&(r.getConnections().forEach(function(i){return s.removeConnection(i)}),this.nodes.splice(this.nodes.indexOf(r),1),this.view.removeNode(r),this.trigger("noderemoved",r))}},{key:"connect",value:function(r,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.trigger("connectioncreate",{output:r,input:s}))try{var a=r.connectTo(s);a.data=i,this.view.addConnection(a),this.trigger("connectioncreated",a)}catch(u){this.trigger("warn",u)}}},{key:"removeConnection",value:function(r){this.trigger("connectionremove",r)&&(this.view.removeConnection(r),r.remove(),this.trigger("connectionremoved",r))}},{key:"selectNode",value:function(r){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.nodes.indexOf(r)===-1)throw new Error("Node not exist in list");this.trigger("nodeselect",r)&&(this.selected.add(r,s),this.trigger("nodeselected",r))}},{key:"getComponent",value:function(r){var s=this.components.get(r);if(!s)throw"Component ".concat(r," not found");return s}},{key:"register",value:function(r){Vn(tn(n.prototype),"register",this).call(this,r),r.editor=this}},{key:"clear",value:function(){var r=this;Qe(this.nodes).forEach(function(s){return r.removeNode(s)}),this.trigger("clear")}},{key:"toJSON",value:function(){var r={id:this.id,nodes:{}};return this.nodes.forEach(function(s){return r.nodes[s.id]=s.toJSON()}),this.trigger("export",r),r}},{key:"beforeImport",value:function(r){var s=or.validate(this.id,r);return s.success?(this.silent=!0,this.clear(),this.trigger("import",r),!0):(this.trigger("warn",s.msg),!1)}},{key:"afterImport",value:function(){return this.silent=!1,!0}},{key:"fromJSON",value:function(){var o=Ne(ie().mark(function s(i){var a=this,u;return ie().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.beforeImport(i)){l.next=2;break}return l.abrupt("return",!1);case 2:return u={},l.prev=3,l.next=6,Promise.all(Object.keys(i.nodes).map(function(){var d=Ne(ie().mark(function h(m){var $,P;return ie().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return $=i.nodes[m],P=a.getComponent($.name),T.next=4,P.build(Wt.fromJSON($));case 4:u[m]=T.sent,a.addNode(u[m]);case 6:case"end":return T.stop()}},h)}));return function(h){return d.apply(this,arguments)}}()));case 6:Object.keys(i.nodes).forEach(function(d){var h=i.nodes[d],m=u[d];Object.keys(h.outputs).forEach(function($){var P=h.outputs[$];P.connections.forEach(function(D){var T=D.node,G=D.data,M=m.outputs.get($),J=u[T].inputs.get(D.input);if(!M||!J)return a.trigger("error","IO not found for node ".concat(m.id));a.connect(M,J,G)})})}),l.next=13;break;case 9:return l.prev=9,l.t0=l.catch(3),this.trigger("warn",l.t0),l.abrupt("return",!this.afterImport());case 13:return l.abrupt("return",this.afterImport());case 14:case"end":return l.stop()}},s,this,[[3,9]])}));function r(s){return o.apply(this,arguments)}return r}()}]),n}(oi),Sn=function(e){Ye(n,e);var t=Ge(n);function n(o,r,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ve(this,n),t.call(this,o,r,s,i)}return ge(n,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"connectTo",value:function(r){if(!this.socket.compatibleWith(r.socket))throw new Error("Sockets not compatible");if(!r.multipleConnections&&r.hasConnection())throw new Error("Input already has one connection");if(!this.multipleConnections&&this.hasConnection())throw new Error("Output already has one connection");var s=new ni(this,r);return this.connections.push(s),s}},{key:"connectedTo",value:function(r){return this.connections.some(function(s){return s.input===r})}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(r){if(!r.input.node)throw new Error("Node not added to Input");return{node:r.input.node.id,input:r.input.key,data:r.data}})}}}]),n}(tr),Cn=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ve(this,e),E(this,"name",void 0),E(this,"data",void 0),E(this,"compatible",[]),this.name=t,this.data=n,this.compatible=[]}return ge(e,[{key:"combineWith",value:function(n){this.compatible.push(n)}},{key:"compatibleWith",value:function(n){return this===n||this.compatible.includes(n)}}]),e}();function _c(e,t){return e.filter(function(n){return t.indexOf(n)!==-1})}var ai=function(){function e(t){ve(this,e),E(this,"nodes",void 0),this.nodes=t}return ge(e,[{key:"extractInputNodes",value:function(n){var o=this;return Object.keys(n.inputs).reduce(function(r,s){var i=n.inputs[s].connections,a=(i||[]).reduce(function(u,c){return[].concat(Qe(u),[o.nodes[c.node]])},[]);return[].concat(Qe(r),Qe(a))},[])}},{key:"findSelf",value:function(n,o){var r=_c(n,o);if(r.length)return r[0];var s=Kr(o),i;try{for(s.s();!(i=s.n()).done;){var a=i.value,u=[a].concat(Qe(n)),c=this.findSelf(u,this.extractInputNodes(a));if(c)return c}}catch(l){s.e(l)}finally{s.f()}return null}},{key:"detect",value:function(){var n=this,o=Object.keys(this.nodes).map(function(u){return n.nodes[u]}),r=Kr(o),s;try{for(r.s();!(s=r.n()).done;){var i=s.value,a=this.findSelf([i],this.extractInputNodes(i));if(a)return a}}catch(u){r.e(u)}finally{r.f()}return null}}]),e}(),st={AVAILABLE:0,PROCESSED:1,ABORT:2},kc=function(e){Ye(n,e);var t=Ge(n);function n(){return ve(this,n),t.call(this,{})}return ge(n)}(si),ui=function(e){Ye(n,e);var t=Ge(n);function n(o){var r;return ve(this,n),r=t.call(this,o,new kc),E(j(r),"args",[]),E(j(r),"data",null),E(j(r),"state",st.AVAILABLE),E(j(r),"forwarded",new Set),E(j(r),"onAbort",function(){}),r}return ge(n,[{key:"clone",value:function(){var r=new n(this.id);return this.components.forEach(function(s){return r.register(s)}),r}},{key:"throwError",value:function(){var o=Ne(ie().mark(function s(i){var a,u=arguments;return ie().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=u.length>1&&u[1]!==void 0?u[1]:null,l.next=3,this.abort();case 3:return this.trigger("error",{message:i,data:a}),this.processDone(),l.abrupt("return","error");case 6:case"end":return l.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"processStart",value:function(){return this.state===st.AVAILABLE?(this.state=st.PROCESSED,!0):(this.state===st.ABORT||console.warn(`The process is busy and has not been restarted.
                Use abort() to force it to complete`),!1)}},{key:"processDone",value:function(){var r=this.state!==st.ABORT;return this.state=st.AVAILABLE,r||(this.onAbort(),this.onAbort=function(){}),r}},{key:"abort",value:function(){var o=Ne(ie().mark(function s(){var i=this;return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){i.state===st.PROCESSED?(i.state=st.ABORT,i.onAbort=c):i.state===st.ABORT?(i.onAbort(),i.onAbort=c):c()}));case 1:case"end":return u.stop()}},s)}));function r(){return o.apply(this,arguments)}return r}()},{key:"lock",value:function(){var o=Ne(ie().mark(function s(i){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){i.unlockPool=i.unlockPool||[],i.busy&&!i.outputData?i.unlockPool.push(c):c(),i.busy=!0}));case 1:case"end":return u.stop()}},s)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"unlock",value:function(r){r.unlockPool.forEach(function(s){return s()}),r.unlockPool=[],r.busy=!1}},{key:"extractInputData",value:function(){var o=Ne(ie().mark(function s(i){var a=this,u,c,l,d,h,m,$;return ie().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:u={},c=0,l=Object.keys(i.inputs);case 2:if(!(c<l.length)){D.next=13;break}return d=l[c],h=i.inputs[d],m=h.connections,D.next=8,Promise.all(m.map(function(){var T=Ne(ie().mark(function G(M){var J,ee;return ie().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return J=a.data.nodes[M.node],he.next=3,a.processNode(J);case 3:if(ee=he.sent,ee){he.next=8;break}a.abort(),he.next=9;break;case 8:return he.abrupt("return",ee[M.output]);case 9:case"end":return he.stop()}},G)}));return function(G){return T.apply(this,arguments)}}()));case 8:$=D.sent,u[d]=$;case 10:c++,D.next=2;break;case 13:return D.abrupt("return",u);case 14:case"end":return D.stop()}},s)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"processWorker",value:function(){var o=Ne(ie().mark(function s(i){var a,u,c;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this.extractInputData(i);case 2:return a=d.sent,u=this.components.get(i.name),c={},d.prev=5,d.next=8,u.worker.apply(u,[i,a,c].concat(Qe(this.args)));case 8:d.next=14;break;case 10:d.prev=10,d.t0=d.catch(5),this.abort(),this.trigger("warn",d.t0);case 14:return d.abrupt("return",c);case 15:case"end":return d.stop()}},s,this,[[5,10]])}));function r(s){return o.apply(this,arguments)}return r}()},{key:"processNode",value:function(){var o=Ne(ie().mark(function s(i){return ie().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.state===st.ABORT||!i)){u.next=2;break}return u.abrupt("return",null);case 2:return u.next=4,this.lock(i);case 4:if(i.outputData){u.next=8;break}return u.next=7,this.processWorker(i);case 7:i.outputData=u.sent;case 8:return this.unlock(i),u.abrupt("return",i.outputData);case 10:case"end":return u.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"forwardProcess",value:function(){var o=Ne(ie().mark(function s(i){var a=this;return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.state!==st.ABORT){c.next=2;break}return c.abrupt("return",null);case 2:return c.next=4,Promise.all(Object.keys(i.outputs).map(function(){var l=Ne(ie().mark(function d(h){var m;return ie().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return m=i.outputs[h],P.next=3,Promise.all(m.connections.map(function(){var D=Ne(ie().mark(function T(G){var M;return ie().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(M=a.data.nodes[G.node],a.forwarded.has(M)){ee.next=7;break}return a.forwarded.add(M),ee.next=5,a.processNode(M);case 5:return ee.next=7,a.forwardProcess(M);case 7:case"end":return ee.stop()}},T)}));return function(T){return D.apply(this,arguments)}}()));case 3:return P.abrupt("return",P.sent);case 4:case"end":return P.stop()}},d)}));return function(d){return l.apply(this,arguments)}}()));case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"copy",value:function(r){return r=Object.assign({},r),r.nodes=Object.assign({},r.nodes),Object.keys(r.nodes).forEach(function(s){r.nodes[s]=Object.assign({},r.nodes[s])}),r}},{key:"validate",value:function(){var o=Ne(ie().mark(function s(i){var a,u,c;return ie().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(a=or.validate(this.id,i),u=new ai(i.nodes),a.success){d.next=6;break}return d.next=5,this.throwError(a.msg);case 5:return d.abrupt("return",d.sent);case 6:if(c=u.detect(),!c){d.next=11;break}return d.next=10,this.throwError("Recursion detected",c);case 10:return d.abrupt("return",d.sent);case 11:return d.abrupt("return",!0);case 12:case"end":return d.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"processStartNode",value:function(){var o=Ne(ie().mark(function s(i){var a;return ie().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i){c.next=2;break}return c.abrupt("return");case 2:if(a=this.data.nodes[i],a){c.next=7;break}return c.next=6,this.throwError("Node with such id not found");case 6:return c.abrupt("return",c.sent);case 7:return c.next=9,this.processNode(a);case 9:return c.next=11,this.forwardProcess(a);case 11:case"end":return c.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()},{key:"processUnreachable",value:function(){var o=Ne(ie().mark(function s(){var i,a,u;return ie().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=this.data,l.t0=ie().keys(i.nodes);case 2:if((l.t1=l.t0()).done){l.next=12;break}if(a=l.t1.value,u=i.nodes[a],!(typeof u.outputData>"u")){l.next=10;break}return l.next=8,this.processNode(u);case 8:return l.next=10,this.forwardProcess(u);case 10:l.next=2;break;case 12:case"end":return l.stop()}},s,this)}));function r(){return o.apply(this,arguments)}return r}()},{key:"process",value:function(){var o=Ne(ie().mark(function s(i){var a,u,c,l,d=arguments;return ie().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=d.length>1&&d[1]!==void 0?d[1]:null,this.processStart()){m.next=3;break}return m.abrupt("return");case 3:if(this.validate(i)){m.next=5;break}return m.abrupt("return");case 5:for(this.data=this.copy(i),u=d.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=d[l];return this.args=c,this.forwarded=new Set,m.next=11,this.processStartNode(a);case 11:return m.next=13,this.processUnreachable();case 13:return m.abrupt("return",this.processDone()?"success":"aborted");case 14:case"end":return m.stop()}},s,this)}));function r(s){return o.apply(this,arguments)}return r}()}]),n}(oi),pe={Engine:ui,Recursion:ai,Component:ti,Control:ho,Connection:ni,Emitter:zt,Input:nr,IO:tr,Node:Wt,NodeEditor:ii,Output:Sn,Socket:Cn};class Sc{constructor(){x(this,"listeners",new Map);this.listeners}on(t,n,o){for(const r of t)this.listeners.get(r)||this.listeners.set(r,new Map),this.listeners.get(r).set(n,o)}removeListener(t){for(const n of this.listeners.keys())this.listeners.get(n)&&this.listeners.get(n).delete(t)}trigger(t,...n){if(this.listeners.get(t))for(const o of this.listeners.get(t).keys())new Promise(r=>setTimeout(r,0)).then(()=>{this.listeners.has(t)&&this.listeners.get(t).has(o)&&this.listeners.get(t).get(o)(t,n)})}clear(){this.listeners=new Map}}/*!
* rete-vue-render-plugin v1.0.0-rc2 
* (c) 2021 Vitaliy Stoliarov 
* Released under the MIT license.
*/function ci(e){if(!e||typeof window>"u")return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}function qr(e,t,n,o,r,s,i){try{var a=e[s](i),u=a.value}catch(c){n(c);return}a.done?t(u):Promise.resolve(u).then(o,r)}function Jr(e){return function(){var t=this,n=arguments;return new Promise(function(o,r){var s=e.apply(t,n);function i(u){qr(s,o,r,i,a,"next",u)}function a(u){qr(s,o,r,i,a,"throw",u)}i(void 0)})}}function Cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),o.forEach(function(r){Cc(e,r,n[r])})}return e}var xc={props:["node","editor","bindSocket","bindControl"],methods:{inputs:function(){return Array.from(this.node.inputs.values())},outputs:function(){return Array.from(this.node.outputs.values())},controls:function(){return Array.from(this.node.controls.values())},selected:function(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount:function(t,n){n.instance.bindSocket(t,n.arg,n.value)},updated:function(t,n){n.instance.bindSocket(t,n.arg,n.value)}},control:{beforeMount:function(t,n){n.value&&n.instance.bindControl(t,n.value)}}}};function di(e){var t=function(o){return o.toLowerCase().replace(/ /g,"-")};return Array.isArray(e)?e.map(t):t(e)}var On=qe({props:["type","socket"],setup(e){return{className:kt(()=>di([e.type,e.socket.name]))}}});const Pc=Ts(),Ec=Pc((e,t,n,o,r,s)=>(z(),Fe("div",{class:["socket",e.className],title:e.socket.name},null,10,["title"])));ci(`.socket[data-v-51f75f2c] {
  display: inline-block;
  cursor: pointer;
  border: 1px solid white;
  border-radius: 12px;
  width: 24px;
  height: 24px;
  margin: 6px;
  vertical-align: middle;
  background: #96b38a;
  z-index: 2;
  box-sizing: border-box;
}
.socket[data-v-51f75f2c][data-v-51f75f2c]:hover {
  border-width: 4px;
}
.socket[data-v-51f75f2c].multiple[data-v-51f75f2c] {
  border-color: yellow;
}
.socket[data-v-51f75f2c].output[data-v-51f75f2c] {
  margin-right: -12px;
}
.socket[data-v-51f75f2c].input[data-v-51f75f2c] {
  margin-left: -12px;
}`);On.render=Ec;On.__scopeId="data-v-51f75f2c";On.__file="src/Socket.vue";var $n=qe({name:"node",components:{Socket:On},mixins:[xc],setup(e){const t=()=>e.editor.selected.contains(e.node)?"selected":"";return{className:kt(()=>di([t(),e.node.name]))}}});const Ic=Ts();En("data-v-f9277b0a");const Oc={class:"title"},$c={class:"output-title"},Nc={class:"input-control"};In();const Tc=Ic((e,t,n,o,r,s)=>{const i=Ae("Socket"),a=Kn("socket"),u=Kn("control");return z(),Fe("div",{class:["node",e.className]},[ne("div",Oc,Le(e.node.name),1),Ee(" Outputs"),(z(!0),Fe(ce,null,Re(e.outputs(),c=>(z(),Fe("div",{class:"output",key:c.key},[ne("div",$c,Le(c.name),1),nt(ne(i,{type:"output",socket:c.socket},null,8,["socket"]),[[a,c,"output"]])]))),128)),Ee(" Controls"),(z(!0),Fe(ce,null,Re(e.controls(),c=>nt((z(),Fe("div",{class:"control",key:c.key},null,512)),[[u,c]])),128)),Ee(" Inputs"),(z(!0),Fe(ce,null,Re(e.inputs(),c=>(z(),Fe("div",{class:"input",key:c.key},[nt(ne(i,{type:"input",socket:c.socket},null,8,["socket"]),[[a,c,"input"]]),nt(ne("div",{class:"input-title"},Le(c.name),513),[[Zn,!c.showControl()]]),nt(ne("div",Nc,null,512),[[Zn,c.showControl()],[u,c.control]])]))),128))],2)});ci(`.node[data-v-f9277b0a] {
  background: rgba(110, 136, 255, 0.8);
  border: 2px solid #4e58bf;
  border-radius: 10px;
  cursor: pointer;
  min-width: 180px;
  height: auto;
  padding-bottom: 6px;
  box-sizing: content-box;
  position: relative;
  user-select: none;
}
.node[data-v-f9277b0a][data-v-f9277b0a]:hover {
  background: rgba(130, 153, 255, 0.8);
}
.node[data-v-f9277b0a].selected[data-v-f9277b0a] {
  background: #ffd92c;
  border-color: #e3c000;
}
.node[data-v-f9277b0a] .title[data-v-f9277b0a] {
  color: white;
  font-family: sans-serif;
  font-size: 18px;
  padding: 8px;
}
.node[data-v-f9277b0a] .output[data-v-f9277b0a] {
  text-align: right;
}
.node[data-v-f9277b0a] .input[data-v-f9277b0a] {
  text-align: left;
}
.node[data-v-f9277b0a] .input-title[data-v-f9277b0a], .node[data-v-f9277b0a] .output-title[data-v-f9277b0a] {
  vertical-align: middle;
  color: white;
  display: inline-block;
  font-family: sans-serif;
  font-size: 14px;
  margin: 6px;
  line-height: 24px;
}
.node[data-v-f9277b0a] .input-control[data-v-f9277b0a] {
  z-index: 1;
  width: calc(100% - 36px);
  vertical-align: middle;
  display: inline-block;
}
.node[data-v-f9277b0a] .control[data-v-f9277b0a] {
  padding: 6px 18px;
}`);$n.render=Tc;$n.__scopeId="data-v-f9277b0a";$n.__file="src/Node.vue";function fi(e,t,n){var o=arguments.length>4?arguments[4]:void 0,r=po(t,n);return o.vueContext=r.mount(e),r}function Mc(e,t,n,o){var r=n.el,s=n.node,i=n.component,a=n.bindSocket,u=n.bindControl,c=i.component||t||$n,l=li({},i.props,{node:s,editor:e,bindSocket:a,bindControl:u});return fi(r,c,l,o,s)}function zc(e,t,n){var o=t.el,r=t.control,s=r.component,i=li({},r.props,{getData:r.getData.bind(r),putData:r.putData.bind(r)});return fi(o,s,i,n,r)}var cn=function(t){return new Promise(function(n){if(!t.vueContext)return n();t.vueContext.$forceUpdate(),t.vueContext.$nextTick(n)})};function Ac(e,t){var n=t.component,o=t.options;e.on("rendernode",function(r){var s=r.el,i=r.node,a=r.component,u=r.bindSocket,c=r.bindControl;a.render&&a.render!=="vue"||(i._vue=Mc(e,n,{el:s,node:i,component:a,bindSocket:u,bindControl:c},o),i.update=Jr(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,cn(i);case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},l)})))}),e.on("rendercontrol",function(r){var s=r.el,i=r.control;i.render&&i.render!=="vue"||(i._vue=zc(e,{el:s,control:i},o),i.update=Jr(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,cn(i);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},a)})))}),e.on("connectioncreated connectionremoved",function(r){cn(r.output.node),cn(r.input.node)}),e.on("nodeselected",function(){e.nodes.map(cn)})}var Dc={name:"vue-render",install:Ac,Node:$n,Socket:On};/*!
* rete-connection-plugin v0.9.0 
* (c) 2019 Vitaliy Stoliarov 
* Released under the MIT license.
*/function Lc(e){if(e&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function sr(e,t,n){return t&&Yr(e.prototype,t),n&&Yr(e,n),e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pi(e,t){return Rc(e)||jc(e,t)||Bc()}function Rc(e){if(Array.isArray(e))return e}function jc(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(o=(a=i.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(u){r=!0,s=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(r)throw s}}return n}function Bc(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Ln(e){return e.toLowerCase().replace(/ /g,"-")}function hi(e,t){return e.get(t)||(t.parentElement?hi(e,t.parentElement):null)}function Fc(e,t){var n=pi(e,4),o=n[0],r=n[1],s=n[2],i=n[3],a=o+Math.abs(s-o)*t,u=s-Math.abs(s-o)*t;return"M ".concat(o," ").concat(r," C ").concat(a," ").concat(r," ").concat(u," ").concat(i," ").concat(s," ").concat(i)}function Xn(e,t,n){var o={points:t,connection:n,d:""};return e.trigger("connectionpath",o),o.d||Fc(t,.4)}function ir(e){var t=e.el,n=e.d,o=t.querySelector(".connection path");if(!o)throw new Error("Path of connection was broken");o.setAttribute("d",n)}function mi(e){var t,n=e.el,o=e.d,r=e.connection,s=r?["input-"+Ln(r.input.name),"output-"+Ln(r.output.name),"socket-input-"+Ln(r.input.socket.name),"socket-output-"+Ln(r.output.socket.name)]:[],i=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");(t=i.classList).add.apply(t,["connection"].concat(s)),a.classList.add("main-path"),a.setAttribute("d",o),i.appendChild(a),n.appendChild(i),ir({el:n,d:o})}var Vc=function(){function e(t,n){rr(this,e),this.emitter=t,this.editorView=n,Zt(this,"el",void 0),this.el=document.createElement("div"),this.el.style.position="absolute",this.editorView.area.appendChild(this.el)}return sr(e,[{key:"updatePseudoConnection",value:function(n){n!==null?this.renderConnection(n):this.el.parentElement&&(this.el.innerHTML="")}},{key:"getPoints",value:function(n){var o=this.editorView.area.mouse;if(!n.node)throw new Error("Node in output/input not found");var r=this.editorView.nodes.get(n.node);if(!r)throw new Error("Node view not found");var s=r.getSocketPosition(n),i=pi(s,2),a=i[0],u=i[1];return n instanceof Sn?[a,u,o.x,o.y]:[o.x,o.y,a,u]}},{key:"updateConnection",value:function(n){var o=Xn(this.emitter,this.getPoints(n));ir({el:this.el,d:o})}},{key:"renderConnection",value:function(n){var o=Xn(this.emitter,this.getPoints(n));mi({el:this.el,d:o})}}]),e}(),Hc=function(){function e(t){var n=this;rr(this,e),Zt(this,"editor",void 0),Zt(this,"_io",null),Zt(this,"view",void 0),this.editor=t,this.view=new Vc(t,t.view),t.on("mousemove",function(){return n.io&&n.view.updateConnection(n.io)})}return sr(e,[{key:"reset",value:function(){this.io=null}},{key:"pickOutput",value:function(n){if(this.editor.trigger("connectionpick",n)){if(this.io instanceof nr){!n.multipleConnections&&n.hasConnection()&&this.editor.removeConnection(n.connections[0]),this.editor.connect(n,this.io),this.reset();return}this.io&&this.reset(),this.io=n}}},{key:"pickInput",value:function(n){var o=this;if(this.editor.trigger("connectionpick",n)){if(this.io===null)return n.hasConnection()?(this.io=n.connections[0].output,this.editor.removeConnection(n.connections[0])):this.io=n,!0;if(!n.multipleConnections&&n.hasConnection()&&this.editor.removeConnection(n.connections[0]),!this.io.multipleConnections&&this.io.hasConnection()&&this.editor.removeConnection(this.io.connections[0]),this.io instanceof Sn&&this.io.connectedTo(n)){var r=n.connections.find(function(s){return s.output===o.io});r&&this.editor.removeConnection(r)}this.io instanceof Sn&&(this.editor.connect(this.io,n),this.reset())}}},{key:"pickConnection",value:function(n){var o=n.output;this.editor.removeConnection(n),this.io=o}},{key:"io",get:function(){return this._io},set:function(n){this._io=n,this.view.updatePseudoConnection(n)}}]),e}(),Wc=function(){function e(t){rr(this,e),Zt(this,"picker",void 0),Zt(this,"target",void 0),this.picker=t,this.target=null}return sr(e,[{key:"act",value:function(n){var o=n.input,r=n.output;this.unlock(o||r)||(o?this.picker.pickInput(o):r?this.picker.pickOutput(r):this.picker.reset())}},{key:"start",value:function(n,o){this.act(n),this.target=o}},{key:"complete",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.act(n)}},{key:"hasTarget",value:function(){return Boolean(this.target)}},{key:"unlock",value:function(n){var o=this.target;return this.target=null,o&&o===n}}]),e}();Lc(`.connection {
  overflow: visible !important;
  position: absolute;
  z-index: -1;
  pointer-events: none; }
  .connection > * {
    pointer-events: all; }
  .connection .main-path {
    fill: none;
    stroke-width: 5px;
    stroke: steelblue; }
`);function Uc(e){e.bind("connectionpath"),e.bind("connectiondrop"),e.bind("connectionpick"),e.bind("resetconnection");var t=new Hc(e),n=new Wc(t),o=new WeakMap;function r(i){var a=o.get(this);if(a){var u=a.input,c=a.output;e.view.container.dispatchEvent(new PointerEvent("pointermove",i)),i.preventDefault(),i.stopPropagation(),n.start({input:u,output:c},u||c)}}function s(i){var a=document.elementFromPoint(i.clientX,i.clientY);t.io&&e.trigger("connectiondrop",t.io),a&&n.complete(hi(o,a)||{})}e.on("resetconnection",function(){return n.complete()}),e.on("rendersocket",function(i){var a=i.el,u=i.input,c=i.output;o.set(a,{input:u,output:c}),a.removeEventListener("pointerdown",r),a.addEventListener("pointerdown",r)}),window.addEventListener("pointerup",s),e.on("renderconnection",function(i){var a=i.el,u=i.connection,c=i.points,l=Xn(e,c,u);mi({el:a,d:l,connection:u})}),e.on("updateconnection",function(i){var a=i.el,u=i.connection,c=i.points,l=Xn(e,c,u);ir({el:a,d:l})}),e.on("destroy",function(){window.removeEventListener("pointerup",s)})}var Kc={name:"connection",install:Uc};const Kt=class{constructor(t){x(this,"name");x(this,"logs",[]);x(this,"subscriptions",{});this.name=t,this.log("Init")}static stringify(t,n){return t.stringify?t.content.map(t.stringify):n?t.content.map(o=>JSON.stringify(o)):t.content}static introString(t){return`(${t.loggerName})${t.level=="error"?" Error":t.level=="warn"?" Warn":""}:`}static writeToConsole(t){console.log(this.introString(t),...this.stringify(t))}export(){return Kt.export(this.logs)}static export(t){return t.map(n=>this.introString(n)+" "+Kt.stringify(n,!0)).reduce((n,o)=>`${n}
${o}`)}write(t,n="log",o){let r={content:t,loggerName:this.name,level:"log",stringify:o};Object.keys(this.subscriptions).forEach(s=>this.subscriptions[s]?this.subscriptions[s](r):void 0),this.logs.push(r),Kt.writeToConsole(r)}log(...t){this.write(t)}info(...t){this.write(t,"info")}error(...t){this.write(t,"error")}warn(...t){this.write(t,"warn")}onWrite(t){const n=(Kt.lastId++).toString();return this.subscriptions[n]=t,n}cancelSubscription(t){this.subscriptions[t]=void 0}};let hn=Kt;x(hn,"lastId",0);class qc{constructor(t,n){x(this,"name");x(this,"components");this.name=t,this.components=n}install(t,n){typeof t==typeof V?t.registerAll(this.components):this.components.forEach(o=>{t.register(o)})}}class Gr{constructor(t){x(this,"name");x(this,"refSocket");x(this,"valSocket");this.name=t,this.refSocket=new Cn(t+" ref"),this.valSocket=new Cn(t+" val")}}class Jc{constructor(){x(this,"anyTypeSocket",new Gr("any"));x(this,"anySocket",new Cn("*"));x(this,"typeSocket",new Cn("type"));x(this,"types");x(this,"actSocket",()=>this.get("act").valSocket);x(this,"eventSocket",()=>this.get("act").refSocket);x(this,"numSocket",()=>this.get("number"));x(this,"textSocket",()=>this.get("text"));x(this,"boolSocket",()=>this.get("boolean"));x(this,"processSocket",()=>this.get("process").refSocket);this.types=new Map,this.anySocket.combineWith(this.anyTypeSocket.refSocket),this.anySocket.combineWith(this.anyTypeSocket.valSocket),this.anyTypeSocket.valSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(this.anySocket),this.types.set("any",this.anyTypeSocket)}typeList(){let t=Array.from(this.types.entries()).map(([r,s])=>s),n=t.map(r=>r.valSocket),o=t.map(r=>r.refSocket);return[this.anySocket,this.typeSocket,...n,...o].sort()}add(t){if(!(t in this.types.keys())){const n=new Gr(t);this.types.set(t,n),n.refSocket.combineWith(this.anyTypeSocket.refSocket),n.valSocket.combineWith(this.anyTypeSocket.valSocket),n.valSocket.combineWith(this.anySocket),n.refSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(n.refSocket),this.anyTypeSocket.valSocket.combineWith(n.valSocket),this.anySocket.combineWith(n.refSocket),this.anySocket.combineWith(n.valSocket)}}getRefByVal(t){return t.name=="type"||t.name=="*"?t:this.get(t.name.replace(" val","")).refSocket}getValByRef(t){return t.name=="type"||t.name=="*"?t:this.get(t.name.replace(" ref","")).valSocket}getSocket(t){return this.typeList().find(n=>n.name==t)}get(t){return this.types.get(t)}}const re=new Jc;re.add("text");re.add("number");re.add("boolean");re.add("act");re.add("process");re.numSocket().valSocket.combineWith(re.textSocket().valSocket);class tt extends ti{worker(t,n,o,r){if(r.compilerCommands){let s={};Object.keys(n).forEach(u=>s[u]=n[u][0]);let i=t.name.toLowerCase()+"_"+t.id,a=this.compile(t,s,i);Object.keys(n).forEach(u=>{n[u][0]}),a.commands=a.commands.length>0?[{node_id:t.id,commands:`
//Process Node ${t.name}-${t.id}
`},...a.commands]:[],r.compilerCommands.push(a),Object.keys(t.outputs).forEach(u=>{o[u]=a.outputs[u]});return}else{let s={};if(Object.keys(n).forEach(i=>{s[i]=n[i].length>0?n[i][0]:a=>{}}),Object.keys(t.outputs).forEach(i=>{o[i]=this.process(t,i,s,r)}),!r.silent&&(Object.keys(t.outputs).find(i=>t.outputs[i].connections.length==0)||Object.keys(t.outputs).length==0))for(let i of Object.keys(t.outputs))this.process(t,i,s,r)({})}}}class Yc extends tt{constructor(){super("ConditionNode");x(this,"process",(n,o,r,s)=>{switch(o){case"res":return i=>{if(!s.silent){const u=this.editor.nodes.find(c=>c.id==n.id);if(u){const c=u.getConnections().find((m,$)=>m.input.key=="if"),l=u.getConnections().find((m,$)=>m.input.key=="else"),d=u.getConnections().find((m,$)=>m.input.key=="res");let h=re.anySocket;c&&c.output.socket?h=c.output.socket:l&&l.output.socket?h=l.output.socket:d&&d.output.socket&&(h=d.output.socket),this.reconnectInput(u.inputs.get("if"),c,h),this.reconnectInput(u.inputs.get("else"),l,h),this.reconnectOutput(u.outputs.get("res"),d,h)}}return(r.bool(i)?r.if:r.else)(i)};default:return i=>{}}});x(this,"data",{i18nKeys:["cond"],category:[["controlflow"]]})}compile(n,o,r){return{node_id:n.id,commands:[],outputs:{res:{node_id:n.id,commands:[{node_id:n.id,commands:" ( ( "},o.bool,{node_id:n.id,commands:" )?"},o.if,{node_id:n.id,commands:":"},o.else,{node_id:n.id,commands:" ) "}]}},processDependencys:[]}}async builder(n){var a,u,c,l;const o=new pe.Input("bool",(a=Y(["cond"]))!=null?a:"Condition",re.boolSocket().valSocket),r=new pe.Input("if",(u=Y(["if"]))!=null?u:"If",re.anySocket),s=new pe.Input("else",(c=Y(["else"]))!=null?c:"Else",re.anySocket),i=new pe.Output("res",(l=Y(["res"]))!=null?l:"Result",re.anySocket);n.addInput(o).addInput(r).addInput(s).addOutput(i)}reconnectOutput(n,o,r){n&&(r.compatibleWith(n.socket)||o==null||o.remove(),n.socket=r)}reconnectInput(n,o,r){n&&(r.compatibleWith(n.socket)||o==null||o.remove(),n.socket=r)}}class vi extends ho{constructor(n,o){super(o);x(this,"default");this.default=n}setValue(n){this.vueContext.value=n!=null?n:this.default}getValue(){var n;return(n=this.vueContext.value)!=null?n:this.vueContext.value=this.default}}const Gc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueBoolComponent",data(){return{value:!1}},methods:{change(e){this.readonly||(this.value=!this.value),this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)||!1}};const Te=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Zc={class:"control title"},Xc={class:"container"},Qc={class:"background-container"};function el(e,t,n,o,r,s){return z(),B(ce,null,[Q("div",Zc,Le(n.title?n.title+":":""),1),Q("div",Xc,[Q("div",{class:"switch",onClick:t[0]||(t[0]=i=>s.change(i))},[Q("div",Qc,[Q("div",{class:je("background "+(r.value?"checked":""))},null,2)]),Q("div",{class:je("box "+(r.value?"checked":""))},null,2)])])],64)}const tl=Te(Gc,[["render",el],["__scopeId","data-v-f0f120dc"]]);class ar extends vi{constructor(n,o,r=!1,s=null){super(!1,o);x(this,"component");x(this,"props");x(this,"vueContext");this.component=tl,this.props={readonly:r,emitter:n,ikey:o,title:s}}}class nl extends tt{constructor(){super("BoolNode");x(this,"process",(n,o,r,s)=>{switch(o){case"bool":return i=>n.data.bool;default:return i=>{}}});x(this,"data",{i18nKeys:["bool"],category:[["values"]]})}compile(n,o,r){return{node_id:n.id,commands:[{commands:`const ${r} = ${n.data.bool}`,node_id:n.id}],outputs:{bool:{node_id:n.id,commands:`${r}`}},processDependencys:[]}}async builder(n){const o=new pe.Output("bool",Y(["bool"])||"Boolean",re.boolSocket().valSocket);n.addControl(new ar(r=>{var s;return(s=this.editor)==null?void 0:s.trigger("process")},"bool",!1)).addOutput(o)}}const ol={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueNumComponent",data(){return{value:0}},methods:{change(e){this.value=+e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){var e;this.value=(e=this.getData(this.ikey))!=null?e:0}};const rl={class:"control title"},sl=["readonly","value"];function il(e,t,n,o,r,s){return z(),B(ce,null,[Q("div",rl,Le(n.title?n.title+":":""),1),Q("input",{type:"number",readonly:n.readonly,value:r.value,onInput:t[0]||(t[0]=i=>s.change(i)),onDblclick:t[1]||(t[1]=dt(()=>{},["stop"])),onPointerdown:t[2]||(t[2]=dt(()=>{},["stop"])),onPointermove:t[3]||(t[3]=dt(()=>{},["stop"]))},null,40,sl)],64)}const al=Te(ol,[["render",il],["__scopeId","data-v-fc37d61d"]]);class Pe extends vi{constructor(n,o,r=!1,s=null){super(0,o);x(this,"component");x(this,"props");this.component=al,this.props={emitter:n,ikey:o,readonly:r,title:s}}}class ul extends tt{constructor(){super("NumNode");x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>n.data.num;default:return i=>{}}});x(this,"data",{i18nKeys:["num"],category:[["values"]]})}compile(n,o,r){return{node_id:n.id,commands:[{commands:`const ${r} = ${n.data.num}`,node_id:n.id}],outputs:{num:{node_id:n.id,commands:`${r}`}},processDependencys:[]}}async builder(n){const o=new pe.Output("num",Y(["num"])||"Number",re.numSocket().valSocket);n.addControl(new Pe(r=>{var s;return(s=V.instance)==null?void 0:s.trigger("process")},"num",!1)).addOutput(o)}}const cl={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueTextComponent",data(){return{value:""}},methods:{change(e){this.value=e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)}};const ll={class:"title control"},dl=["readonly","value"];function fl(e,t,n,o,r,s){return z(),B(ce,null,[Q("div",ll,Le(n.title?n.title+":":""),1),Q("input",{type:"text",readonly:n.readonly,value:r.value,onInput:t[0]||(t[0]=i=>s.change(i)),onDblclick:t[1]||(t[1]=dt(()=>{},["stop"])),onPointerdown:t[2]||(t[2]=dt(()=>{},["stop"])),onPointermove:t[3]||(t[3]=dt(()=>{},["stop"]))},null,40,dl)],64)}const pl=Te(cl,[["render",fl],["__scopeId","data-v-d1c830aa"]]);class gi extends ho{constructor(n,o,r=!1,s=null){super(o);x(this,"component");x(this,"props");this.component=pl,this.props={emitter:n,ikey:o,readonly:r,title:s}}setValue(n){this.vueContext.value=n}}class hl extends tt{constructor(){super("InputNumNode");x(this,"data",{i18nKeys:["numIn"],category:[["processes"]],process:{type:"input",socket:re.numSocket().valSocket}});x(this,"process",(n,o,r,s)=>{switch(o){case"val":return function(a){var l;let u=n.data.key;return s.silent?a[u]:(l=n.data.val)!=null?l:0};default:return i=>{}}})}async builder(n){var r;const o=new pe.Output("val",(r=Y(["num"]))!=null?r:"Number",re.numSocket().valSocket);n.addControl(new Pe(s=>{var i;return(i=V.instance)==null?void 0:i.trigger("process")},"val",!1)),n.addControl(new gi(s=>{var i;return(i=V.instance)==null?void 0:i.trigger("process")},"key",!1)).addOutput(o)}compile(n,o,r){return{node_id:n.id,commands:[],outputs:{val:{node_id:n.id,commands:`inputs.${n.data.key}`}},processDependencys:[]}}}const ml=qe({props:{readonly:Boolean,emitter:Function,ikey:String,getData:Function,putData:Function,title:String,options:Array},name:"VueSelectComponent",data(){return{value:0}},methods:{change(e){this.value=e,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){var e;this.value=(e=this.getData(this.ikey))!=null?e:0}});const vl={class:"control title"},gl={key:0,value:"-1",style:{color:"red"}},yl=["value"];function bl(e,t,n,o,r,s){return z(),B(ce,null,[Q("div",vl,Le(e.title?e.title+":":""),1),nt(Q("select",{name:"drop_select",onDblclick:t[0]||(t[0]=dt(()=>{},["stop"])),onPointerdown:t[1]||(t[1]=dt(()=>{},["stop"])),onPointermove:t[2]||(t[2]=dt(()=>{},["stop"])),onChange:t[3]||(t[3]=i=>e.update()),"onUpdate:modelValue":t[4]||(t[4]=i=>e.value=i)},[e.value==-1?(z(),B("option",gl,"Error")):Ee("",!0),(z(!0),B(ce,null,Re(e.options,(i,a)=>(z(),B("option",{value:i},Le(i),9,yl))),256))],544),[[Gu,e.value]])],64)}const wl=Te(ml,[["render",bl],["__scopeId","data-v-bfd903e1"]]);class _l extends ho{constructor(n,o,r=!1,s=null){super(o);x(this,"component");x(this,"props");x(this,"options",V.getProcessIDs().map(({index:n,id:o})=>o.replace("@0.1.0","")));this.component=wl;const i=a=>{n(a)};this.props={emitter:i,ikey:o,readonly:r,title:s,options:this.options}}}class kl extends tt{constructor(){super("ProcessNode");x(this,"data",{i18nKeys:["process"],category:[["processes"]]});x(this,"process",(n,o,r,s)=>{let i=V.instance.processProcess(n.data.id);return a=>{var c,l;let u={};if(Object.keys(r).forEach(d=>{u[d]=r[d](a)}),i||(i=V.instance.processProcess(n.data.id),(c=V.instance)==null||c.logger.log("Fetching the Compiled Process")),i){let d;try{d=i(u)}catch{(l=V.instance)==null||l.logger.log("Error During:",i.toString())}if(d&&d[o])return d[o];console.trace()}}})}async builder(n){n.addControl(new _l(o=>{this.updateIos(o,n)},"id",!1)),this.updateIos(n.data.id,n)}updateIos(n,o){let r=[],s=[],i=V.getIOS(n);r=i.inputs,s=i.outputs,o.inputs.forEach(a=>{r.find(u=>a.key==u.key)||(a.connections.forEach(u=>{var c;(c=this.editor)==null||c.removeConnection(u),u.remove()}),o.removeInput(a))}),o.outputs.forEach(a=>{s.find(u=>a.key==u.key)||(a.connections.forEach(u=>{var c;(c=this.editor)==null||c.removeConnection(u),u.remove()}),o.removeOutput(a))}),r.forEach(a=>{o.inputs.has(a.key)||o.addInput(new nr(a.key,a.name,a.socket))}),s.forEach(a=>{o.outputs.has(a.key)||o.addOutput(new Sn(a.key,a.name,a.socket))}),o.update()}worker(n,o,r,s){var a;let i=(a=this.editor)==null?void 0:a.nodes.find(u=>u.id==n.id);i&&this.updateIos(n.data.id,i),super.worker(n,o,r,s)}compile(n,o,r){var c;let s=n.data.id;r=s+"_"+n.id;let i=V.getIOS(s).outputs,a={};(c=V.instance)==null||c.logger.log(n.data.id,n.id,o);let u=[{node_id:n.id,commands:"{"}];return Object.keys(o).forEach(l=>{u.length>1&&u.push({node_id:n.id,commands:", "}),u.push({node_id:n.id,commands:`${l}: `}),u.push(o[l])}),u.push({node_id:n.id,commands:"} "}),i.forEach(({key:l})=>{a[l]={node_id:n.id,commands:`( ${r}_get().${l} )`}}),{node_id:n.id,commands:[{node_id:n.id,commands:`
let ${r}_result;
                    
const ${r}_get = ()=> ${r}_result||=${s}(
                    `},{node_id:n.id,commands:u},{node_id:n.id,commands:` );
                    `}],outputs:a,processDependencys:[s]}}}class Sl extends tt{constructor(){super("OutputNumNode");x(this,"data",{i18nKeys:["numOut"],category:[["processes"]],process:{type:"output",socket:re.numSocket().valSocket}});x(this,"process",(n,o,r,s)=>{switch(o){case"res":return i=>{var u,c,l;let a=r.val(i);if(!s.silent){const d=(l=(c=(u=this.editor)==null?void 0:u.nodes)==null?void 0:c.find(h=>h.id==n.id))==null?void 0:l.controls.get("val");d==null||d.setValue(a)}return a};default:return i=>{}}})}async builder(n){var r;const o=new pe.Input("val",(r=Y(["num"]))!=null?r:"Number",re.numSocket().valSocket);n.addControl(new Pe(s=>{},"val",!0)),n.addControl(new gi(s=>{var i;return(i=V.instance)==null?void 0:i.trigger("process")},"key",!1)).addInput(o)}compile(n,o,r){return{node_id:n.id,commands:o.val&&n.data.key.length>0?[{node_id:n.id,commands:[{node_id:n.id,commands:`output.${n.data.key} = `},o.val]}]:[],outputs:{},processDependencys:[]}}worker(n,o,r,s){var c,l;super.worker(n,o,r,s);const i=n.data.key,a=(c=o.val[0])!=null?c:d=>{};let u=(l=this.process(n,"res",{val:a},s))!=null?l:d=>{};s.compilerOutputs&&(s.compilerOutputs[i]=u),s.silent||u({})}}class Cl extends tt{constructor(){super("Addition");x(this,"data",{i18nKeys:["add"],category:[["operators"]]});x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a+u;if(s.silent)console.trace();else{const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{num:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" + "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}async builder(n){const o=new pe.Input("num",Y(["addIn"])||"Addend",re.numSocket().valSocket),r=new pe.Input("num2",Y(["addIn"])||"Addend",re.numSocket().valSocket),s=new pe.Output("num",Y(["res"])||"Result",re.numSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,Y(["addIn"])||"Addend")),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,Y(["addIn"])||"Addend")),n.addInput(o).addInput(r).addControl(new Pe((i,a)=>{},"preview",!0,Y(["res"])||"Result")).addOutput(s)}}class xl extends tt{constructor(){super("EqualNode");x(this,"category",["Mathe"]);x(this,"data",{i18nKeys:["equal"],category:[["operators"]]});x(this,"compIn1",()=>Y(["compIn1"])||"A");x(this,"compIn2",()=>Y(["compIn1"])||"B");x(this,"res",()=>Y(["res"])||"Result");x(this,"process",(n,o,r,s)=>{switch(o){case"bool":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a==u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",this.compIn1(),re.numSocket().valSocket),r=new pe.Input("num2",this.compIn2(),re.numSocket().valSocket),s=new pe.Output("bool",this.res(),re.boolSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),n.addInput(o).addInput(r).addControl(new ar(i=>{},"preview",!0,this.res())).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{bool:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" == "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}class Pl extends tt{constructor(){super("GreaterNode");x(this,"category",["Mathe"]);x(this,"data",{i18nKeys:["greater"],category:[["operators"]]});x(this,"compIn1",()=>Y(["compIn1"])||"A");x(this,"compIn2",()=>Y(["compIn1"])||"B");x(this,"res",()=>Y(["res"])||"Result");x(this,"process",(n,o,r,s)=>{switch(o){case"bool":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a>u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",this.compIn1(),re.numSocket().valSocket),r=new pe.Input("num2",this.compIn2(),re.numSocket().valSocket),s=new pe.Output("bool",this.res(),re.boolSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),n.addInput(o).addInput(r).addControl(new ar(i=>{},"preview",!0,this.res())).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{bool:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" > "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}class El extends tt{constructor(){super("MultNode");x(this,"data",{i18nKeys:["mult"],category:[["operators"]]});x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a*u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",Y(["multIn"])||"Addend",re.numSocket().valSocket),r=new pe.Input("num2",Y(["multIn"])||"Addend",re.numSocket().valSocket),s=new pe.Output("num",Y(["res"])||"Result",re.numSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,Y(["multIn"])||"Addend")),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,Y(["multIn"])||"Addend")),n.addInput(o).addInput(r).addControl(new Pe((i,a)=>{},"preview",!0,Y(["res"])||"Result")).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{num:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" * "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}class Il extends tt{constructor(){super("Difference");x(this,"data",{i18nKeys:["sub"],category:[["operators"]]});x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a-u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",Y(["subIn"])||"Minuend",re.numSocket().valSocket),r=new pe.Input("num2",Y(["subIn2"])||"Subrtahend",re.numSocket().valSocket),s=new pe.Output("num",Y(["res"])||"Result",re.numSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,Y(["subIn"])||"Minuend")),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,Y(["subIn2"])||"Subrtahend")),n.addInput(o).addInput(r).addControl(new Pe((i,a)=>{},"preview",!0,Y(["res"])||"Result")).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{num:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" - "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}class Ol extends tt{constructor(){super("Modulo");x(this,"data",{i18nKeys:["modulo"],category:[["operators"]]});x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a%u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",Y(["modIn"])||"a",re.numSocket().valSocket),r=new pe.Input("num2",Y(["modIn2"])||"Module",re.numSocket().valSocket),s=new pe.Output("num",Y(["res"])||"Result",re.numSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,Y(["divIn"])||"a")),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,Y(["divIn2"])||"Module")),n.addInput(o).addInput(r).addControl(new Pe((i,a)=>{},"preview",!0,Y(["res"])||"Result")).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{num:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" % "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}class $l extends tt{constructor(){super("Divide");x(this,"data",{i18nKeys:["div"],category:[["operators"]]});x(this,"process",(n,o,r,s)=>{switch(o){case"num":return i=>{var l,d,h,m,$,P,D;const a=(d=(l=r.num(i))!=null?l:n.data.num)!=null?d:0,u=(m=(h=r.num2(i))!=null?h:n.data.num2)!=null?m:0,c=a/u;if(!s.silent){const T=(D=(P=($=this.editor)==null?void 0:$.nodes)==null?void 0:P.find(G=>G.id==n.id))==null?void 0:D.controls.get("preview");T==null||T.setValue(c)}return c};default:return i=>{}}})}async builder(n){const o=new pe.Input("num",Y(["divIn"])||"Zähler",re.numSocket().valSocket),r=new pe.Input("num2",Y(["divIn2"])||"Nenner",re.numSocket().valSocket),s=new pe.Output("num",Y(["res"])||"Result",re.numSocket().valSocket);o.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,Y(["divIn"])||"Zähler")),r.addControl(new Pe(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,Y(["divIn2"])||"Nenner")),n.addInput(o).addInput(r).addControl(new Pe((i,a)=>{},"preview",!0,Y(["res"])||"Result")).addOutput(s)}compile(n,o,r){var a,u;let s=o.num?o.num:{node_id:n.id,commands:`${(a=n.data.num)!=null?a:0}`},i=o.num2?o.num2:{node_id:n.id,commands:`${(u=n.data.num2)!=null?u:0}`};return{node_id:n.id,commands:[],outputs:{num:{commands:[{node_id:n.id,commands:" ( "},s,{node_id:n.id,commands:" / "},i,{node_id:n.id,commands:" ) "}],node_id:n.id}},processDependencys:[]}}}const Nl=new qc("StandardNodes",[new ul,new nl,new Cl,new El,new Pl,new xl,new Il,new hl,new Sl,new kl,new Yc,new Ol,new $l]);/*!
* rete-area-plugin v0.2.1 
* (c) 2019  
* Released under the ISC license.
*/function Tl(e){if(e&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}Tl(`.rete-background {
  display: table;
  z-index: -1;
  position: absolute;
  top: -320000px;
  left: -320000px;
  width: 640000px;
  height: 640000px;
}
.rete-background.default {
  background-size: 32px 32px;
  background-image: linear-gradient(to right, #ccc 1px, transparent 1px), linear-gradient(to bottom, #ccc 1px, transparent 1px);
}`);function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function yi(e,t,n){return t&&Zr(e.prototype,t),n&&Zr(e,n),e}function bi(e,t){return zl(e)||Dl(e,t)||Rl()}function wi(e){return Ml(e)||Al(e)||Ll()}function Ml(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function zl(e){if(Array.isArray(e))return e}function Al(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Dl(e,t){var n=[],o=!0,r=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(o=(a=i.next()).done)&&(n.push(a.value),!(t&&n.length===t));o=!0);}catch(u){r=!0,s=u}finally{try{!o&&i.return!=null&&i.return()}finally{if(r)throw s}}return n}function Ll(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Rl(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var jl=function e(t,n){if(ur(this,e),!!n){var o=n instanceof HTMLElement?n:document.createElement("div");o.classList+=" rete-background ".concat(n===!0?"default":""),t.view.area.appendChild(o)}},Bl=function(){function e(t,n,o){ur(this,e),this.editor=t,this.scaleExtent=n,this.translateExtent=o,n&&t.on("zoom",this.restrictZoom.bind(this)),o&&t.on("translate",this.restrictTranslate.bind(this))}return yi(e,[{key:"restrictZoom",value:function(n){var o=typeof this.scaleExtent=="boolean"?{min:.1,max:1}:this.scaleExtent;n.transform,n.zoom<o.min?n.zoom=o.min:n.zoom>o.max&&(n.zoom=o.max)}},{key:"restrictTranslate",value:function(n){var o=typeof this.translateExtent=="boolean"?{width:5e3,height:4e3}:this.translateExtent,r=this.editor.view.container,s=n.transform.k,i=o.width*s,a=o.height*s,u=r.clientWidth/2,c=r.clientHeight/2;n.x-=u,n.y-=c,n.x>i?n.x=i:n.x<-i&&(n.x=-i),n.y>a?n.y=a:n.y<-a&&(n.y=-a),n.x+=u,n.y+=c}}]),e}(),Fl=function(){function e(t,n){var o=this,r=n.size,s=r===void 0?16:r,i=n.dynamic,a=i===void 0?!0:i;ur(this,e),this.editor=t,this.size=s,a?this.editor.on("nodetranslate",this.onTranslate.bind(this)):this.editor.on("rendernode",function(u){var c=u.node,l=u.el;l.addEventListener("mouseup",o.onDrag.bind(o,c)),l.addEventListener("touchend",o.onDrag.bind(o,c)),l.addEventListener("touchcancel",o.onDrag.bind(o,c))})}return yi(e,[{key:"onTranslate",value:function(n){var o=n.x,r=n.y;n.x=this.snap(o),n.y=this.snap(r)}},{key:"onDrag",value:function(n){var o=bi(n.position,2),r=o[0],s=o[1];n.position[0]=this.snap(r),n.position[1]=this.snap(s),console.log(this,r,s,n.position),this.editor.view.nodes.get(n).update(),this.editor.view.updateConnections({node:n})}},{key:"snap",value:function(n){return Math.round(n/this.size)*this.size}}]),e}(),Xr=function(t){return t.length===0?0:Math.min.apply(Math,wi(t))},Qr=function(t){return t.length===0?0:Math.max.apply(Math,wi(t))};function Vl(e,t){var n=Xr(t.map(function(i){return i.position[0]})),o=Xr(t.map(function(i){return i.position[1]})),r=Qr(t.map(function(i){return i.position[0]+e.view.nodes.get(i).el.clientWidth})),s=Qr(t.map(function(i){return i.position[1]+e.view.nodes.get(i).el.clientHeight}));return{left:n,right:r,top:o,bottom:s,width:Math.abs(n-r),height:Math.abs(o-s),getCenter:function(){return[(n+r)/2,(o+s)/2]}}}function Hl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.nodes,n=Vl(e,t),o=n.getCenter(),r=bi(o,2),s=r[0],i=r[1],a=[e.view.container.clientWidth,e.view.container.clientHeight],u=a[0],c=a[1],l=e.view.area,d=u/n.width,h=c/n.height,m=Math.min(h*.9,d*.9,1);l.transform.x=l.container.clientWidth/2-s*m,l.transform.y=l.container.clientHeight/2-i*m,l.zoom(m,0,0),l.update()}function Wl(e,t){var n=t.background||!1,o=t.snap||!1,r=t.scaleExtent||!1,s=t.translateExtent||!1;n&&(this._background=new jl(e,n)),(r||s)&&(this._restrictor=new Bl(e,r,s)),o&&(this._snap=new Fl(e,o))}var Ul={install:Wl,zoomAt:Hl};function es(e){return JSON.parse(JSON.stringify(e))}async function _i(e,{data:t={},meta:n={},x:o=0,y:r=0}){const s=await e.createNode(es(t));return s.meta=Object.assign(es(n),s.meta),s.position[0]=o,s.position[1]=r,s}function cr(e,t,n=[]){for(const o in e){const r=e[o];typeof r.subitems=="object"?cr(r.subitems,t,n.slice(0)):t(r.title,r.callback,n)}}function Kl(e,t,n){return[Math.min(e,window.innerWidth-n.clientWidth),Math.min(t,window.innerHeight-n.clientHeight)]}function ql(e,t){let n;return(...o)=>{clearTimeout(n),n=setTimeout(()=>{e(...o)},t)}}const Jl=qe({props:{item:Object,args:Object,delay:{type:Number,required:!0}},emits:["hide","click"],setup(e,{emit:t}){let n=()=>{a()};const o=Ce(!1),r=kt(()=>e.item.subitems),s=()=>{const l=n;l&&l.cancel&&n.cancel()},i=()=>{var l;o.value=!0,(l=V.instance)==null||l.logger.log("Show subitems",e.item.subitems),s()},a=()=>{o.value=!1};return{onClick:l=>{l.stopPropagation(),t("click",e.item),t("hide")},showSubitems:i,timeoutHide:n,hasSubitems:r,visibleSubitems:o,subitemClicked:l=>{t("click",l)}}}}),Yl={key:0,class:"subitems"};function Gl(e,t,n,o,r,s){const i=Ae("Item",!0);return z(),B("div",{onClick:t[1]||(t[1]=(...a)=>e.onClick&&e.onClick(...a)),onMouseover:t[2]||(t[2]=(...a)=>e.showSubitems&&e.showSubitems(...a)),onMouseleave:t[3]||(t[3]=(...a)=>e.timeoutHide&&e.timeoutHide(...a)),class:je(["item",{hasSubitems:e.hasSubitems}])},[Pt(Le(e.item.title)+" ",1),e.hasSubitems&&e.visibleSubitems?(z(),B("div",Yl,[(z(!0),B(ce,null,Re(e.item.subitems,a=>(z(),Fe(i,{key:a.title,item:a,delay:e.delay,onHide:t[0]||(t[0]=u=>e.$emit("hide")),onClick:e.subitemClicked},null,8,["item","delay","onClick"]))),128))])):Ee("",!0)],34)}const Zl=Te(Jl,[["render",Gl],["__scopeId","data-v-89269b2a"]]);const Xl=qe({props:{value:{type:String,default:""}},emits:["search"],setup(e){return{valueRef:Ce(e.value)}}}),Ql={class:"search"};function ed(e,t,n,o,r,s){return z(),B("div",Ql,[nt(Q("input",{"onUpdate:modelValue":t[0]||(t[0]=i=>e.valueRef=i),onChange:t[1]||(t[1]=i=>e.$emit("search",e.valueRef))},null,544),[[Yu,e.valueRef]])])}const td=Te(Xl,[["render",ed],["__scopeId","data-v-78f75ee0"]]),nd=qe({components:{Item:Zl,Search:td},props:{searchBar:{type:Boolean,default:!1},searchKeep:{type:Function,default:()=>{}},delay:{type:Number,required:!0}},setup(e){Ls(()=>{t=ql($,e.delay)}),Rs(()=>{Es(()=>{i.value&&([n.value,o.value]=Kl(n.value,o.value,i.value))})});let t=()=>{},n=Ce(0),o=Ce(0),r=[];const s=Ce(""),i=Ce(),a=Ce(!1);let u={};const c=kt(()=>({"--pos-left":n.value+"px","--pos-top":o.value+"px"})),l=kt(()=>{if(!s.value)return r;const M=new RegExp(s.value,"i");return d(r).filter(({title:J})=>e.searchKeep(J)||J.match(M))}),d=M=>{if(!M)return[];let J=[];return M.map(ee=>{ee.subitems||J.push(ee),J.push(...d(ee.subitems))}),J},h=M=>{s.value=M},m=(M,J,ee={})=>{a.value=!0,n.value=M,o.value=J,u=ee,P()},$=()=>{a.value=!1},P=()=>{const M=t;M&&M.cancel&&t.cancel()},D=(M,J,ee=[],Be)=>{if(ee.length==0){Be.push({title:M,onClick:J});return}let he=Be.find($e=>$e.title==ee[0]);he||(he={title:ee[0],subitems:[]},Be.push(he)),he.subitems||(he.subitems=[]),D(M,J,ee.slice(1),he.subitems)};return{posLeft:n,posTop:o,visible:a,filter:s,items:r,style:c,filtered:l,myRefMenu:i,extractLeafs:d,onSearch:h,show:m,hide:$,additem:(M,J,ee=[])=>{D(M,J,ee,r)},timeoutHide:t,cancelHide:P,itemClicked:M=>{M.onClick&&M.onClick(u)}}}});function od(e,t,n,o,r,s){const i=Ae("Search"),a=Ae("Item");return e.visible?(z(),B("div",{key:0,class:"context-menu",ref:"myRefMenu",style:xn(e.style),onMouseleave:t[1]||(t[1]=(...u)=>e.timeoutHide&&e.timeoutHide(...u)),onMouseover:t[2]||(t[2]=(...u)=>e.cancelHide&&e.cancelHide(...u)),onContextmenu:t[3]||(t[3]=dt(()=>{},["prevent"])),onWheel:t[4]||(t[4]=dt(()=>{},["stop"]))},[e.searchBar?(z(),Fe(i,{key:0,modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=u=>e.filter=u),onSearch:e.onSearch},null,8,["modelValue","onSearch"])):Ee("",!0),(z(!0),B(ce,null,Re(e.filtered,u=>(z(),Fe(a,{key:u.title,item:u,delay:e.delay/2,onHide:e.hide,onClick:e.itemClicked},null,8,["item","delay","onHide","onClick"]))),128))],36)):Ee("",!0)}const rd=Te(nd,[["render",od],["__scopeId","data-v-7a5cfb8d"]]);function sd(e,t,n){return po(t,n).mount(e)}class ki{constructor(t,n,o){const r=document.createElement("div");t.view.container.appendChild(r),this.menu=sd(r,o||rd,n)}addItem(...t){this.menu.additem(...t)}show(...t){this.menu.show(...t)}hide(){this.menu.hide()}}class id extends ki{constructor(t,n,o,{items:r,allocate:s,rename:i}){super(t,n,o);const a={x:0,y:0};t.on("mousemove",({x:u,y:c})=>{a.x=u,a.y=c});for(const u of t.components.values()){const c=s(u);Array.isArray(c)&&this.addItem(i(u),async()=>{t.addNode(await _i(u,a))},c)}cr(r,(u,c,l)=>this.addItem(u,c,l))}}class ad extends ki{constructor(t,n,o,r){if(super(t,n,o),r.delete&&!r.delete.callback){const s=({node:i})=>{t.selected.list.indexOf(i)!==-1&&t.selected.remove(i),t.removeNode(i)};r.delete.callback=s}if(r.clone&&!r.clone.callback){const s=async i=>{const{name:a,position:[u,c],...l}=i.node,d=t.components.get(a),h=await _i(d,{...l,x:u+10,y:c+10});t.addNode(h),t.trigger("nodeCloned",h)};r.clone.callback=s}typeof r=="object"&&cr(r,(s,i,a)=>this.addItem(s,i,a))}}function ud(e,{searchBar:t=!0,searchKeep:n=()=>!1,delay:o=1e3,items:r={},nodeItems:s={delete:{title:"Delete"},clone:{title:"Clone"}},allocate:i=c=>[],rename:a=c=>c.name,vueComponent:u=null}){e.bind("hidecontextmenu"),e.bind("showcontextmenu");let c,l;e.on("hidecontextmenu",()=>{l&&l.hide()}),e.on("click contextmenu",()=>{e.trigger("hidecontextmenu")}),e.on("contextmenu",({e:d,node:h})=>{if(d.preventDefault(),d.stopPropagation(),!e.trigger("showcontextmenu",{e:d,node:h}))return;const[m,$]=[d.clientX,d.clientY];let P;h?(l=new ad(e,{searchBar:!1,delay:o},u,s),P={node:h}):(c||(c=new id(e,{searchBar:t,searchKeep:n,delay:o},u,{items:r,allocate:i,rename:a})),l=c,P={}),l.show(m,$,P)})}const cd={name:"context-menu",install:ud},ld={props:["node","editor","bindSocket","bindControl"],methods:{inputs(){return Array.from(this.node.inputs.values())},outputs(){return Array.from(this.node.outputs.values())},controls(){return Array.from(this.node.controls.values())},selected(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount(e,t){t.instance.bindSocket(e,t.arg,t.value)},updated(e,t){t.instance.bindSocket(e,t.arg,t.value)}},control:{beforeMount(e,t){t.value&&t.instance.bindControl(e,t.value)}}}};function Si(e){const t=n=>n.toLowerCase().replace(/ /g,"-");return Array.isArray(e)?e.map(t):t(e)}const dd=qe({props:["type","socket"],setup(e){return{className:kt(()=>Si([e.type,e.socket.name]))}}});const fd=["title"];function pd(e,t,n,o,r,s){return z(),B("div",{class:je(["socket",e.className]),title:e.socket.name},null,10,fd)}const hd=Te(dd,[["render",pd],["__scopeId","data-v-1eb802e5"]]),md=qe({name:"node",components:{Socket:hd},mixins:[ld],setup(e){let t=e.node,n=e.editor,o=Ce(n.selected.contains(t)?"selected":"");return n&&(n==null||n.on("nodeselected",()=>{o.value=n.selected.contains(t)?"selected":""})),{className:kt(()=>Si([t.name])),selected:o,nodeName:()=>{let i=V.instance,u=i.components.get(t.name).data.i18nKeys;return u&&(i==null?void 0:i.i18n(u))||t.name}}}});const vd={class:"title"},gd={class:"output-title"},yd={class:"input-control"};function bd(e,t,n,o,r,s){const i=Ae("Socket"),a=Kn("socket"),u=Kn("control");return z(),B("div",{class:je(["node",e.className,e.selected])},[Q("div",vd,Le(e.nodeName()),1),(z(!0),B(ce,null,Re(e.outputs(),c=>(z(),B("div",{class:"output",key:c.key},[Q("div",gd,Le(c.name),1),nt(ne(i,{type:"output",socket:c.socket},null,8,["socket"]),[[a,c,"output"]])]))),128)),(z(!0),B(ce,null,Re(e.controls(),c=>nt((z(),B("div",{class:"control",key:c.key})),[[u,c]])),128)),(z(!0),B(ce,null,Re(e.inputs(),c=>(z(),B("div",{class:"input",key:c.key},[nt(ne(i,{type:"input",socket:c.socket},null,8,["socket"]),[[a,c,"input"]]),nt(Q("div",{class:"input-title"},Le(c.name),513),[[Zn,!c.showControl()]]),nt(Q("div",yd,null,512),[[Zn,c.showControl()],[u,c.control]])]))),128))],2)}const wd=Te(md,[["render",bd],["__scopeId","data-v-fe503a83"]]);class Ci{constructor(t,n={variables:new Map,subStacks:new Map}){x(this,"engine");x(this,"stack");x(this,"compiledProcesses",new Map);x(this,"compiledCommandList",new Map);this.engine=t,this.stack=n}collectDependencys(t,n=[]){let o=this.compiledProcesses.get(t);if(o)o.processDependencys.forEach(r=>{n.find(s=>s==r)||(n.push(r),this.collectDependencys(r,n))});else return;return n.forEach(r=>{}),n}commandToFunction(t){var a,u,c,l;let n=this.compiledProcesses.get(t),o=this.collectDependencys(t);if(!o)return;let r=[];o.forEach(d=>{if(d!=t){let h=this.compiledProcesses.get(d);h&&(r=r.concat([{node_id:h.node_id,commands:`
const ${d} = function ${d}(inputs){
let output = {}
`},...h.commands,{node_id:h.node_id,commands:`
}`}]))}}),r=r.concat([{node_id:n.node_id,commands:`
const ${t} = function ${t}(inputs){
let output = {}
`},...n.commands,{node_id:n.node_id,commands:`
}
return ${t}(inputs)`}]);const s=d=>{if(!d)return"";if(typeof d.commands=="string")return d.commands;let h="";return d.commands.map(s).forEach(m=>h=h+m),h};let i="";r.map(s).forEach(d=>i=i+d);try{let d=new Function("inputs","spreadBoard",i);return h=>d(h,V.instance)}catch(d){(a=V.instance)==null||a.logger.log("Error while converting"),(u=V.instance)==null||u.logger.log(d),(c=V.instance)==null||c.logger.log(r),(l=V.instance)==null||l.logger.log(i)}}commandList(t){var i;this.compiledProcesses.get(t);let n=this.collectDependencys(t);if(!n)return;let o=[];n.forEach(a=>{a!=t&&o.push(`import { ${a} } from "./${a}.js"
`)});let r=(i=this.compiledCommandList.get(t))==null?void 0:i.filter(a=>a.commands.length>0);return[...o.map(a=>({node_id:-1,commands:a})),{node_id:-1,commands:`function ${t}(inputs){`},{node_id:-1,commands:"let output = {};"},...r,{node_id:-1,commands:"return output"},{node_id:-1,commands:"}"}]}commandToCode(t){let n=this.compiledProcesses.get(t),o=n.processDependencys;if(!o)return;let r="";return o.forEach(s=>{s!=t&&(r=r+`import { ${s} } from './${s}.js'
`)}),r=r+`

 export function ${t}(inputs){
let output = {}
${n.commands}
}
`,r}processProcess(t){return t=t.replace("@0.1.0",""),this.commandToFunction(t)}register(t){this.engine.register(t)}clear(){this.stack={variables:new Map,subStacks:new Map}}abort(){this.engine.abort()}async compileProcess(t,n){var a,u,c;t=t.replace("@0.1.0","");let o={silent:!0,compilerCommands:[]};const r=this.engine.clone(),s={...n};s.id=r.id="compiler@0.1.0",await r.process(s,null,o);let i={node_id:-1,commands:[],outputs:{},processDependencys:[]};return(a=o.compilerCommands)==null||a.forEach(l=>{i.commands=i.commands.concat(l.commands),l.processDependencys.forEach(d=>{i.processDependencys.find(h=>h==d)||i.processDependencys.push(d)})}),o.compilerCommands&&this.compiledCommandList.set(t,o.compilerCommands),i.commands=i.commands.concat({node_id:-1,commands:`
return output`}),this.compiledProcesses.set(t,i),(u=V.instance)==null||u.logger.log(`Compiled ${t}`),(c=V.instance)==null||c.trigger("export"),i}async process(t,n){await await this.engine.abort();let o={silent:!1,options:n};const r={...t};return r.id=this.engine.id,await this.engine.process(r,null,o)}}x(Ci,"max_stack_height",2e3);class ut{static removeListener(t){this.callers.delete(t.toString())}static onChange(t){let n=++this.currCallerId;return this.callers.set(n.toString(),t),n}static getOpenTab(){return this.currTab}static getOpenTabs(){return[...this.openTabs]}static update(){this.callers.forEach(t=>t(this.currTab,[...this.openTabs]))}static openTab(t){console.log(V.getProcesses()),this.currTab=t,this.openTabs.find(n=>n==t)||this.openTabs.push(t),this.update()}static closeTab(t){let n=this.openTabs.findIndex(o=>o==t);this.openTabs=this.openTabs.filter(o=>o!=t),this.currTab==t&&(this.currTab=this.openTabs[Math.min(n,this.openTabs.length-1)]),this.update()}}x(ut,"currCallerId",0),x(ut,"callers",new Map),x(ut,"currTab"),x(ut,"openTabs",[]);const be=class extends ii{constructor(n,o="main@0.1.0",r={processes:[{id:"main@0.1.0",nodes:{90:{id:90,data:{num:16},inputs:{},outputs:{num:{connections:[{node:97,input:"a",data:{}}]}},position:[20.550017966815403,87.62448929322358],name:"NumNode"},91:{id:91,data:{num:60},inputs:{},outputs:{num:{connections:[{node:97,input:"b",data:{}}]}},position:[20.234525698241214,241.65901568593904],name:"NumNode"},92:{id:92,data:{},inputs:{num:{connections:[{node:97,output:"res",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[]}},position:[665.5034758550414,41.77663392032889],name:"Addition"},97:{id:97,data:{id:"ggt"},inputs:{a:{connections:[{node:90,output:"num",data:{}}]},b:{connections:[{node:91,output:"num",data:{}}]}},outputs:{res:{connections:[{node:92,input:"num",data:{}}]}},position:[336,49.68333435058594],name:"ProcessNode"}}},{id:"max@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"a",val:4},inputs:{},outputs:{val:{connections:[{node:4,input:"num",data:{}},{node:1,input:"if",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"res",val:4},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:2,output:"val",data:{}}]},num2:{connections:[{node:5,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[307.46665954589844,98.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"b",val:3},inputs:{},outputs:{val:{connections:[{node:4,input:"num2",data:{}},{node:1,input:"else",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"min@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"a",val:4},inputs:{},outputs:{val:{connections:[{node:1,input:"if",data:{}},{node:4,input:"num2",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"res",val:3},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:5,output:"val",data:{}}]},num2:{connections:[{node:2,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[316.46665954589844,100.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"b",val:3},inputs:{},outputs:{val:{connections:[{node:1,input:"else",data:{}},{node:4,input:"num",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"ggt@0.1.0",nodes:{16:{id:16,data:{key:"a",val:8},inputs:{},outputs:{val:{connections:[{node:116,input:"a",data:{}},{node:161,input:"a",data:{}}]}},position:[-31.745339862725608,312.11162002044506],name:"InputNumNode"},17:{id:17,data:{key:"b",val:4},inputs:{},outputs:{val:{connections:[{node:116,input:"b",data:{}},{node:161,input:"b",data:{}}]}},position:[-30.504479413394208,497.977324582685],name:"InputNumNode"},24:{id:24,data:{key:"res",val:4},inputs:{val:{connections:[{node:119,output:"res",data:{}}]}},outputs:{},position:[1483.1156333105785,320.3775464378044],name:"OutputNumNode"},114:{id:114,data:{id:"ggt"},inputs:{a:{connections:[{node:117,output:"num",data:{}}]},b:{connections:[{node:161,output:"res",data:{}}]}},outputs:{res:{connections:[{node:119,input:"else",data:{}}]}},position:[884.7021365502437,219.26161340507292],name:"ProcessNode"},116:{id:116,data:{id:"max"},inputs:{a:{connections:[{node:16,output:"val",data:{}}]},b:{connections:[{node:17,output:"val",data:{}}]}},outputs:{res:{connections:[{node:117,input:"num",data:{}}]}},position:[275.7520925473664,265.8619861884418],name:"ProcessNode"},117:{id:117,data:{},inputs:{num:{connections:[{node:116,output:"res",data:{}}]},num2:{connections:[{node:161,output:"res",data:{}}]}},outputs:{num:{connections:[{node:118,input:"num",data:{}},{node:114,input:"a",data:{}}]}},position:[592.6333312988281,140.6999969482422],name:"Modulo"},118:{id:118,data:{},inputs:{num:{connections:[{node:117,output:"num",data:{}}]},num2:{connections:[]}},outputs:{bool:{connections:[{node:119,input:"bool",data:{}}]}},position:[840.6333312988281,-37.30000305175781],name:"EqualNode"},119:{id:119,data:{},inputs:{bool:{connections:[{node:118,output:"bool",data:{}}]},if:{connections:[{node:161,output:"res",data:{}}]},else:{connections:[{node:114,output:"res",data:{}}]}},outputs:{res:{connections:[{node:24,input:"val",data:{}}]}},position:[1199.0240681258697,342.7625502316739],name:"ConditionNode"},161:{id:161,data:{id:"min"},inputs:{a:{connections:[{node:16,output:"val",data:{}}]},b:{connections:[{node:17,output:"val",data:{}}]}},outputs:{res:{connections:[{node:119,input:"if",data:{}},{node:114,input:"b",data:{}},{node:117,input:"num2",data:{}}]}},position:[275.7520925473664,493.86198618844173],name:"ProcessNode"}}}]},s=!1){super(o,n);x(this,"eventEmitter",new Sc);x(this,"editorProcessor");x(this,"curLocale","de");x(this,"i18nMap",{de:{num:"Zahl",bool:"Wahrheitswert",values:"Werte",value:"Wert",operators:"Operatoren",add:"Summe",mult:"Produkt",addIn:"Summand",multIn:"Faktor",res:"Ergebnis",greater:"A>B",equal:"A=B",sub:"Differenz",subIn:"Minuend",subIn2:"Subtrahend",processes:"Prozesse",process:"Prozess",processSelector:"Prozess-Auswahl",cond:"Bedingung",if:"Falls",else:"Sonst",numIn:"Eingabe - Zahl",numOut:"Ausgabe - Zahl",controlflow:"Kontroll-Fluss"}});x(this,"logger",new hn("Editor"));x(this,"processLogger",new hn("Process"));x(this,"curProcess",-1);x(this,"tabListener",-1);this.silent=s,this.editorProcessor=new Ci(new ui(o)),r.processes.find(i=>i.id==o)||(be.processes=[{id:o,nodes:{}}]),be.processes.push(...r.processes),be.importing=!0,this.init()}static getProcesses(){return[...this.processes]}static getCurProcess(){var n;return(n=this.instance)==null?void 0:n.curProcess}static getProcessIDs(){return this.processes.map((n,o)=>({index:o,id:n.id.slice(0,n.id.length-6)}))}unselectNode(){this.selected.clear(),this.trigger("nodeselected")}static getOrCreate(n,o="main@0.1.0",r,s=!1){if(!this.instance)this.instance=new be(n,o,r,s);else{let i=[...this.processes];this.instance.destroy(),this.processes=[],this.instance=new be(n,o,r!=null?r:{processes:i},s)}return this.instance}static getIOS(n){var a,u;let o=this.getProcessIndex(n),r=be.processes[o];if(!r)return{inputs:[],outputs:[]};let s=[],i=[];for(let c in r.nodes){let l=r.nodes[c],d=(u=(a=be.instance)==null?void 0:a.getComponent(l.name))==null?void 0:u.data;if(d.process){let h=d.process;if(h.type=="input"){let m=l.data.key;s.push({key:m,name:m,socket:h.socket})}if(h.type=="output"){let m=l.data.key;i.push({key:m,name:m,socket:h.socket})}}}return{inputs:s,outputs:i}}async init(){this.use(Dc,{component:wd}),this.use(Kc),this.use(Ul,{background:!1,snap:!1,scaleExtent:{min:.25,max:1},translateExtent:{width:5e3,height:4e3}}),this.use(cd,{allocate:n=>{let o=n.data;return o.category?o.category.map(r=>Y(r)):[]},rename(n){let o=n.data;return o.i18nKeys&&Y(o.i18nKeys)||n.name}}),this.use(Nl);for(let n of be.processes)await this.editorProcessor.compileProcess(n.id,n);this.on(["connectioncreated","connectionremoved","nodecreated","noderemoved"],n=>{!be.importing&&!this.silent&&this.trigger("process")}),this.on("process",async()=>{be.importing||(await this.saveCurProcess(),await this.processEditor())}),this.silent||(this.tabListener=ut.onChange((n,o)=>{this.loadProcess(n)})),await this.loadProcess(ut.getOpenTab()),this.view.resize(),this.trigger("process"),this.logger.log("Started editor")}i18n(n){return this.i18nRec(n,this.i18nMap[this.curLocale])}i18nRec(n,o){let r=n[0];if(!o[r])return;let s=o[r];return!s||typeof s=="string"?s:this.i18nRec(n.slice(1),s)}register(n){this.logger.log("Register: ",n.name),super.register(n),this.editorProcessor.register(n)}registerAll(n){n.forEach(o=>{this.register(o)})}getCurProcessCode(){return this.editorProcessor.commandList(be.processes[this.curProcess].id.replace("@0.1.0",""))}async saveCurProcess(){if(!be.importing&&!this.silent)try{let n=this.toJSON();be.processes[this.curProcess].nodes=n.nodes,await this.editorProcessor.compileProcess(be.processes[this.curProcess].id,this.toJSON()),this.logger.log(be.processes[this.curProcess])}catch{this.nodes.forEach(o=>{o.inputs.forEach(r=>{r.connections.forEach(s=>{s.output.node||this.removeConnection(s)})}),o.outputs.forEach(r=>{r.connections.forEach(s=>{s.input.node||this.removeConnection(s)})})})}}clear(){let n=Wt.latestId;this.editorProcessor.abort();const o=this.nodes;for(const r of o)this.removeNode(r);super.clear(),this.eventEmitter.clear(),this.editorProcessor.clear(),Wt.latestId=n}installComponents(n){super.use(n)}async fromJSON(n){return await super.fromJSON(n)}async load(n){return be.processes=n.processes,await this.fromJSON(be.processes[0])}addProcess(n){let o=n+"@0.1.0";be.processes.find(r=>r.id==o)||be.processes.push({id:o,nodes:{}})}processProcess(n){return this.editorProcessor.processProcess(n)}async processEditor(){await this.editorProcessor.process(this.toJSON())}static getProcessIndex(n){return be.processes.findIndex(o=>o.id==n||n+"@0.1.0"==o.id)}async loadProcess(n){if(n){let o=be.getProcessIndex(n);if(o==this.curProcess)return;await this.saveCurProcess(),be.importing=!0,this.curProcess=o,this.clear();let r=this.toJSON();r.nodes=be.processes[o].nodes,await this.fromJSON(r),this.logger.log("Start initial process"),be.importing=!1,this.trigger("process"),setTimeout(()=>{},20)}else await this.saveCurProcess(),this.curProcess=-1,this.clear()}};let V=be;x(V,"processes",[]),x(V,"instance"),x(V,"importing",!1);function Y(e){var t;return(t=V.instance)==null?void 0:t.i18n(e)}async function _d(e){e.innerHTML="",V.getOrCreate(e)}const kd={name:"ReteEditor",mounted(){const e=document.getElementById("rete");e&&_d(e)}};const Sd={class:"rete",id:"rete"};function Cd(e,t,n,o,r,s){return z(),B("div",Sd)}const xd=Te(kd,[["render",Cd]]),xi={name:"splitpanes",emits:["ready","resize","resized","pane-click","pane-maximize","pane-add","pane-remove","splitter-click"],props:{horizontal:{type:Boolean},pushOtherPanes:{type:Boolean,default:!0},dblClickSplitter:{type:Boolean,default:!0},rtl:{type:Boolean,default:!1},firstSplitter:{type:Boolean}},provide(){return{requestUpdate:this.requestUpdate,onPaneAdd:this.onPaneAdd,onPaneRemove:this.onPaneRemove,onPaneClick:this.onPaneClick}},data:()=>({container:null,ready:!1,panes:[],touch:{mouseDown:!1,dragging:!1,activeSplitter:null},splitterTaps:{splitter:null,timeoutId:null}}),computed:{panesCount(){return this.panes.length},indexedPanes(){return this.panes.reduce((e,t)=>(e[t.id]=t)&&e,{})}},methods:{updatePaneComponents(){this.panes.forEach(e=>{e.update&&e.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[e.id].size}%`})})},bindEvents(){document.addEventListener("mousemove",this.onMouseMove,{passive:!1}),document.addEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.addEventListener("touchmove",this.onMouseMove,{passive:!1}),document.addEventListener("touchend",this.onMouseUp))},unbindEvents(){document.removeEventListener("mousemove",this.onMouseMove,{passive:!1}),document.removeEventListener("mouseup",this.onMouseUp),"ontouchstart"in window&&(document.removeEventListener("touchmove",this.onMouseMove,{passive:!1}),document.removeEventListener("touchend",this.onMouseUp))},onMouseDown(e,t){this.bindEvents(),this.touch.mouseDown=!0,this.touch.activeSplitter=t},onMouseMove(e){this.touch.mouseDown&&(e.preventDefault(),this.touch.dragging=!0,this.calculatePanesSize(this.getCurrentMouseDrag(e)),this.$emit("resize",this.panes.map(t=>({min:t.min,max:t.max,size:t.size}))))},onMouseUp(){this.touch.dragging&&this.$emit("resized",this.panes.map(e=>({min:e.min,max:e.max,size:e.size}))),this.touch.mouseDown=!1,setTimeout(()=>{this.touch.dragging=!1,this.unbindEvents()},100)},onSplitterClick(e,t){"ontouchstart"in window&&(e.preventDefault(),this.dblClickSplitter&&(this.splitterTaps.splitter===t?(clearTimeout(this.splitterTaps.timeoutId),this.splitterTaps.timeoutId=null,this.onSplitterDblClick(e,t),this.splitterTaps.splitter=null):(this.splitterTaps.splitter=t,this.splitterTaps.timeoutId=setTimeout(()=>{this.splitterTaps.splitter=null},500)))),this.touch.dragging||this.$emit("splitter-click",this.panes[t])},onSplitterDblClick(e,t){let n=0;this.panes=this.panes.map((o,r)=>(o.size=r===t?o.max:o.min,r!==t&&(n+=o.min),o)),this.panes[t].size-=n,this.$emit("pane-maximize",this.panes[t]),this.$emit("resized",this.panes.map(o=>({min:o.min,max:o.max,size:o.size})))},onPaneClick(e,t){this.$emit("pane-click",this.indexedPanes[t])},getCurrentMouseDrag(e){const t=this.container.getBoundingClientRect(),{clientX:n,clientY:o}="ontouchstart"in window&&e.touches?e.touches[0]:e;return{x:n-t.left,y:o-t.top}},getCurrentDragPercentage(e){e=e[this.horizontal?"y":"x"];const t=this.container[this.horizontal?"clientHeight":"clientWidth"];return this.rtl&&!this.horizontal&&(e=t-e),e*100/t},calculatePanesSize(e){const t=this.touch.activeSplitter;let n={prevPanesSize:this.sumPrevPanesSize(t),nextPanesSize:this.sumNextPanesSize(t),prevReachedMinPanes:0,nextReachedMinPanes:0};const o=0+(this.pushOtherPanes?0:n.prevPanesSize),r=100-(this.pushOtherPanes?0:n.nextPanesSize),s=Math.max(Math.min(this.getCurrentDragPercentage(e),r),o);let i=[t,t+1],a=this.panes[i[0]]||null,u=this.panes[i[1]]||null;const c=a.max<100&&s>=a.max+n.prevPanesSize,l=u.max<100&&s<=100-(u.max+this.sumNextPanesSize(t+1));if(c||l){c?(a.size=a.max,u.size=Math.max(100-a.max-n.prevPanesSize-n.nextPanesSize,0)):(a.size=Math.max(100-u.max-n.prevPanesSize-this.sumNextPanesSize(t+1),0),u.size=u.max);return}if(this.pushOtherPanes){const d=this.doPushOtherPanes(n,s);if(!d)return;({sums:n,panesToResize:i}=d),a=this.panes[i[0]]||null,u=this.panes[i[1]]||null}a!==null&&(a.size=Math.min(Math.max(s-n.prevPanesSize-n.prevReachedMinPanes,a.min),a.max)),u!==null&&(u.size=Math.min(Math.max(100-s-n.nextPanesSize-n.nextReachedMinPanes,u.min),u.max))},doPushOtherPanes(e,t){const n=this.touch.activeSplitter,o=[n,n+1];return t<e.prevPanesSize+this.panes[o[0]].min&&(o[0]=this.findPrevExpandedPane(n).index,e.prevReachedMinPanes=0,o[0]<n&&this.panes.forEach((r,s)=>{s>o[0]&&s<=n&&(r.size=r.min,e.prevReachedMinPanes+=r.min)}),e.prevPanesSize=this.sumPrevPanesSize(o[0]),o[0]===void 0)?(e.prevReachedMinPanes=0,this.panes[0].size=this.panes[0].min,this.panes.forEach((r,s)=>{s>0&&s<=n&&(r.size=r.min,e.prevReachedMinPanes+=r.min)}),this.panes[o[1]].size=100-e.prevReachedMinPanes-this.panes[0].min-e.prevPanesSize-e.nextPanesSize,null):t>100-e.nextPanesSize-this.panes[o[1]].min&&(o[1]=this.findNextExpandedPane(n).index,e.nextReachedMinPanes=0,o[1]>n+1&&this.panes.forEach((r,s)=>{s>n&&s<o[1]&&(r.size=r.min,e.nextReachedMinPanes+=r.min)}),e.nextPanesSize=this.sumNextPanesSize(o[1]-1),o[1]===void 0)?(e.nextReachedMinPanes=0,this.panes[this.panesCount-1].size=this.panes[this.panesCount-1].min,this.panes.forEach((r,s)=>{s<this.panesCount-1&&s>=n+1&&(r.size=r.min,e.nextReachedMinPanes+=r.min)}),this.panes[o[0]].size=100-e.prevPanesSize-e.nextReachedMinPanes-this.panes[this.panesCount-1].min-e.nextPanesSize,null):{sums:e,panesToResize:o}},sumPrevPanesSize(e){return this.panes.reduce((t,n,o)=>t+(o<e?n.size:0),0)},sumNextPanesSize(e){return this.panes.reduce((t,n,o)=>t+(o>e+1?n.size:0),0)},findPrevExpandedPane(e){return[...this.panes].reverse().find(t=>t.index<e&&t.size>t.min)||{}},findNextExpandedPane(e){return this.panes.find(t=>t.index>e+1&&t.size>t.min)||{}},checkSplitpanesNodes(){Array.from(this.container.children).forEach(e=>{const t=e.classList.contains("splitpanes__pane"),n=e.classList.contains("splitpanes__splitter");!t&&!n&&(e.parentNode.removeChild(e),console.warn("Splitpanes: Only <pane> elements are allowed at the root of <splitpanes>. One of your DOM nodes was removed."))})},addSplitter(e,t,n=!1){const o=e-1,r=document.createElement("div");r.classList.add("splitpanes__splitter"),n||(r.onmousedown=s=>this.onMouseDown(s,o),typeof window<"u"&&"ontouchstart"in window&&(r.ontouchstart=s=>this.onMouseDown(s,o)),r.onclick=s=>this.onSplitterClick(s,o+1)),this.dblClickSplitter&&(r.ondblclick=s=>this.onSplitterDblClick(s,o+1)),t.parentNode.insertBefore(r,t)},removeSplitter(e){e.onmousedown=void 0,e.onclick=void 0,e.ondblclick=void 0,e.parentNode.removeChild(e)},redoSplitters(){const e=Array.from(this.container.children);e.forEach(n=>{n.className.includes("splitpanes__splitter")&&this.removeSplitter(n)});let t=0;e.forEach(n=>{n.className.includes("splitpanes__pane")&&(!t&&this.firstSplitter?this.addSplitter(t,n,!0):t&&this.addSplitter(t,n),t++)})},requestUpdate({target:e,...t}){const n=this.indexedPanes[e._.uid];Object.entries(t).forEach(([o,r])=>n[o]=r)},onPaneAdd(e){let t=-1;Array.from(e.$el.parentNode.children).some(r=>(r.className.includes("splitpanes__pane")&&t++,r===e.$el));const n=parseFloat(e.minSize),o=parseFloat(e.maxSize);this.panes.splice(t,0,{id:e._.uid,index:t,min:isNaN(n)?0:n,max:isNaN(o)?100:o,size:e.size===null?null:parseFloat(e.size),givenSize:e.size,update:e.update}),this.panes.forEach((r,s)=>r.index=s),this.ready&&this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({addedPane:this.panes[t]}),this.$emit("pane-add",{index:t,panes:this.panes.map(r=>({min:r.min,max:r.max,size:r.size}))})})},onPaneRemove(e){const t=this.panes.findIndex(o=>o.id===e._.uid),n=this.panes.splice(t,1)[0];this.panes.forEach((o,r)=>o.index=r),this.$nextTick(()=>{this.redoSplitters(),this.resetPaneSizes({removedPane:{...n,index:t}}),this.$emit("pane-remove",{removed:n,panes:this.panes.map(o=>({min:o.min,max:o.max,size:o.size}))})})},resetPaneSizes(e={}){!e.addedPane&&!e.removedPane?this.initialPanesSizing():this.panes.some(t=>t.givenSize!==null||t.min||t.max<100)?this.equalizeAfterAddOrRemove(e):this.equalize(),this.ready&&this.$emit("resized",this.panes.map(t=>({min:t.min,max:t.max,size:t.size})))},equalize(){const e=100/this.panesCount;let t=0;const n=[],o=[];this.panes.forEach(r=>{r.size=Math.max(Math.min(e,r.max),r.min),t-=r.size,r.size>=r.max&&n.push(r.id),r.size<=r.min&&o.push(r.id)}),t>.1&&this.readjustSizes(t,n,o)},initialPanesSizing(){let e=100;const t=[],n=[];let o=0;this.panes.forEach(s=>{e-=s.size,s.size!==null&&o++,s.size>=s.max&&t.push(s.id),s.size<=s.min&&n.push(s.id)});let r=100;e>.1&&(this.panes.forEach(s=>{s.size===null&&(s.size=Math.max(Math.min(e/(this.panesCount-o),s.max),s.min)),r-=s.size}),r>.1&&this.readjustSizes(e,t,n))},equalizeAfterAddOrRemove({addedPane:e,removedPane:t}={}){let n=100/this.panesCount,o=0;const r=[],s=[];e&&e.givenSize!==null&&(n=(100-e.givenSize)/(this.panesCount-1)),this.panes.forEach(i=>{o-=i.size,i.size>=i.max&&r.push(i.id),i.size<=i.min&&s.push(i.id)}),!(Math.abs(o)<.1)&&(this.panes.forEach(i=>{e&&e.givenSize!==null&&e.id===i.id||(i.size=Math.max(Math.min(n,i.max),i.min)),o-=i.size,i.size>=i.max&&r.push(i.id),i.size<=i.min&&s.push(i.id)}),o>.1&&this.readjustSizes(o,r,s))},readjustSizes(e,t,n){let o;e>0?o=e/(this.panesCount-t.length):o=e/(this.panesCount-n.length),this.panes.forEach((r,s)=>{if(e>0&&!t.includes(r.id)){const i=Math.max(Math.min(r.size+o,r.max),r.min),a=i-r.size;e-=a,r.size=i}else if(!n.includes(r.id)){const i=Math.max(Math.min(r.size+o,r.max),r.min),a=i-r.size;e-=a,r.size=i}r.update({[this.horizontal?"height":"width"]:`${this.indexedPanes[r.id].size}%`})}),Math.abs(e)>.1&&this.$nextTick(()=>{this.ready&&console.warn("Splitpanes: Could not resize panes correctly due to their constraints.")})}},watch:{panes:{deep:!0,immediate:!1,handler(){this.updatePaneComponents()}},horizontal(){this.updatePaneComponents()},firstSplitter(){this.redoSplitters()},dblClickSplitter(e){[...this.container.querySelectorAll(".splitpanes__splitter")].forEach((t,n)=>{t.ondblclick=e?o=>this.onSplitterDblClick(o,n):void 0})}},beforeUnmount(){this.ready=!1},mounted(){this.container=this.$refs.container,this.checkSplitpanesNodes(),this.redoSplitters(),this.resetPaneSizes(),this.$emit("ready"),this.ready=!0},render(){return Iu("div",{ref:"container",class:["splitpanes",`splitpanes--${this.horizontal?"horizontal":"vertical"}`,{"splitpanes--dragging":this.touch.dragging}]},this.$slots.default())}},Pd=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n},Ed={name:"pane",inject:["requestUpdate","onPaneAdd","onPaneRemove","onPaneClick"],props:{size:{type:[Number,String],default:null},minSize:{type:[Number,String],default:0},maxSize:{type:[Number,String],default:100}},data:()=>({style:{}}),mounted(){this.onPaneAdd(this)},beforeUnmount(){this.onPaneRemove(this)},methods:{update(e){this.style=e}},computed:{sizeNumber(){return this.size||this.size===0?parseFloat(this.size):null},minSizeNumber(){return parseFloat(this.minSize)},maxSizeNumber(){return parseFloat(this.maxSize)}},watch:{sizeNumber(e){this.requestUpdate({target:this,size:e})},minSizeNumber(e){this.requestUpdate({target:this,min:e})},maxSizeNumber(e){this.requestUpdate({target:this,max:e})}}};function Id(e,t,n,o,r,s){return z(),B("div",{class:"splitpanes__pane",onClick:t[0]||(t[0]=i=>s.onPaneClick(i,e._.uid)),style:xn(e.style)},[Za(e.$slots,"default")],4)}const Pi=Pd(Ed,[["render",Id]]),Od=qe({name:"CommandVue",props:{command:{type:Object,required:!0},topLevel:{type:Boolean,required:!1},parentSelected:{type:Boolean,required:!1}},setup(e){var s,i;let t=e.command,n=Ce((s=V.instance)==null?void 0:s.selected.list);return(i=V.instance)==null||i.on("nodeselected",a=>{var u;n.value=[],n.value=(u=V.instance)==null?void 0:u.selected.list}),{command:t,selected:n,select:a=>{var c,l,d;let u=(c=V.instance)==null?void 0:c.nodes.find(h=>h.id==a);u?(l=V.instance)==null||l.trigger("selectnode",{node:u}):(d=V.instance)==null||d.unselectNode()},hasChildren:()=>typeof t.commands!="string"}}});const $d={key:0};function Nd(e,t,n,o,r,s){var a;const i=Ae("CommandVue");return z(),B(ce,null,[e.hasChildren()?Ee("",!0):(z(),B("b",{key:0,onClick:t[0]||(t[0]=u=>e.select(e.command.node_id)),class:je((a=e.selected)!=null&&a.find(u=>u.id==e.command.node_id)&&!e.parentSelected?"selectedCommand":"")},Le(e.command.commands),3)),e.hasChildren()?(z(!0),B(ce,{key:1},Re(e.command.commands,u=>{var c,l;return z(),B("b",{class:je((c=e.selected)!=null&&c.find(d=>d.id==u.node_id)&&!e.parentSelected?"selectedCommand":"")},[ne(i,{command:u,parentSelected:((l=e.selected)==null?void 0:l.find(d=>d.id==u.node_id))!=null||e.parentSelected},null,8,["command","parentSelected"]),e.topLevel?(z(),B("br",$d)):Ee("",!0)],2)}),256)):Ee("",!0)],64)}const Td=Te(Od,[["render",Nd],["__scopeId","data-v-5cd0eeb1"]]),Md=qe({name:"CompiledPreview",components:{CommandVue:Td},setup(){var s,i,a,u,c,l;let e=Ce((s=V.instance)==null?void 0:s.getCurProcessCode()),t=Ce((i=V.instance)==null?void 0:i.getCurProcessCode()),n=Ce(!1);(a=V.instance)==null||a.on("export",()=>{n.value||(n.value=!0,t.value=e.value,e.value=[],new Promise(d=>setTimeout(d,100)).then(()=>{var h;let d=(h=V.instance)==null?void 0:h.getCurProcessCode();e.value=d,n.value=!1}))});let o=Ce((u=V.instance)==null?void 0:u.selected.list);(c=V.instance)==null||c.on("nodeselected",d=>{var h;o.value=[],o.value=(h=V.instance)==null?void 0:h.selected.list});const r=d=>{var m,$,P;let h=(m=V.instance)==null?void 0:m.nodes.find(D=>D.id==d);h?($=V.instance)==null||$.trigger("selectnode",{node:h}):(P=V.instance)==null||P.unselectNode()};return(l=V.instance)==null||l.logger.log("Compiled",e),{code:e,selected:o,select:r,timeOut:n,pCode:t}}});const zd={key:0,id:"compiledPreview",style:{padding:"5px","margin-left":"0","justify-content":"start","text-align":"start","overflow-x":"auto"}},Ad={key:1,id:"compiledPreview",style:{padding:"5px","margin-left":"0","justify-content":"start","text-align":"start","overflow-x":"auto"}};function Dd(e,t,n,o,r,s){const i=Ae("CommandVue");return z(),B(ce,null,[e.timeOut?Ee("",!0):(z(),B("div",zd,[(z(!0),B(ce,null,Re(e.code,a=>{var u,c;return z(),B("p",{class:je((u=e.selected)!=null&&u.find(l=>l.id==a.node_id)?"selectedCommand":"")},[ne(i,{command:a,"top-level":!0,parentSelected:((c=e.selected)==null?void 0:c.find(l=>l.id==a.node_id))!=null},null,8,["command","parentSelected"])],2)}),256))])),e.timeOut?(z(),B("div",Ad,[(z(!0),B(ce,null,Re(e.pCode,a=>{var u,c;return z(),B("p",{class:je((u=e.selected)!=null&&u.find(l=>l.id==a.node_id)?"selectedCommand":"")},[ne(i,{command:a,"top-level":!0,parentSelected:((c=e.selected)==null?void 0:c.find(l=>l.id==a.node_id))!=null},null,8,["command","parentSelected"])],2)}),256))])):Ee("",!0)],64)}const Ei=Te(Md,[["render",Dd]]),Ld=qe({name:"Icon",props:{icon:String}}),Rd=["src"];function jd(e,t,n,o,r,s){return z(),B(ce,null,Re(["light","dark"],i=>Q("img",{style:{"min-height":"25px"},class:je(["icon",i]),src:"https://raw.githubusercontent.com/microsoft/vscode-icons/master/icons/"+i+"/"+(e.icon&&e.icon!=""?e.icon:"error")+".svg"},null,10,Rd)),64)}const mo=Te(Ld,[["render",jd]]),Bd=qe({setup(){const e=Ce([]),t=Ce(void 0);ut.onChange((a,u)=>{e.value=u,t.value=a,console.log("Test",u)});const n=a=>ut.openTab(a),o=a=>{ut.closeTab(a)};let r=Ce(!1),s=Ce(!1),i=kt(()=>V.importing);return{openTabs:e,openTab:t,open:n,close:o,codeOpen:r,onlyCode:s,loading:i}},components:{ReteEditor:xd,Splitpanes:xi,Pane:Pi,CompiledPreview:Ei,Icon:mo}});const Fd=e=>(En("data-v-d3029514"),e=e(),In(),e),Vd={style:{"max-height":"100%","max-width":"100%",height:"100%",width:"100%"}},Hd={key:0,style:{"text-align":"start",display:"flex"}},Wd=["onClick","onMousedown"],Ud=Fd(()=>Q("div",{class:"spacer"},null,-1)),Kd={key:1,style:{height:"100%"}},qd={key:0,class:"float"},Jd={key:2,class:"blank"};function Yd(e,t,n,o,r,s){const i=Ae("Icon"),a=Ae("ReteEditor"),u=Ae("pane"),c=Ae("CompiledPreview"),l=Ae("splitpanes");return z(),B("div",Vd,[e.openTabs.length>0?(z(),B("div",Hd,[(z(!0),B(ce,null,Re(e.openTabs,d=>(z(),B("button",{class:je("tab "+(e.openTab==d?"selected":"")),style:{display:"inline-block"},onClick:h=>e.open(d),onMousedown:h=>{h.button==0&&e.open(d),h.button==1&&e.close(d)}},Le(d),43,Wd))),256)),Ud])):Ee("",!0),e.openTabs.length>0?(z(),B("div",Kd,[e.openTabs.length!=0?(z(),B("div",qd,[Q("button",{class:"float",onClick:t[0]||(t[0]=d=>e.codeOpen=!e.codeOpen)},[ne(i,{icon:"code"})]),e.codeOpen?(z(),B("button",{key:0,onClick:t[1]||(t[1]=d=>e.onlyCode=!e.onlyCode)},[ne(i,{icon:e.onlyCode?"split-horizontal":"screen-full"},null,8,["icon"])])):Ee("",!0)])):Ee("",!0),ne(l,{style:{height:"100%",width:"100%"},onPaneMaximize:t[2]||(t[2]=d=>e.onlyCode=!0)},{default:Ot(()=>[!e.onlyCode||!e.codeOpen?(z(),Fe(u,{key:0,"min-size":"20"},{default:Ot(()=>[ne(a)]),_:1})):Ee("",!0),e.codeOpen?(z(),Fe(u,{key:1,"min-size":"20",size:40},{default:Ot(()=>[ne(c)]),_:1})):Ee("",!0)]),_:1})])):Ee("",!0),e.openTabs.length==0?(z(),B("div",Jd," No Tab Open ")):Ee("",!0)])}const Gd=Te(Bd,[["render",Yd],["__scopeId","data-v-d3029514"]]),Zd={components:{Icon:mo},setup(){let e=Ce(V.getCurProcess());ut.onChange((c,l)=>{setTimeout(()=>{e.value=V.getCurProcess()},20)});const t=c=>{var l;e.value=(l=n().find(d=>d.id==c))==null?void 0:l.index,ut.openTab(c)};let n=()=>{var c;return(c=V.getProcessIDs())==null?void 0:c.map(l=>({id:l.id,index:l.index,className:r(l.index)}))};const o=c=>{var l;(l=V.instance)==null||l.addProcess(s.value.toString()),s.value=""};let r=c=>{e.value==c},s=Ce("");const i=c=>{s.value=c.target.value};let a=Ce(-1);return{select:t,processes:n,searchProcessName:s,change:i,addProcess:o,selected:r,curProcess:e,showMenu:c=>{console.log(c),a.value=c},menuId:a}}};const Xd=e=>(En("data-v-b392c5b9"),e=e(),In(),e),Qd={class:"searchBar"},ef=["on-submit","value"],tf=["onMousedown"],nf=["onClick"],of={style:{"margin-right":"10px","margin-left":"10px"}},rf=Xd(()=>Q("b",null,"+",-1));function sf(e,t,n,o,r,s){return z(),B("div",{class:"selector-bar",onMousedown:t[2]||(t[2]=i=>{i.button!=2&&o.showMenu(-1)})},[Q("div",Qd,[Q("input",{type:"search",placeholder:"Search...","on-submit":o.addProcess,value:o.searchProcessName,onInput:t[0]||(t[0]=i=>o.change(i))},null,40,ef)]),(z(!0),B(ce,null,Re(o.processes().filter(i=>i.id.includes(o.searchProcessName)),i=>(z(),B("div",{style:{display:"inline-flex","margin-right":"10px","margin-left":"10px","padding-bottom":"5px"},onMousedown:a=>{a.button==2&&(a.stopPropagation(),o.showMenu(i.index))}},[Q("button",{style:{"flex-grow":"1","margin-right":"5px","padding-right":"5px"},class:je(o.curProcess==i.index?"selected":""),onClick:a=>o.select(i.id)},Le(i.id),11,nf),Q("div",{class:je("menu hidden")}," Hallo Welt ",2)],40,tf))),256)),Q("div",of,[o.searchProcessName!=""?(z(),B("button",{key:0,class:"addProcess",onClick:t[1]||(t[1]=(...i)=>o.addProcess&&o.addProcess(...i))},[rf,Q("i",null,Le(o.searchProcessName),1)])):Ee("",!0)])],32)}const ts=Te(Zd,[["render",sf],["__scopeId","data-v-b392c5b9"]]),af=qe({name:"Infor",components:{Icon:mo}}),uf={style:{width:"max-content",padding:"5px",margin:"auto"}},cf=Q("h2",null," Info ",-1),lf={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore"},df=Q("p",null,null,-1),ff={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore#used-software"},pf=Q("p",null,null,-1),hf={style:{display:"inline"},title:"Coming Soon"},mf=Q("p",null,null,-1),vf={target:"_blank",href:"https://opensource.org/licenses/MIT"},gf=Q("p",null,null,-1),yf={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore/issues"};function bf(e,t,n,o,r,s){const i=Ae("Icon");return z(),B("div",uf,[cf,Q("a",lf,[ne(i,{icon:"github-inverted"}),Pt(" Source Code ")]),df,Q("a",ff,[ne(i,{icon:"library"}),Pt(" Used Software ")]),pf,Q("a",hf,[ne(i,{icon:"book"}),Pt(" Documentation ")]),mf,Q("a",vf,[ne(i,{icon:"tag"}),Pt(" License ")]),gf,Q("a",yf,[ne(i,{icon:"bug"}),Pt(" Issues ")])])}const ns=Te(af,[["render",bf]]),wf=qe({name:"Logs",setup(e){var o;const t=(o=V.instance)==null?void 0:o.logger;let n=Ce(t==null?void 0:t.export());return t==null||t.onWrite(r=>{n.value=t==null?void 0:t.export(),new Promise(s=>setTimeout(s,100)).then(()=>{let s=document.getElementById("logs");s==null||s.scrollBy({top:(s==null?void 0:s.scrollTop)*10})})}),{logs:n}}});const _f=e=>(En("data-v-81e98067"),e=e(),In(),e),kf={class:"logs",id:"logs"},Sf={class:"log-item"},Cf=_f(()=>Q("br",null,null,-1));function xf(e,t,n,o,r,s){var i;return z(),B("div",kf,[(z(!0),B(ce,null,Re((i=e.logs)==null?void 0:i.split(`
`),a=>(z(),B("div",Sf,[Pt(Le(a)+" ",1),Cf]))),256))])}const Pf=Te(wf,[["render",xf],["__scopeId","data-v-81e98067"]]),Ef={components:{ProcessSelector:ts,Info:ns,Icon:mo,CompiledPreview:Ei,EditorTabsContainer:Gd,Splitpanes:xi,Pane:Pi},setup(){let e=Ce(10);const t=[{key:"processes",title:"Prozesse",icon:"symbol-interface",componentName:ts},{key:"logs",title:"Logs",icon:"console",componentName:Pf},{key:"info",title:"Info",icon:"lightbulb",componentName:ns}],n=()=>{var c;let u=o.value;if(u!="")return(c=t.find(l=>l.key==u))==null?void 0:c.componentName},o=Ce(""),r=u=>u==o.value?"selected":"notSelected";let s;return{map:t,selected:o,select:u=>{var c;o.value!=u?o.value=u:o.value="",(c=V.instance)==null||c.logger.log("Select:",o.value),(async()=>{if(s&&s.unmount(),n()!=null){let l=po(n());s=l,setTimeout(()=>{l.mount("#bar")},10)}})()},isSelected:r,getSelctedComp:n,curSize:e,changeSize:u=>{console.log("resize",u),u<10&&(u=10),e.value=u}}}};const If=e=>(En("data-v-3788aeb5"),e=e(),In(),e),Of={class:"sidebar"},$f=["onClick"],Nf=If(()=>Q("div",{id:"bar"},null,-1));function Tf(e,t,n,o,r,s){const i=Ae("Icon"),a=Ae("pane"),u=Ae("EditorTabsContainer"),c=Ae("splitpanes");return z(),B(ce,null,[Q("div",Of,[(z(!0),B(ce,null,Re(o.map,l=>(z(),B("button",{onClick:d=>o.select(l.key),class:je(o.selected==l.key?"selected":"")},[ne(i,{icon:l.icon},null,8,["icon"])],10,$f))),256))]),ne(c,{style:{height:"100%",width:"100%"},onResize:t[0]||(t[0]=l=>o.changeSize(l[0].size)),onPaneMaximize:t[1]||(t[1]=l=>o.select(""))},{default:Ot(()=>[o.selected!=""?(z(),Fe(a,{key:0,"min-size":"10","max-size":"20",size:o.curSize},{default:Ot(()=>[Nf]),_:1},8,["size"])):Ee("",!0),ne(a,null,{default:Ot(()=>[ne(u)]),_:1})]),_:1})],64)}const Mf=Te(Ef,[["render",Tf],["__scopeId","data-v-3788aeb5"]]);const zf={class:"editor"},Af=Q("div",{id:"editor-blank",style:{display:"none"}},null,-1),Df=qe({__name:"App",setup(e){return(t,n)=>(z(),B(ce,null,[Q("div",zf,[ne(Mf)]),Af],64))}});var os={},Lf={get exports(){return os},set exports(e){os=e}};(function(e){var t=function(n){var o=Object.prototype,r=o.hasOwnProperty,s=Object.defineProperty||function(v,y,C){v[y]=C.value},i,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function d(v,y,C){return Object.defineProperty(v,y,{value:C,enumerable:!0,configurable:!0,writable:!0}),v[y]}try{d({},"")}catch{d=function(y,C,W){return y[C]=W}}function h(v,y,C,W){var R=y&&y.prototype instanceof M?y:M,le=Object.create(R.prototype),xe=new ae(W||[]);return s(le,"_invoke",{value:H(v,C,xe)}),le}n.wrap=h;function m(v,y,C){try{return{type:"normal",arg:v.call(y,C)}}catch(W){return{type:"throw",arg:W}}}var $="suspendedStart",P="suspendedYield",D="executing",T="completed",G={};function M(){}function J(){}function ee(){}var Be={};d(Be,u,function(){return this});var he=Object.getPrototypeOf,$e=he&&he(he(se([])));$e&&$e!==o&&r.call($e,u)&&(Be=$e);var Ze=ee.prototype=M.prototype=Object.create(Be);J.prototype=ee,s(Ze,"constructor",{value:ee,configurable:!0}),s(ee,"constructor",{value:J,configurable:!0}),J.displayName=d(ee,l,"GeneratorFunction");function k(v){["next","throw","return"].forEach(function(y){d(v,y,function(C){return this._invoke(y,C)})})}n.isGeneratorFunction=function(v){var y=typeof v=="function"&&v.constructor;return y?y===J||(y.displayName||y.name)==="GeneratorFunction":!1},n.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,ee):(v.__proto__=ee,d(v,l,"GeneratorFunction")),v.prototype=Object.create(Ze),v},n.awrap=function(v){return{__await:v}};function b(v,y){function C(le,xe,Se,Me){var ze=m(v[le],v,xe);if(ze.type==="throw")Me(ze.arg);else{var ft=ze.arg,bt=ft.value;return bt&&typeof bt=="object"&&r.call(bt,"__await")?y.resolve(bt.__await).then(function(ot){C("next",ot,Se,Me)},function(ot){C("throw",ot,Se,Me)}):y.resolve(bt).then(function(ot){ft.value=ot,Se(ft)},function(ot){return C("throw",ot,Se,Me)})}}var W;function R(le,xe){function Se(){return new y(function(Me,ze){C(le,xe,Me,ze)})}return W=W?W.then(Se,Se):Se()}s(this,"_invoke",{value:R})}k(b.prototype),d(b.prototype,c,function(){return this}),n.AsyncIterator=b,n.async=function(v,y,C,W,R){R===void 0&&(R=Promise);var le=new b(h(v,y,C,W),R);return n.isGeneratorFunction(y)?le:le.next().then(function(xe){return xe.done?xe.value:le.next()})};function H(v,y,C){var W=$;return function(le,xe){if(W===D)throw new Error("Generator is already running");if(W===T){if(le==="throw")throw xe;return oe()}for(C.method=le,C.arg=xe;;){var Se=C.delegate;if(Se){var Me=Z(Se,C);if(Me){if(Me===G)continue;return Me}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(W===$)throw W=T,C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);W=D;var ze=m(v,y,C);if(ze.type==="normal"){if(W=C.done?T:P,ze.arg===G)continue;return{value:ze.arg,done:C.done}}else ze.type==="throw"&&(W=T,C.method="throw",C.arg=ze.arg)}}}function Z(v,y){var C=y.method,W=v.iterator[C];if(W===i)return y.delegate=null,C==="throw"&&v.iterator.return&&(y.method="return",y.arg=i,Z(v,y),y.method==="throw")||C!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+C+"' method")),G;var R=m(W,v.iterator,y.arg);if(R.type==="throw")return y.method="throw",y.arg=R.arg,y.delegate=null,G;var le=R.arg;if(!le)return y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,G;if(le.done)y[v.resultName]=le.value,y.next=v.nextLoc,y.method!=="return"&&(y.method="next",y.arg=i);else return le;return y.delegate=null,G}k(Ze),d(Ze,l,"Generator"),d(Ze,u,function(){return this}),d(Ze,"toString",function(){return"[object Generator]"});function F(v){var y={tryLoc:v[0]};1 in v&&(y.catchLoc=v[1]),2 in v&&(y.finallyLoc=v[2],y.afterLoc=v[3]),this.tryEntries.push(y)}function ke(v){var y=v.completion||{};y.type="normal",delete y.arg,v.completion=y}function ae(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(F,this),this.reset(!0)}n.keys=function(v){var y=Object(v),C=[];for(var W in y)C.push(W);return C.reverse(),function R(){for(;C.length;){var le=C.pop();if(le in y)return R.value=le,R.done=!1,R}return R.done=!0,R}};function se(v){if(v){var y=v[u];if(y)return y.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var C=-1,W=function R(){for(;++C<v.length;)if(r.call(v,C))return R.value=v[C],R.done=!1,R;return R.value=i,R.done=!0,R};return W.next=W}}return{next:oe}}n.values=se;function oe(){return{value:i,done:!0}}return ae.prototype={constructor:ae,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(ke),!v)for(var y in this)y.charAt(0)==="t"&&r.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=i)},stop:function(){this.done=!0;var v=this.tryEntries[0],y=v.completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var y=this;function C(Me,ze){return le.type="throw",le.arg=v,y.next=Me,ze&&(y.method="next",y.arg=i),!!ze}for(var W=this.tryEntries.length-1;W>=0;--W){var R=this.tryEntries[W],le=R.completion;if(R.tryLoc==="root")return C("end");if(R.tryLoc<=this.prev){var xe=r.call(R,"catchLoc"),Se=r.call(R,"finallyLoc");if(xe&&Se){if(this.prev<R.catchLoc)return C(R.catchLoc,!0);if(this.prev<R.finallyLoc)return C(R.finallyLoc)}else if(xe){if(this.prev<R.catchLoc)return C(R.catchLoc,!0)}else if(Se){if(this.prev<R.finallyLoc)return C(R.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(v,y){for(var C=this.tryEntries.length-1;C>=0;--C){var W=this.tryEntries[C];if(W.tryLoc<=this.prev&&r.call(W,"finallyLoc")&&this.prev<W.finallyLoc){var R=W;break}}R&&(v==="break"||v==="continue")&&R.tryLoc<=y&&y<=R.finallyLoc&&(R=null);var le=R?R.completion:{};return le.type=v,le.arg=y,R?(this.method="next",this.next=R.finallyLoc,G):this.complete(le)},complete:function(v,y){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&y&&(this.next=y),G},finish:function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var C=this.tryEntries[y];if(C.finallyLoc===v)return this.complete(C.completion,C.afterLoc),ke(C),G}},catch:function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var C=this.tryEntries[y];if(C.tryLoc===v){var W=C.completion;if(W.type==="throw"){var R=W.arg;ke(C)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(v,y,C){return this.delegate={iterator:se(v),resultName:y,nextLoc:C},this.method==="next"&&(this.arg=i),G}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(Lf);po(Df).mount("#app");V.getOrCreate(document.getElementById("editor-blank"),void 0,void 0,!0);
