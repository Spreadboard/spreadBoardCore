var ds=Object.defineProperty;var fs=(e,t,n)=>t in e?ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var H=(e,t,n)=>(fs(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function Sr(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function Hn(e){if(q(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=xe(r)?vs(r):Hn(r);if(o)for(const i in o)t[i]=o[i]}return t}else{if(xe(e))return e;if(ke(e))return e}}const hs=/;(?![^(]*\))/g,ps=/:([^]+)/,ms=/\/\*.*?\*\//gs;function vs(e){const t={};return e.replace(ms,"").split(hs).forEach(n=>{if(n){const r=n.split(ps);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function mt(e){let t="";if(xe(e))t=e;else if(q(e))for(let n=0;n<e.length;n++){const r=mt(e[n]);r&&(t+=r+" ")}else if(ke(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const gs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",ys=Sr(gs);function Jo(e){return!!e||e===""}const ze=e=>xe(e)?e:e==null?"":q(e)||ke(e)&&(e.toString===Zo||!G(e.toString))?JSON.stringify(e,qo,2):String(e),qo=(e,t)=>t&&t.__v_isRef?qo(e,t.value):Wt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:Go(t)?{[`Set(${t.size})`]:[...t.values()]}:ke(t)&&!q(t)&&!Xo(t)?String(t):t,pe={},Vt=[],tt=()=>{},bs=()=>!1,ws=/^on[^a-z]/,Vn=e=>ws.test(e),Er=e=>e.startsWith("onUpdate:"),De=Object.assign,xr=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ks=Object.prototype.hasOwnProperty,oe=(e,t)=>ks.call(e,t),q=Array.isArray,Wt=e=>Wn(e)==="[object Map]",Go=e=>Wn(e)==="[object Set]",G=e=>typeof e=="function",xe=e=>typeof e=="string",Ir=e=>typeof e=="symbol",ke=e=>e!==null&&typeof e=="object",Yo=e=>ke(e)&&G(e.then)&&G(e.catch),Zo=Object.prototype.toString,Wn=e=>Zo.call(e),_s=e=>Wn(e).slice(8,-1),Xo=e=>Wn(e)==="[object Object]",Or=e=>xe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,xn=Sr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},Cs=/-(\w)/g,ft=zn(e=>e.replace(Cs,(t,n)=>n?n.toUpperCase():"")),Ss=/\B([A-Z])/g,Zt=zn(e=>e.replace(Ss,"-$1").toLowerCase()),Kn=zn(e=>e.charAt(0).toUpperCase()+e.slice(1)),nr=zn(e=>e?`on${Kn(e)}`:""),un=(e,t)=>!Object.is(e,t),In=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Tn=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},An=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ro;const Es=()=>ro||(ro=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let at;class xs{constructor(t=!1){this.detached=t,this.active=!0,this.effects=[],this.cleanups=[],this.parent=at,!t&&at&&(this.index=(at.scopes||(at.scopes=[])).push(this)-1)}run(t){if(this.active){const n=at;try{return at=this,t()}finally{at=n}}}on(){at=this}off(){at=this.parent}stop(t){if(this.active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function Is(e,t=at){t&&t.active&&t.effects.push(e)}const Nr=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Qo=e=>(e.w&St)>0,ei=e=>(e.n&St)>0,Os=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=St},Ns=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];Qo(o)&&!ei(o)?o.delete(e):t[n++]=o,o.w&=~St,o.n&=~St}t.length=n}},cr=new WeakMap;let on=0,St=1;const lr=30;let Xe;const Lt=Symbol(""),dr=Symbol("");class Pr{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Is(this,r)}run(){if(!this.active)return this.fn();let t=Xe,n=wt;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Xe,Xe=this,wt=!0,St=1<<++on,on<=lr?Os(this):oo(this),this.fn()}finally{on<=lr&&Ns(this),St=1<<--on,Xe=this.parent,wt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Xe===this?this.deferStop=!0:this.active&&(oo(this),this.onStop&&this.onStop(),this.active=!1)}}function oo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let wt=!0;const ti=[];function Xt(){ti.push(wt),wt=!1}function Qt(){const e=ti.pop();wt=e===void 0?!0:e}function Ke(e,t,n){if(wt&&Xe){let r=cr.get(e);r||cr.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=Nr()),ni(o)}}function ni(e,t){let n=!1;on<=lr?ei(e)||(e.n|=St,n=!Qo(e)):n=!e.has(Xe),n&&(e.add(Xe),Xe.deps.push(e))}function vt(e,t,n,r,o,i){const s=cr.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&q(e)){const u=An(r);s.forEach((c,l)=>{(l==="length"||l>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":q(e)?Or(n)&&a.push(s.get("length")):(a.push(s.get(Lt)),Wt(e)&&a.push(s.get(dr)));break;case"delete":q(e)||(a.push(s.get(Lt)),Wt(e)&&a.push(s.get(dr)));break;case"set":Wt(e)&&a.push(s.get(Lt));break}if(a.length===1)a[0]&&fr(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);fr(Nr(u))}}function fr(e,t){const n=q(e)?e:[...e];for(const r of n)r.computed&&io(r);for(const r of n)r.computed||io(r)}function io(e,t){(e!==Xe||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Ps=Sr("__proto__,__v_isRef,__isVue"),ri=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ir)),Ms=Mr(),Ts=Mr(!1,!0),As=Mr(!0),so=$s();function $s(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=ae(this);for(let i=0,s=this.length;i<s;i++)Ke(r,"get",i+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(ae)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Xt();const r=ae(this)[t].apply(this,n);return Qt(),r}}),e}function Mr(e=!1,t=!1){return function(r,o,i){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&i===(e?t?Ys:ui:t?ai:si).get(r))return r;const s=q(r);if(!e&&s&&oe(so,o))return Reflect.get(so,o,i);const a=Reflect.get(r,o,i);return(Ir(o)?ri.has(o):Ps(o))||(e||Ke(r,"get",o),t)?a:$e(a)?s&&Or(o)?a:a.value:ke(a)?e?ci(a):$r(a):a}}const Ls=oi(),Rs=oi(!0);function oi(e=!1){return function(n,r,o,i){let s=n[r];if(Jt(s)&&$e(s)&&!$e(o))return!1;if(!e&&(!$n(o)&&!Jt(o)&&(s=ae(s),o=ae(o)),!q(n)&&$e(s)&&!$e(o)))return s.value=o,!0;const a=q(n)&&Or(r)?Number(r)<n.length:oe(n,r),u=Reflect.set(n,r,o,i);return n===ae(i)&&(a?un(o,s)&&vt(n,"set",r,o):vt(n,"add",r,o)),u}}function Ds(e,t){const n=oe(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&vt(e,"delete",t,void 0),r}function js(e,t){const n=Reflect.has(e,t);return(!Ir(t)||!ri.has(t))&&Ke(e,"has",t),n}function Bs(e){return Ke(e,"iterate",q(e)?"length":Lt),Reflect.ownKeys(e)}const ii={get:Ms,set:Ls,deleteProperty:Ds,has:js,ownKeys:Bs},Fs={get:As,set(e,t){return!0},deleteProperty(e,t){return!0}},Hs=De({},ii,{get:Ts,set:Rs}),Tr=e=>e,Un=e=>Reflect.getPrototypeOf(e);function bn(e,t,n=!1,r=!1){e=e.__v_raw;const o=ae(e),i=ae(t);n||(t!==i&&Ke(o,"get",t),Ke(o,"get",i));const{has:s}=Un(o),a=r?Tr:n?Rr:cn;if(s.call(o,t))return a(e.get(t));if(s.call(o,i))return a(e.get(i));e!==o&&e.get(t)}function wn(e,t=!1){const n=this.__v_raw,r=ae(n),o=ae(e);return t||(e!==o&&Ke(r,"has",e),Ke(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function kn(e,t=!1){return e=e.__v_raw,!t&&Ke(ae(e),"iterate",Lt),Reflect.get(e,"size",e)}function ao(e){e=ae(e);const t=ae(this);return Un(t).has.call(t,e)||(t.add(e),vt(t,"add",e,e)),this}function uo(e,t){t=ae(t);const n=ae(this),{has:r,get:o}=Un(n);let i=r.call(n,e);i||(e=ae(e),i=r.call(n,e));const s=o.call(n,e);return n.set(e,t),i?un(t,s)&&vt(n,"set",e,t):vt(n,"add",e,t),this}function co(e){const t=ae(this),{has:n,get:r}=Un(t);let o=n.call(t,e);o||(e=ae(e),o=n.call(t,e)),r&&r.call(t,e);const i=t.delete(e);return o&&vt(t,"delete",e,void 0),i}function lo(){const e=ae(this),t=e.size!==0,n=e.clear();return t&&vt(e,"clear",void 0,void 0),n}function _n(e,t){return function(r,o){const i=this,s=i.__v_raw,a=ae(s),u=t?Tr:e?Rr:cn;return!e&&Ke(a,"iterate",Lt),s.forEach((c,l)=>r.call(o,u(c),u(l),i))}}function Cn(e,t,n){return function(...r){const o=this.__v_raw,i=ae(o),s=Wt(i),a=e==="entries"||e===Symbol.iterator&&s,u=e==="keys"&&s,c=o[e](...r),l=n?Tr:t?Rr:cn;return!t&&Ke(i,"iterate",u?dr:Lt),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:a?[l(h[0]),l(h[1])]:l(h),done:p}},[Symbol.iterator](){return this}}}}function yt(e){return function(...t){return e==="delete"?!1:this}}function Vs(){const e={get(i){return bn(this,i)},get size(){return kn(this)},has:wn,add:ao,set:uo,delete:co,clear:lo,forEach:_n(!1,!1)},t={get(i){return bn(this,i,!1,!0)},get size(){return kn(this)},has:wn,add:ao,set:uo,delete:co,clear:lo,forEach:_n(!1,!0)},n={get(i){return bn(this,i,!0)},get size(){return kn(this,!0)},has(i){return wn.call(this,i,!0)},add:yt("add"),set:yt("set"),delete:yt("delete"),clear:yt("clear"),forEach:_n(!0,!1)},r={get(i){return bn(this,i,!0,!0)},get size(){return kn(this,!0)},has(i){return wn.call(this,i,!0)},add:yt("add"),set:yt("set"),delete:yt("delete"),clear:yt("clear"),forEach:_n(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Cn(i,!1,!1),n[i]=Cn(i,!0,!1),t[i]=Cn(i,!1,!0),r[i]=Cn(i,!0,!0)}),[e,n,t,r]}const[Ws,zs,Ks,Us]=Vs();function Ar(e,t){const n=t?e?Us:Ks:e?zs:Ws;return(r,o,i)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(oe(n,o)&&o in r?n:r,o,i)}const Js={get:Ar(!1,!1)},qs={get:Ar(!1,!0)},Gs={get:Ar(!0,!1)},si=new WeakMap,ai=new WeakMap,ui=new WeakMap,Ys=new WeakMap;function Zs(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xs(e){return e.__v_skip||!Object.isExtensible(e)?0:Zs(_s(e))}function $r(e){return Jt(e)?e:Lr(e,!1,ii,Js,si)}function Qs(e){return Lr(e,!1,Hs,qs,ai)}function ci(e){return Lr(e,!0,Fs,Gs,ui)}function Lr(e,t,n,r,o){if(!ke(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=o.get(e);if(i)return i;const s=Xs(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return o.set(e,a),a}function zt(e){return Jt(e)?zt(e.__v_raw):!!(e&&e.__v_isReactive)}function Jt(e){return!!(e&&e.__v_isReadonly)}function $n(e){return!!(e&&e.__v_isShallow)}function li(e){return zt(e)||Jt(e)}function ae(e){const t=e&&e.__v_raw;return t?ae(t):e}function di(e){return Tn(e,"__v_skip",!0),e}const cn=e=>ke(e)?$r(e):e,Rr=e=>ke(e)?ci(e):e;function fi(e){wt&&Xe&&(e=ae(e),ni(e.dep||(e.dep=Nr())))}function hi(e,t){e=ae(e),e.dep&&fr(e.dep)}function $e(e){return!!(e&&e.__v_isRef===!0)}function ct(e){return ea(e,!1)}function ea(e,t){return $e(e)?e:new ta(e,t)}class ta{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:ae(t),this._value=n?t:cn(t)}get value(){return fi(this),this._value}set value(t){const n=this.__v_isShallow||$n(t)||Jt(t);t=n?t:ae(t),un(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:cn(t),hi(this))}}function na(e){return $e(e)?e.value:e}const ra={get:(e,t,n)=>na(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return $e(o)&&!$e(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function pi(e){return zt(e)?e:new Proxy(e,ra)}var mi;class oa{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[mi]=!1,this._dirty=!0,this.effect=new Pr(t,()=>{this._dirty||(this._dirty=!0,hi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=ae(this);return fi(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}mi="__v_isReadonly";function ia(e,t,n=!1){let r,o;const i=G(e);return i?(r=e,o=tt):(r=e.get,o=e.set),new oa(r,o,i||!o,n)}function kt(e,t,n,r){let o;try{o=r?e(...r):e()}catch(i){Jn(i,t,n)}return o}function nt(e,t,n,r){if(G(e)){const i=kt(e,t,n,r);return i&&Yo(i)&&i.catch(s=>{Jn(s,t,n)}),i}const o=[];for(let i=0;i<e.length;i++)o.push(nt(e[i],t,n,r));return o}function Jn(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let i=t.parent;const s=t.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,s,a)===!1)return}i=i.parent}const u=t.appContext.config.errorHandler;if(u){kt(u,null,10,[e,s,a]);return}}sa(e,n,o,r)}function sa(e,t,n,r=!0){console.error(e)}let ln=!1,hr=!1;const Ae=[];let lt=0;const Kt=[];let pt=null,Tt=0;const vi=Promise.resolve();let Dr=null;function gi(e){const t=Dr||vi;return e?t.then(this?e.bind(this):e):t}function aa(e){let t=lt+1,n=Ae.length;for(;t<n;){const r=t+n>>>1;dn(Ae[r])<e?t=r+1:n=r}return t}function jr(e){(!Ae.length||!Ae.includes(e,ln&&e.allowRecurse?lt+1:lt))&&(e.id==null?Ae.push(e):Ae.splice(aa(e.id),0,e),yi())}function yi(){!ln&&!hr&&(hr=!0,Dr=vi.then(wi))}function ua(e){const t=Ae.indexOf(e);t>lt&&Ae.splice(t,1)}function ca(e){q(e)?Kt.push(...e):(!pt||!pt.includes(e,e.allowRecurse?Tt+1:Tt))&&Kt.push(e),yi()}function fo(e,t=ln?lt+1:0){for(;t<Ae.length;t++){const n=Ae[t];n&&n.pre&&(Ae.splice(t,1),t--,n())}}function bi(e){if(Kt.length){const t=[...new Set(Kt)];if(Kt.length=0,pt){pt.push(...t);return}for(pt=t,pt.sort((n,r)=>dn(n)-dn(r)),Tt=0;Tt<pt.length;Tt++)pt[Tt]();pt=null,Tt=0}}const dn=e=>e.id==null?1/0:e.id,la=(e,t)=>{const n=dn(e)-dn(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function wi(e){hr=!1,ln=!0,Ae.sort(la);const t=tt;try{for(lt=0;lt<Ae.length;lt++){const n=Ae[lt];n&&n.active!==!1&&kt(n,null,14)}}finally{lt=0,Ae.length=0,bi(),ln=!1,Dr=null,(Ae.length||Kt.length)&&wi()}}function da(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||pe;let o=n;const i=t.startsWith("update:"),s=i&&t.slice(7);if(s&&s in r){const l=`${s==="modelValue"?"model":s}Modifiers`,{number:h,trim:p}=r[l]||pe;p&&(o=n.map(y=>xe(y)?y.trim():y)),h&&(o=n.map(An))}let a,u=r[a=nr(t)]||r[a=nr(ft(t))];!u&&i&&(u=r[a=nr(Zt(t))]),u&&nt(u,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,nt(c,e,6,o)}}function ki(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const i=e.emits;let s={},a=!1;if(!G(e)){const u=c=>{const l=ki(c,t,!0);l&&(a=!0,De(s,l))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!i&&!a?(ke(e)&&r.set(e,null),null):(q(i)?i.forEach(u=>s[u]=null):De(s,i),ke(e)&&r.set(e,s),s)}function qn(e,t){return!e||!Vn(t)?!1:(t=t.slice(2).replace(/Once$/,""),oe(e,t[0].toLowerCase()+t.slice(1))||oe(e,Zt(t))||oe(e,t))}let Je=null,Gn=null;function Ln(e){const t=Je;return Je=e,Gn=e&&e.type.__scopeId||null,t}function Br(e){Gn=e}function Fr(){Gn=null}const _i=e=>Ci;function Ci(e,t=Je,n){if(!t||e._n)return e;const r=(...o)=>{r._d&&ko(-1);const i=Ln(t);let s;try{s=e(...o)}finally{Ln(i),r._d&&ko(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function rr(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:i,propsOptions:[s],slots:a,attrs:u,emit:c,render:l,renderCache:h,data:p,setupState:y,ctx:L,inheritAttrs:M}=e;let U,V;const se=Ln(e);try{if(n.shapeFlag&4){const W=o||r;U=ut(l.call(W,W,h,i,y,p,L)),V=u}else{const W=t;U=ut(W.length>1?W(i,{attrs:u,slots:a,emit:c}):W(i,null)),V=t.props?u:fa(u)}}catch(W){an.length=0,Jn(W,e,1),U=Ee(jt)}let N=U;if(V&&M!==!1){const W=Object.keys(V),{shapeFlag:J}=N;W.length&&J&7&&(s&&W.some(Er)&&(V=ha(V,s)),N=qt(N,V))}return n.dirs&&(N=qt(N),N.dirs=N.dirs?N.dirs.concat(n.dirs):n.dirs),n.transition&&(N.transition=n.transition),U=N,Ln(se),U}const fa=e=>{let t;for(const n in e)(n==="class"||n==="style"||Vn(n))&&((t||(t={}))[n]=e[n]);return t},ha=(e,t)=>{const n={};for(const r in e)(!Er(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function pa(e,t,n){const{props:r,children:o,component:i}=e,{props:s,children:a,patchFlag:u}=t,c=i.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?ho(r,s,c):!!s;if(u&8){const l=t.dynamicProps;for(let h=0;h<l.length;h++){const p=l[h];if(s[p]!==r[p]&&!qn(c,p))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?ho(r,s,c):!0:!!s;return!1}function ho(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const i=r[o];if(t[i]!==e[i]&&!qn(n,i))return!0}return!1}function ma({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const va=e=>e.__isSuspense;function ga(e,t){t&&t.pendingBranch?q(e)?t.effects.push(...e):t.effects.push(e):ca(e)}function ya(e,t){if(Me){let n=Me.provides;const r=Me.parent&&Me.parent.provides;r===n&&(n=Me.provides=Object.create(r)),n[e]=t}}function On(e,t,n=!1){const r=Me||Je;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&G(t)?t.call(r.proxy):t}}const Sn={};function or(e,t,n){return Si(e,t,n)}function Si(e,t,{immediate:n,deep:r,flush:o,onTrack:i,onTrigger:s}=pe){const a=Me;let u,c=!1,l=!1;if($e(e)?(u=()=>e.value,c=$n(e)):zt(e)?(u=()=>e,r=!0):q(e)?(l=!0,c=e.some(N=>zt(N)||$n(N)),u=()=>e.map(N=>{if($e(N))return N.value;if(zt(N))return $t(N);if(G(N))return kt(N,a,2)})):G(e)?t?u=()=>kt(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return h&&h(),nt(e,a,3,[p])}:u=tt,t&&r){const N=u;u=()=>$t(N())}let h,p=N=>{h=V.onStop=()=>{kt(N,a,4)}},y;if(pn)if(p=tt,t?n&&nt(t,a,3,[u(),l?[]:void 0,p]):u(),o==="sync"){const N=lu();y=N.__watcherHandles||(N.__watcherHandles=[])}else return tt;let L=l?new Array(e.length).fill(Sn):Sn;const M=()=>{if(V.active)if(t){const N=V.run();(r||c||(l?N.some((W,J)=>un(W,L[J])):un(N,L)))&&(h&&h(),nt(t,a,3,[N,L===Sn?void 0:l&&L[0]===Sn?[]:L,p]),L=N)}else V.run()};M.allowRecurse=!!t;let U;o==="sync"?U=M:o==="post"?U=()=>je(M,a&&a.suspense):(M.pre=!0,a&&(M.id=a.uid),U=()=>jr(M));const V=new Pr(u,U);t?n?M():L=V.run():o==="post"?je(V.run.bind(V),a&&a.suspense):V.run();const se=()=>{V.stop(),a&&a.scope&&xr(a.scope.effects,V)};return y&&y.push(se),se}function ba(e,t,n){const r=this.proxy,o=xe(e)?e.includes(".")?Ei(r,e):()=>r[e]:e.bind(r,r);let i;G(t)?i=t:(i=t.handler,n=t);const s=Me;Gt(this);const a=Si(o,i.bind(r),n);return s?Gt(s):Dt(),a}function Ei(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function $t(e,t){if(!ke(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),$e(e))$t(e.value,t);else if(q(e))for(let n=0;n<e.length;n++)$t(e[n],t);else if(Go(e)||Wt(e))e.forEach(n=>{$t(n,t)});else if(Xo(e))for(const n in e)$t(e[n],t);return e}function It(e){return G(e)?{setup:e,name:e.name}:e}const Nn=e=>!!e.type.__asyncLoader,xi=e=>e.type.__isKeepAlive;function wa(e,t){Ii(e,"a",t)}function ka(e,t){Ii(e,"da",t)}function Ii(e,t,n=Me){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Yn(t,r,n),n){let o=n.parent;for(;o&&o.parent;)xi(o.parent.vnode)&&_a(r,t,n,o),o=o.parent}}function _a(e,t,n,r){const o=Yn(t,e,r,!0);Pi(()=>{xr(r[t],o)},n)}function Yn(e,t,n=Me,r=!1){if(n){const o=n[e]||(n[e]=[]),i=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;Xt(),Gt(n);const a=nt(t,n,e,s);return Dt(),Qt(),a});return r?o.unshift(i):o.push(i),i}}const gt=e=>(t,n=Me)=>(!pn||e==="sp")&&Yn(e,(...r)=>t(...r),n),Ca=gt("bm"),Oi=gt("m"),Sa=gt("bu"),Ni=gt("u"),Ea=gt("bum"),Pi=gt("um"),xa=gt("sp"),Ia=gt("rtg"),Oa=gt("rtc");function Na(e,t=Me){Yn("ec",e,t)}function Qe(e,t){const n=Je;if(n===null)return e;const r=Qn(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[s,a,u,c=pe]=t[i];s&&(G(s)&&(s={mounted:s,updated:s}),s.deep&&$t(a),o.push({dir:s,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function Nt(e,t,n,r){const o=e.dirs,i=t&&t.dirs;for(let s=0;s<o.length;s++){const a=o[s];i&&(a.oldValue=i[s].value);let u=a.dir[r];u&&(Xt(),nt(u,n,8,[e.el,a,e,t]),Qt())}}const Mi="components",Pa="directives";function fn(e,t){return Ti(Mi,e,!0,t)||e}const Ma=Symbol();function Rn(e){return Ti(Pa,e)}function Ti(e,t,n=!0,r=!1){const o=Je||Me;if(o){const i=o.type;if(e===Mi){const a=au(i,!1);if(a&&(a===t||a===ft(t)||a===Kn(ft(t))))return i}const s=po(o[e]||i[e],t)||po(o.appContext[e],t);return!s&&r?i:s}}function po(e,t){return e&&(e[t]||e[ft(t)]||e[Kn(ft(t))])}function dt(e,t,n,r){let o;const i=n&&n[r];if(q(e)||xe(e)){o=new Array(e.length);for(let s=0,a=e.length;s<a;s++)o[s]=t(e[s],s,void 0,i&&i[s])}else if(typeof e=="number"){o=new Array(e);for(let s=0;s<e;s++)o[s]=t(s+1,s,void 0,i&&i[s])}else if(ke(e))if(e[Symbol.iterator])o=Array.from(e,(s,a)=>t(s,a,void 0,i&&i[a]));else{const s=Object.keys(e);o=new Array(s.length);for(let a=0,u=s.length;a<u;a++){const c=s[a];o[a]=t(e[c],c,a,i&&i[a])}}else o=[];return n&&(n[r]=o),o}const pr=e=>e?zi(e)?Qn(e)||e.proxy:pr(e.parent):null,sn=De(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pr(e.parent),$root:e=>pr(e.root),$emit:e=>e.emit,$options:e=>Hr(e),$forceUpdate:e=>e.f||(e.f=()=>jr(e.update)),$nextTick:e=>e.n||(e.n=gi.bind(e.proxy)),$watch:e=>ba.bind(e)}),ir=(e,t)=>e!==pe&&!e.__isScriptSetup&&oe(e,t),Ta={get({_:e},t){const{ctx:n,setupState:r,data:o,props:i,accessCache:s,type:a,appContext:u}=e;let c;if(t[0]!=="$"){const y=s[t];if(y!==void 0)switch(y){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return i[t]}else{if(ir(r,t))return s[t]=1,r[t];if(o!==pe&&oe(o,t))return s[t]=2,o[t];if((c=e.propsOptions[0])&&oe(c,t))return s[t]=3,i[t];if(n!==pe&&oe(n,t))return s[t]=4,n[t];mr&&(s[t]=0)}}const l=sn[t];let h,p;if(l)return t==="$attrs"&&Ke(e,"get",t),l(e);if((h=a.__cssModules)&&(h=h[t]))return h;if(n!==pe&&oe(n,t))return s[t]=4,n[t];if(p=u.config.globalProperties,oe(p,t))return p[t]},set({_:e},t,n){const{data:r,setupState:o,ctx:i}=e;return ir(o,t)?(o[t]=n,!0):r!==pe&&oe(r,t)?(r[t]=n,!0):oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(i[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:i}},s){let a;return!!n[s]||e!==pe&&oe(e,s)||ir(t,s)||(a=i[0])&&oe(a,s)||oe(r,s)||oe(sn,s)||oe(o.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let mr=!0;function Aa(e){const t=Hr(e),n=e.proxy,r=e.ctx;mr=!1,t.beforeCreate&&mo(t.beforeCreate,e,"bc");const{data:o,computed:i,methods:s,watch:a,provide:u,inject:c,created:l,beforeMount:h,mounted:p,beforeUpdate:y,updated:L,activated:M,deactivated:U,beforeDestroy:V,beforeUnmount:se,destroyed:N,unmounted:W,render:J,renderTracked:Te,renderTriggered:ue,errorCaptured:Ie,serverPrefetch:He,expose:_,inheritAttrs:b,components:D,directives:z,filters:R}=t;if(c&&$a(c,r,null,e.appContext.config.unwrapInjectedRef),s)for(const Z in s){const Y=s[Z];G(Y)&&(r[Z]=Y.bind(n))}if(o){const Z=o.call(n,n);ke(Z)&&(e.data=$r(Z))}if(mr=!0,i)for(const Z in i){const Y=i[Z],m=G(Y)?Y.bind(n,n):G(Y.get)?Y.get.bind(n,n):tt,g=!G(Y)&&G(Y.set)?Y.set.bind(n):tt,S=Et({get:m,set:g});Object.defineProperty(r,Z,{enumerable:!0,configurable:!0,get:()=>S.value,set:j=>S.value=j})}if(a)for(const Z in a)Ai(a[Z],r,n,Z);if(u){const Z=G(u)?u.call(n):u;Reflect.ownKeys(Z).forEach(Y=>{ya(Y,Z[Y])})}l&&mo(l,e,"c");function ee(Z,Y){q(Y)?Y.forEach(m=>Z(m.bind(n))):Y&&Z(Y.bind(n))}if(ee(Ca,h),ee(Oi,p),ee(Sa,y),ee(Ni,L),ee(wa,M),ee(ka,U),ee(Na,Ie),ee(Oa,Te),ee(Ia,ue),ee(Ea,se),ee(Pi,W),ee(xa,He),q(_))if(_.length){const Z=e.exposed||(e.exposed={});_.forEach(Y=>{Object.defineProperty(Z,Y,{get:()=>n[Y],set:m=>n[Y]=m})})}else e.exposed||(e.exposed={});J&&e.render===tt&&(e.render=J),b!=null&&(e.inheritAttrs=b),D&&(e.components=D),z&&(e.directives=z)}function $a(e,t,n=tt,r=!1){q(e)&&(e=vr(e));for(const o in e){const i=e[o];let s;ke(i)?"default"in i?s=On(i.from||o,i.default,!0):s=On(i.from||o):s=On(i),$e(s)&&r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>s.value,set:a=>s.value=a}):t[o]=s}}function mo(e,t,n){nt(q(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Ai(e,t,n,r){const o=r.includes(".")?Ei(n,r):()=>n[r];if(xe(e)){const i=t[e];G(i)&&or(o,i)}else if(G(e))or(o,e.bind(n));else if(ke(e))if(q(e))e.forEach(i=>Ai(i,t,n,r));else{const i=G(e.handler)?e.handler.bind(n):t[e.handler];G(i)&&or(o,i,e)}}function Hr(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:i,config:{optionMergeStrategies:s}}=e.appContext,a=i.get(t);let u;return a?u=a:!o.length&&!n&&!r?u=t:(u={},o.length&&o.forEach(c=>Dn(u,c,s,!0)),Dn(u,t,s)),ke(t)&&i.set(t,u),u}function Dn(e,t,n,r=!1){const{mixins:o,extends:i}=t;i&&Dn(e,i,n,!0),o&&o.forEach(s=>Dn(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=La[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const La={data:vo,props:Mt,emits:Mt,methods:Mt,computed:Mt,beforeCreate:Re,created:Re,beforeMount:Re,mounted:Re,beforeUpdate:Re,updated:Re,beforeDestroy:Re,beforeUnmount:Re,destroyed:Re,unmounted:Re,activated:Re,deactivated:Re,errorCaptured:Re,serverPrefetch:Re,components:Mt,directives:Mt,watch:Da,provide:vo,inject:Ra};function vo(e,t){return t?e?function(){return De(G(e)?e.call(this,this):e,G(t)?t.call(this,this):t)}:t:e}function Ra(e,t){return Mt(vr(e),vr(t))}function vr(e){if(q(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Re(e,t){return e?[...new Set([].concat(e,t))]:t}function Mt(e,t){return e?De(De(Object.create(null),e),t):t}function Da(e,t){if(!e)return t;if(!t)return e;const n=De(Object.create(null),e);for(const r in t)n[r]=Re(e[r],t[r]);return n}function ja(e,t,n,r=!1){const o={},i={};Tn(i,Xn,1),e.propsDefaults=Object.create(null),$i(e,t,o,i);for(const s in e.propsOptions[0])s in o||(o[s]=void 0);n?e.props=r?o:Qs(o):e.type.props?e.props=o:e.props=i,e.attrs=i}function Ba(e,t,n,r){const{props:o,attrs:i,vnode:{patchFlag:s}}=e,a=ae(o),[u]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const l=e.vnode.dynamicProps;for(let h=0;h<l.length;h++){let p=l[h];if(qn(e.emitsOptions,p))continue;const y=t[p];if(u)if(oe(i,p))y!==i[p]&&(i[p]=y,c=!0);else{const L=ft(p);o[L]=gr(u,a,L,y,e,!1)}else y!==i[p]&&(i[p]=y,c=!0)}}}else{$i(e,t,o,i)&&(c=!0);let l;for(const h in a)(!t||!oe(t,h)&&((l=Zt(h))===h||!oe(t,l)))&&(u?n&&(n[h]!==void 0||n[l]!==void 0)&&(o[h]=gr(u,a,h,void 0,e,!0)):delete o[h]);if(i!==a)for(const h in i)(!t||!oe(t,h))&&(delete i[h],c=!0)}c&&vt(e,"set","$attrs")}function $i(e,t,n,r){const[o,i]=e.propsOptions;let s=!1,a;if(t)for(let u in t){if(xn(u))continue;const c=t[u];let l;o&&oe(o,l=ft(u))?!i||!i.includes(l)?n[l]=c:(a||(a={}))[l]=c:qn(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,s=!0)}if(i){const u=ae(n),c=a||pe;for(let l=0;l<i.length;l++){const h=i[l];n[h]=gr(o,u,h,c[h],e,!oe(c,h))}}return s}function gr(e,t,n,r,o,i){const s=e[n];if(s!=null){const a=oe(s,"default");if(a&&r===void 0){const u=s.default;if(s.type!==Function&&G(u)){const{propsDefaults:c}=o;n in c?r=c[n]:(Gt(o),r=c[n]=u.call(null,t),Dt())}else r=u}s[0]&&(i&&!a?r=!1:s[1]&&(r===""||r===Zt(n))&&(r=!0))}return r}function Li(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const i=e.props,s={},a=[];let u=!1;if(!G(e)){const l=h=>{u=!0;const[p,y]=Li(h,t,!0);De(s,p),y&&a.push(...y)};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!i&&!u)return ke(e)&&r.set(e,Vt),Vt;if(q(i))for(let l=0;l<i.length;l++){const h=ft(i[l]);go(h)&&(s[h]=pe)}else if(i)for(const l in i){const h=ft(l);if(go(h)){const p=i[l],y=s[h]=q(p)||G(p)?{type:p}:Object.assign({},p);if(y){const L=wo(Boolean,y.type),M=wo(String,y.type);y[0]=L>-1,y[1]=M<0||L<M,(L>-1||oe(y,"default"))&&a.push(h)}}}const c=[s,a];return ke(e)&&r.set(e,c),c}function go(e){return e[0]!=="$"}function yo(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function bo(e,t){return yo(e)===yo(t)}function wo(e,t){return q(t)?t.findIndex(n=>bo(n,e)):G(t)&&bo(t,e)?0:-1}const Ri=e=>e[0]==="_"||e==="$stable",Vr=e=>q(e)?e.map(ut):[ut(e)],Fa=(e,t,n)=>{if(t._n)return t;const r=Ci((...o)=>Vr(t(...o)),n);return r._c=!1,r},Di=(e,t,n)=>{const r=e._ctx;for(const o in e){if(Ri(o))continue;const i=e[o];if(G(i))t[o]=Fa(o,i,r);else if(i!=null){const s=Vr(i);t[o]=()=>s}}},ji=(e,t)=>{const n=Vr(t);e.slots.default=()=>n},Ha=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=ae(t),Tn(t,"_",n)):Di(t,e.slots={})}else e.slots={},t&&ji(e,t);Tn(e.slots,Xn,1)},Va=(e,t,n)=>{const{vnode:r,slots:o}=e;let i=!0,s=pe;if(r.shapeFlag&32){const a=t._;a?n&&a===1?i=!1:(De(o,t),!n&&a===1&&delete o._):(i=!t.$stable,Di(t,o)),s=t}else t&&(ji(e,t),s={default:1});if(i)for(const a in o)!Ri(a)&&!(a in s)&&delete o[a]};function Bi(){return{app:null,config:{isNativeTag:bs,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Wa=0;function za(e,t){return function(r,o=null){G(r)||(r=Object.assign({},r)),o!=null&&!ke(o)&&(o=null);const i=Bi(),s=new Set;let a=!1;const u=i.app={_uid:Wa++,_component:r,_props:o,_container:null,_context:i,_instance:null,version:du,get config(){return i.config},set config(c){},use(c,...l){return s.has(c)||(c&&G(c.install)?(s.add(c),c.install(u,...l)):G(c)&&(s.add(c),c(u,...l))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,l){return l?(i.components[c]=l,u):i.components[c]},directive(c,l){return l?(i.directives[c]=l,u):i.directives[c]},mount(c,l,h){if(!a){const p=Ee(r,o);return p.appContext=i,l&&t?t(p,c):e(p,c,h),a=!0,u._container=c,c.__vue_app__=u,Qn(p.component)||p.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return i.provides[c]=l,u}};return u}}function yr(e,t,n,r,o=!1){if(q(e)){e.forEach((p,y)=>yr(p,t&&(q(t)?t[y]:t),n,r,o));return}if(Nn(r)&&!o)return;const i=r.shapeFlag&4?Qn(r.component)||r.component.proxy:r.el,s=o?null:i,{i:a,r:u}=e,c=t&&t.r,l=a.refs===pe?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==u&&(xe(c)?(l[c]=null,oe(h,c)&&(h[c]=null)):$e(c)&&(c.value=null)),G(u))kt(u,a,12,[s,l]);else{const p=xe(u),y=$e(u);if(p||y){const L=()=>{if(e.f){const M=p?oe(h,u)?h[u]:l[u]:u.value;o?q(M)&&xr(M,i):q(M)?M.includes(i)||M.push(i):p?(l[u]=[i],oe(h,u)&&(h[u]=l[u])):(u.value=[i],e.k&&(l[e.k]=u.value))}else p?(l[u]=s,oe(h,u)&&(h[u]=s)):y&&(u.value=s,e.k&&(l[e.k]=s))};s?(L.id=-1,je(L,n)):L()}}}const je=ga;function Ka(e){return Ua(e)}function Ua(e,t){const n=Es();n.__VUE__=!0;const{insert:r,remove:o,patchProp:i,createElement:s,createText:a,createComment:u,setText:c,setElementText:l,parentNode:h,nextSibling:p,setScopeId:y=tt,insertStaticContent:L}=e,M=(d,f,v,k=null,w=null,I=null,P=!1,x=null,O=!!f.dynamicChildren)=>{if(d===f)return;d&&!tn(d,f)&&(k=Ne(d),j(d,w,I,!0),d=null),f.patchFlag===-2&&(O=!1,f.dynamicChildren=null);const{type:C,ref:B,shapeFlag:T}=f;switch(C){case Zn:U(d,f,v,k);break;case jt:V(d,f,v,k);break;case sr:d==null&&se(f,v,k,P);break;case ye:D(d,f,v,k,w,I,P,x,O);break;default:T&1?J(d,f,v,k,w,I,P,x,O):T&6?z(d,f,v,k,w,I,P,x,O):(T&64||T&128)&&C.process(d,f,v,k,w,I,P,x,O,ot)}B!=null&&w&&yr(B,d&&d.ref,I,f||d,!f)},U=(d,f,v,k)=>{if(d==null)r(f.el=a(f.children),v,k);else{const w=f.el=d.el;f.children!==d.children&&c(w,f.children)}},V=(d,f,v,k)=>{d==null?r(f.el=u(f.children||""),v,k):f.el=d.el},se=(d,f,v,k)=>{[d.el,d.anchor]=L(d.children,f,v,k,d.el,d.anchor)},N=({el:d,anchor:f},v,k)=>{let w;for(;d&&d!==f;)w=p(d),r(d,v,k),d=w;r(f,v,k)},W=({el:d,anchor:f})=>{let v;for(;d&&d!==f;)v=p(d),o(d),d=v;o(f)},J=(d,f,v,k,w,I,P,x,O)=>{P=P||f.type==="svg",d==null?Te(f,v,k,w,I,P,x,O):He(d,f,w,I,P,x,O)},Te=(d,f,v,k,w,I,P,x)=>{let O,C;const{type:B,props:T,shapeFlag:F,transition:K,dirs:te}=d;if(O=d.el=s(d.type,I,T&&T.is,T),F&8?l(O,d.children):F&16&&Ie(d.children,O,null,k,w,I&&B!=="foreignObject",P,x),te&&Nt(d,null,k,"created"),T){for(const ce in T)ce!=="value"&&!xn(ce)&&i(O,ce,null,T[ce],I,d.children,k,w,ve);"value"in T&&i(O,"value",null,T.value),(C=T.onVnodeBeforeMount)&&st(C,k,d)}ue(O,d,d.scopeId,P,k),te&&Nt(d,null,k,"beforeMount");const fe=(!w||w&&!w.pendingBranch)&&K&&!K.persisted;fe&&K.beforeEnter(O),r(O,f,v),((C=T&&T.onVnodeMounted)||fe||te)&&je(()=>{C&&st(C,k,d),fe&&K.enter(O),te&&Nt(d,null,k,"mounted")},w)},ue=(d,f,v,k,w)=>{if(v&&y(d,v),k)for(let I=0;I<k.length;I++)y(d,k[I]);if(w){let I=w.subTree;if(f===I){const P=w.vnode;ue(d,P,P.scopeId,P.slotScopeIds,w.parent)}}},Ie=(d,f,v,k,w,I,P,x,O=0)=>{for(let C=O;C<d.length;C++){const B=d[C]=x?bt(d[C]):ut(d[C]);M(null,B,f,v,k,w,I,P,x)}},He=(d,f,v,k,w,I,P)=>{const x=f.el=d.el;let{patchFlag:O,dynamicChildren:C,dirs:B}=f;O|=d.patchFlag&16;const T=d.props||pe,F=f.props||pe;let K;v&&Pt(v,!1),(K=F.onVnodeBeforeUpdate)&&st(K,v,f,d),B&&Nt(f,d,v,"beforeUpdate"),v&&Pt(v,!0);const te=w&&f.type!=="foreignObject";if(C?_(d.dynamicChildren,C,x,v,k,te,I):P||Y(d,f,x,null,v,k,te,I,!1),O>0){if(O&16)b(x,f,T,F,v,k,w);else if(O&2&&T.class!==F.class&&i(x,"class",null,F.class,w),O&4&&i(x,"style",T.style,F.style,w),O&8){const fe=f.dynamicProps;for(let ce=0;ce<fe.length;ce++){const Ce=fe[ce],Ye=T[Ce],Ft=F[Ce];(Ft!==Ye||Ce==="value")&&i(x,Ce,Ye,Ft,w,d.children,v,k,ve)}}O&1&&d.children!==f.children&&l(x,f.children)}else!P&&C==null&&b(x,f,T,F,v,k,w);((K=F.onVnodeUpdated)||B)&&je(()=>{K&&st(K,v,f,d),B&&Nt(f,d,v,"updated")},k)},_=(d,f,v,k,w,I,P)=>{for(let x=0;x<f.length;x++){const O=d[x],C=f[x],B=O.el&&(O.type===ye||!tn(O,C)||O.shapeFlag&70)?h(O.el):v;M(O,C,B,null,k,w,I,P,!0)}},b=(d,f,v,k,w,I,P)=>{if(v!==k){if(v!==pe)for(const x in v)!xn(x)&&!(x in k)&&i(d,x,v[x],null,P,f.children,w,I,ve);for(const x in k){if(xn(x))continue;const O=k[x],C=v[x];O!==C&&x!=="value"&&i(d,x,C,O,P,f.children,w,I,ve)}"value"in k&&i(d,"value",v.value,k.value)}},D=(d,f,v,k,w,I,P,x,O)=>{const C=f.el=d?d.el:a(""),B=f.anchor=d?d.anchor:a("");let{patchFlag:T,dynamicChildren:F,slotScopeIds:K}=f;K&&(x=x?x.concat(K):K),d==null?(r(C,v,k),r(B,v,k),Ie(f.children,v,B,w,I,P,x,O)):T>0&&T&64&&F&&d.dynamicChildren?(_(d.dynamicChildren,F,v,w,I,P,x),(f.key!=null||w&&f===w.subTree)&&Fi(d,f,!0)):Y(d,f,v,B,w,I,P,x,O)},z=(d,f,v,k,w,I,P,x,O)=>{f.slotScopeIds=x,d==null?f.shapeFlag&512?w.ctx.activate(f,v,k,P,O):R(f,v,k,w,I,P,O):me(d,f,O)},R=(d,f,v,k,w,I,P)=>{const x=d.component=nu(d,k,w);if(xi(d)&&(x.ctx.renderer=ot),ru(x),x.asyncDep){if(w&&w.registerDep(x,ee),!d.el){const O=x.subTree=Ee(jt);V(null,O,f,v)}return}ee(x,d,f,v,w,I,P)},me=(d,f,v)=>{const k=f.component=d.component;if(pa(d,f,v))if(k.asyncDep&&!k.asyncResolved){Z(k,f,v);return}else k.next=f,ua(k.update),k.update();else f.el=d.el,k.vnode=f},ee=(d,f,v,k,w,I,P)=>{const x=()=>{if(d.isMounted){let{next:B,bu:T,u:F,parent:K,vnode:te}=d,fe=B,ce;Pt(d,!1),B?(B.el=te.el,Z(d,B,P)):B=te,T&&In(T),(ce=B.props&&B.props.onVnodeBeforeUpdate)&&st(ce,K,B,te),Pt(d,!0);const Ce=rr(d),Ye=d.subTree;d.subTree=Ce,M(Ye,Ce,h(Ye.el),Ne(Ye),d,w,I),B.el=Ce.el,fe===null&&ma(d,Ce.el),F&&je(F,w),(ce=B.props&&B.props.onVnodeUpdated)&&je(()=>st(ce,K,B,te),w)}else{let B;const{el:T,props:F}=f,{bm:K,m:te,parent:fe}=d,ce=Nn(f);if(Pt(d,!1),K&&In(K),!ce&&(B=F&&F.onVnodeBeforeMount)&&st(B,fe,f),Pt(d,!0),T&&Ge){const Ce=()=>{d.subTree=rr(d),Ge(T,d.subTree,d,w,null)};ce?f.type.__asyncLoader().then(()=>!d.isUnmounted&&Ce()):Ce()}else{const Ce=d.subTree=rr(d);M(null,Ce,v,k,d,w,I),f.el=Ce.el}if(te&&je(te,w),!ce&&(B=F&&F.onVnodeMounted)){const Ce=f;je(()=>st(B,fe,Ce),w)}(f.shapeFlag&256||fe&&Nn(fe.vnode)&&fe.vnode.shapeFlag&256)&&d.a&&je(d.a,w),d.isMounted=!0,f=v=k=null}},O=d.effect=new Pr(x,()=>jr(C),d.scope),C=d.update=()=>O.run();C.id=d.uid,Pt(d,!0),C()},Z=(d,f,v)=>{f.component=d;const k=d.vnode.props;d.vnode=f,d.next=null,Ba(d,f.props,k,v),Va(d,f.children,v),Xt(),fo(),Qt()},Y=(d,f,v,k,w,I,P,x,O=!1)=>{const C=d&&d.children,B=d?d.shapeFlag:0,T=f.children,{patchFlag:F,shapeFlag:K}=f;if(F>0){if(F&128){g(C,T,v,k,w,I,P,x,O);return}else if(F&256){m(C,T,v,k,w,I,P,x,O);return}}K&8?(B&16&&ve(C,w,I),T!==C&&l(v,T)):B&16?K&16?g(C,T,v,k,w,I,P,x,O):ve(C,w,I,!0):(B&8&&l(v,""),K&16&&Ie(T,v,k,w,I,P,x,O))},m=(d,f,v,k,w,I,P,x,O)=>{d=d||Vt,f=f||Vt;const C=d.length,B=f.length,T=Math.min(C,B);let F;for(F=0;F<T;F++){const K=f[F]=O?bt(f[F]):ut(f[F]);M(d[F],K,v,null,w,I,P,x,O)}C>B?ve(d,w,I,!0,!1,T):Ie(f,v,k,w,I,P,x,O,T)},g=(d,f,v,k,w,I,P,x,O)=>{let C=0;const B=f.length;let T=d.length-1,F=B-1;for(;C<=T&&C<=F;){const K=d[C],te=f[C]=O?bt(f[C]):ut(f[C]);if(tn(K,te))M(K,te,v,null,w,I,P,x,O);else break;C++}for(;C<=T&&C<=F;){const K=d[T],te=f[F]=O?bt(f[F]):ut(f[F]);if(tn(K,te))M(K,te,v,null,w,I,P,x,O);else break;T--,F--}if(C>T){if(C<=F){const K=F+1,te=K<B?f[K].el:k;for(;C<=F;)M(null,f[C]=O?bt(f[C]):ut(f[C]),v,te,w,I,P,x,O),C++}}else if(C>F)for(;C<=T;)j(d[C],w,I,!0),C++;else{const K=C,te=C,fe=new Map;for(C=te;C<=F;C++){const Ve=f[C]=O?bt(f[C]):ut(f[C]);Ve.key!=null&&fe.set(Ve.key,C)}let ce,Ce=0;const Ye=F-te+1;let Ft=!1,eo=0;const en=new Array(Ye);for(C=0;C<Ye;C++)en[C]=0;for(C=K;C<=T;C++){const Ve=d[C];if(Ce>=Ye){j(Ve,w,I,!0);continue}let it;if(Ve.key!=null)it=fe.get(Ve.key);else for(ce=te;ce<=F;ce++)if(en[ce-te]===0&&tn(Ve,f[ce])){it=ce;break}it===void 0?j(Ve,w,I,!0):(en[it-te]=C+1,it>=eo?eo=it:Ft=!0,M(Ve,f[it],v,null,w,I,P,x,O),Ce++)}const to=Ft?Ja(en):Vt;for(ce=to.length-1,C=Ye-1;C>=0;C--){const Ve=te+C,it=f[Ve],no=Ve+1<B?f[Ve+1].el:k;en[C]===0?M(null,it,v,no,w,I,P,x,O):Ft&&(ce<0||C!==to[ce]?S(it,v,no,2):ce--)}}},S=(d,f,v,k,w=null)=>{const{el:I,type:P,transition:x,children:O,shapeFlag:C}=d;if(C&6){S(d.component.subTree,f,v,k);return}if(C&128){d.suspense.move(f,v,k);return}if(C&64){P.move(d,f,v,ot);return}if(P===ye){r(I,f,v);for(let T=0;T<O.length;T++)S(O[T],f,v,k);r(d.anchor,f,v);return}if(P===sr){N(d,f,v);return}if(k!==2&&C&1&&x)if(k===0)x.beforeEnter(I),r(I,f,v),je(()=>x.enter(I),w);else{const{leave:T,delayLeave:F,afterLeave:K}=x,te=()=>r(I,f,v),fe=()=>{T(I,()=>{te(),K&&K()})};F?F(I,te,fe):fe()}else r(I,f,v)},j=(d,f,v,k=!1,w=!1)=>{const{type:I,props:P,ref:x,children:O,dynamicChildren:C,shapeFlag:B,patchFlag:T,dirs:F}=d;if(x!=null&&yr(x,null,v,d,!0),B&256){f.ctx.deactivate(d);return}const K=B&1&&F,te=!Nn(d);let fe;if(te&&(fe=P&&P.onVnodeBeforeUnmount)&&st(fe,f,d),B&6)_e(d.component,v,k);else{if(B&128){d.suspense.unmount(v,k);return}K&&Nt(d,null,f,"beforeUnmount"),B&64?d.type.remove(d,f,v,w,ot,k):C&&(I!==ye||T>0&&T&64)?ve(C,f,v,!1,!0):(I===ye&&T&384||!w&&B&16)&&ve(O,f,v),k&&A(d)}(te&&(fe=P&&P.onVnodeUnmounted)||K)&&je(()=>{fe&&st(fe,f,d),K&&Nt(d,null,f,"unmounted")},v)},A=d=>{const{type:f,el:v,anchor:k,transition:w}=d;if(f===ye){re(v,k);return}if(f===sr){W(d);return}const I=()=>{o(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:P,delayLeave:x}=w,O=()=>P(v,I);x?x(d.el,I,O):O()}else I()},re=(d,f)=>{let v;for(;d!==f;)v=p(d),o(d),d=v;o(f)},_e=(d,f,v)=>{const{bum:k,scope:w,update:I,subTree:P,um:x}=d;k&&In(k),w.stop(),I&&(I.active=!1,j(P,d,f,v)),x&&je(x,f),je(()=>{d.isUnmounted=!0},f),f&&f.pendingBranch&&!f.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===f.pendingId&&(f.deps--,f.deps===0&&f.resolve())},ve=(d,f,v,k=!1,w=!1,I=0)=>{for(let P=I;P<d.length;P++)j(d[P],f,v,k,w)},Ne=d=>d.shapeFlag&6?Ne(d.component.subTree):d.shapeFlag&128?d.suspense.next():p(d.anchor||d.el),Pe=(d,f,v)=>{d==null?f._vnode&&j(f._vnode,null,null,!0):M(f._vnode||null,d,f,null,null,null,v),fo(),bi(),f._vnode=d},ot={p:M,um:j,m:S,r:A,mt:R,mc:Ie,pc:Y,pbc:_,n:Ne,o:e};let ht,Ge;return t&&([ht,Ge]=t(ot)),{render:Pe,hydrate:ht,createApp:za(Pe,ht)}}function Pt({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Fi(e,t,n=!1){const r=e.children,o=t.children;if(q(r)&&q(o))for(let i=0;i<r.length;i++){const s=r[i];let a=o[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[i]=bt(o[i]),a.el=s.el),n||Fi(s,a)),a.type===Zn&&(a.el=s.el)}}function Ja(e){const t=e.slice(),n=[0];let r,o,i,s,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(o=n[n.length-1],e[o]<c){t[r]=o,n.push(r);continue}for(i=0,s=n.length-1;i<s;)a=i+s>>1,e[n[a]]<c?i=a+1:s=a;c<e[n[i]]&&(i>0&&(t[r]=n[i-1]),n[i]=r)}}for(i=n.length,s=n[i-1];i-- >0;)n[i]=s,s=t[s];return n}const qa=e=>e.__isTeleport,ye=Symbol(void 0),Zn=Symbol(void 0),jt=Symbol(void 0),sr=Symbol(void 0),an=[];let et=null;function Q(e=!1){an.push(et=e?null:[])}function Ga(){an.pop(),et=an[an.length-1]||null}let hn=1;function ko(e){hn+=e}function Hi(e){return e.dynamicChildren=hn>0?et||Vt:null,Ga(),hn>0&&et&&et.push(e),e}function he(e,t,n,r,o,i){return Hi(be(e,t,n,r,o,i,!0))}function Ue(e,t,n,r,o){return Hi(Ee(e,t,n,r,o,!0))}function Ya(e){return e?e.__v_isVNode===!0:!1}function tn(e,t){return e.type===t.type&&e.key===t.key}const Xn="__vInternal",Vi=({key:e})=>e??null,Pn=({ref:e,ref_key:t,ref_for:n})=>e!=null?xe(e)||$e(e)||G(e)?{i:Je,r:e,k:t,f:!!n}:e:null;function be(e,t=null,n=null,r=0,o=null,i=e===ye?0:1,s=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Vi(t),ref:t&&Pn(t),scopeId:Gn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:Je};return a?(Wr(u,n),i&128&&e.normalize(u)):n&&(u.shapeFlag|=xe(n)?8:16),hn>0&&!s&&et&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&et.push(u),u}const Ee=Za;function Za(e,t=null,n=null,r=0,o=null,i=!1){if((!e||e===Ma)&&(e=jt),Ya(e)){const a=qt(e,t,!0);return n&&Wr(a,n),hn>0&&!i&&et&&(a.shapeFlag&6?et[et.indexOf(e)]=a:et.push(a)),a.patchFlag|=-2,a}if(uu(e)&&(e=e.__vccOpts),t){t=Xa(t);let{class:a,style:u}=t;a&&!xe(a)&&(t.class=mt(a)),ke(u)&&(li(u)&&!q(u)&&(u=De({},u)),t.style=Hn(u))}const s=xe(e)?1:va(e)?128:qa(e)?64:ke(e)?4:G(e)?2:0;return be(e,t,n,r,o,s,i,!0)}function Xa(e){return e?li(e)||Xn in e?De({},e):e:null}function qt(e,t,n=!1){const{props:r,ref:o,patchFlag:i,children:s}=e,a=t?Qa(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Vi(a),ref:t&&t.ref?n&&o?q(o)?o.concat(Pn(t)):[o,Pn(t)]:Pn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==ye?i===-1?16:i|16:i,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qt(e.ssContent),ssFallback:e.ssFallback&&qt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Wi(e=" ",t=0){return Ee(Zn,null,e,t)}function Rt(e="",t=!1){return t?(Q(),Ue(jt,null,e)):Ee(jt,null,e)}function ut(e){return e==null||typeof e=="boolean"?Ee(jt):q(e)?Ee(ye,null,e.slice()):typeof e=="object"?bt(e):Ee(Zn,null,String(e))}function bt(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qt(e)}function Wr(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(q(t))n=16;else if(typeof t=="object")if(r&65){const o=t.default;o&&(o._c&&(o._d=!1),Wr(e,o()),o._c&&(o._d=!0));return}else{n=32;const o=t._;!o&&!(Xn in t)?t._ctx=Je:o===3&&Je&&(Je.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else G(t)?(t={default:t,_ctx:Je},n=32):(t=String(t),r&64?(n=16,t=[Wi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qa(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const o in r)if(o==="class")t.class!==r.class&&(t.class=mt([t.class,r.class]));else if(o==="style")t.style=Hn([t.style,r.style]);else if(Vn(o)){const i=t[o],s=r[o];s&&i!==s&&!(q(i)&&i.includes(s))&&(t[o]=i?[].concat(i,s):s)}else o!==""&&(t[o]=r[o])}return t}function st(e,t,n,r=null){nt(e,t,7,[n,r])}const eu=Bi();let tu=0;function nu(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||eu,i={uid:tu++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new xs(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Li(r,o),emitsOptions:ki(r,o),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:r.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=t?t.root:i,i.emit=da.bind(null,i),e.ce&&e.ce(i),i}let Me=null;const Gt=e=>{Me=e,e.scope.on()},Dt=()=>{Me&&Me.scope.off(),Me=null};function zi(e){return e.vnode.shapeFlag&4}let pn=!1;function ru(e,t=!1){pn=t;const{props:n,children:r}=e.vnode,o=zi(e);ja(e,n,o,t),Ha(e,r);const i=o?ou(e,t):void 0;return pn=!1,i}function ou(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=di(new Proxy(e.ctx,Ta));const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?su(e):null;Gt(e),Xt();const i=kt(r,e,0,[e.props,o]);if(Qt(),Dt(),Yo(i)){if(i.then(Dt,Dt),t)return i.then(s=>{_o(e,s,t)}).catch(s=>{Jn(s,e,0)});e.asyncDep=i}else _o(e,i,t)}else Ki(e,t)}function _o(e,t,n){G(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ke(t)&&(e.setupState=pi(t)),Ki(e,n)}let Co;function Ki(e,t,n){const r=e.type;if(!e.render){if(!t&&Co&&!r.render){const o=r.template||Hr(e).template;if(o){const{isCustomElement:i,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=De(De({isCustomElement:i,delimiters:a},s),u);r.render=Co(o,c)}}e.render=r.render||tt}Gt(e),Xt(),Aa(e),Qt(),Dt()}function iu(e){return new Proxy(e.attrs,{get(t,n){return Ke(e,"get","$attrs"),t[n]}})}function su(e){const t=r=>{e.exposed=r||{}};let n;return{get attrs(){return n||(n=iu(e))},slots:e.slots,emit:e.emit,expose:t}}function Qn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(pi(di(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in sn)return sn[n](e)},has(t,n){return n in t||n in sn}}))}function au(e,t=!0){return G(e)?e.displayName||e.name:e.name||t&&e.__name}function uu(e){return G(e)&&"__vccOpts"in e}const Et=(e,t)=>ia(e,t,pn),cu=Symbol(""),lu=()=>On(cu),du="3.2.45",fu="http://www.w3.org/2000/svg",At=typeof document<"u"?document:null,So=At&&At.createElement("template"),hu={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const o=t?At.createElementNS(fu,e):At.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>At.createTextNode(e),createComment:e=>At.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>At.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,o,i){const s=n?n.previousSibling:t.lastChild;if(o&&(o===i||o.nextSibling))for(;t.insertBefore(o.cloneNode(!0),n),!(o===i||!(o=o.nextSibling)););else{So.innerHTML=r?`<svg>${e}</svg>`:e;const a=So.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function pu(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function mu(e,t,n){const r=e.style,o=xe(n);if(n&&!o){for(const i in n)br(r,i,n[i]);if(t&&!xe(t))for(const i in t)n[i]==null&&br(r,i,"")}else{const i=r.display;o?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=i)}}const Eo=/\s*!important$/;function br(e,t,n){if(q(n))n.forEach(r=>br(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=vu(e,t);Eo.test(n)?e.setProperty(Zt(r),n.replace(Eo,""),"important"):e[r]=n}}const xo=["Webkit","Moz","ms"],ar={};function vu(e,t){const n=ar[t];if(n)return n;let r=ft(t);if(r!=="filter"&&r in e)return ar[t]=r;r=Kn(r);for(let o=0;o<xo.length;o++){const i=xo[o]+r;if(i in e)return ar[t]=i}return t}const Io="http://www.w3.org/1999/xlink";function gu(e,t,n,r,o){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Io,t.slice(6,t.length)):e.setAttributeNS(Io,t,n);else{const i=ys(t);n==null||i&&!Jo(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function yu(e,t,n,r,o,i,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,o,i),e[t]=n??"";return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=n;const u=n??"";(e.value!==u||e.tagName==="OPTION")&&(e.value=u),n==null&&e.removeAttribute(t);return}let a=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=Jo(n):n==null&&u==="string"?(n="",a=!0):u==="number"&&(n=0,a=!0)}try{e[t]=n}catch{}a&&e.removeAttribute(t)}function Ht(e,t,n,r){e.addEventListener(t,n,r)}function bu(e,t,n,r){e.removeEventListener(t,n,r)}function wu(e,t,n,r,o=null){const i=e._vei||(e._vei={}),s=i[t];if(r&&s)s.value=r;else{const[a,u]=ku(t);if(r){const c=i[t]=Su(r,o);Ht(e,a,c,u)}else s&&(bu(e,a,s,u),i[t]=void 0)}}const Oo=/(?:Once|Passive|Capture)$/;function ku(e){let t;if(Oo.test(e)){t={};let r;for(;r=e.match(Oo);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Zt(e.slice(2)),t]}let ur=0;const _u=Promise.resolve(),Cu=()=>ur||(_u.then(()=>ur=0),ur=Date.now());function Su(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;nt(Eu(r,n.value),t,5,[r])};return n.value=e,n.attached=Cu(),n}function Eu(e,t){if(q(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r&&r(o))}else return t}const No=/^on[a-z]/,xu=(e,t,n,r,o=!1,i,s,a,u)=>{t==="class"?pu(e,r,o):t==="style"?mu(e,n,r):Vn(t)?Er(t)||wu(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Iu(e,t,r,o))?yu(e,t,r,i,s,a,u):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),gu(e,t,r,o))};function Iu(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&No.test(t)&&G(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||No.test(t)&&xe(n)?!1:t in e}const Po=e=>{const t=e.props["onUpdate:modelValue"]||!1;return q(t)?n=>In(t,n):t};function Ou(e){e.target.composing=!0}function Mo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nu={created(e,{modifiers:{lazy:t,trim:n,number:r}},o){e._assign=Po(o);const i=r||o.props&&o.props.type==="number";Ht(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),i&&(a=An(a)),e._assign(a)}),n&&Ht(e,"change",()=>{e.value=e.value.trim()}),t||(Ht(e,"compositionstart",Ou),Ht(e,"compositionend",Mo),Ht(e,"change",Mo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:o}},i){if(e._assign=Po(i),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(o||e.type==="number")&&An(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},Pu=["ctrl","shift","alt","meta"],Mu={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>Pu.some(n=>e[`${n}Key`]&&!t.includes(n))},_t=(e,t)=>(n,...r)=>{for(let o=0;o<t.length;o++){const i=Mu[t[o]];if(i&&i(n,t))return}return e(n,...r)},jn={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):nn(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),nn(e,!0),r.enter(e)):r.leave(e,()=>{nn(e,!1)}):nn(e,t))},beforeUnmount(e,{value:t}){nn(e,t)}};function nn(e,t){e.style.display=t?e._vod:"none"}const Tu=De({patchProp:xu},hu);let To;function Au(){return To||(To=Ka(Tu))}const er=(...e)=>{const t=Au().createApp(...e),{mount:n}=t;return t.mount=r=>{const o=$u(r);if(!o)return;const i=t._component;!G(i)&&!i.render&&!i.template&&(i.template=o.innerHTML),o.innerHTML="";const s=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),s},t};function $u(e){return xe(e)?document.querySelector(e):e}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(r){E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X(){X=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(_,b,D){return Object.defineProperty(_,b,{value:D,enumerable:!0,configurable:!0,writable:!0}),_[b]}try{a({},"")}catch{a=function(b,D,z){return b[D]=z}}function u(_,b,D,z){var R=b&&b.prototype instanceof h?b:h,me=Object.create(R.prototype),ee=new ue(z||[]);return me._invoke=function(Z,Y,m){var g="suspendedStart";return function(S,j){if(g==="executing")throw new Error("Generator is already running");if(g==="completed"){if(S==="throw")throw j;return He()}for(m.method=S,m.arg=j;;){var A=m.delegate;if(A){var re=W(A,m);if(re){if(re===l)continue;return re}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(g==="suspendedStart")throw g="completed",m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);g="executing";var _e=c(Z,Y,m);if(_e.type==="normal"){if(g=m.done?"completed":"suspendedYield",_e.arg===l)continue;return{value:_e.arg,done:m.done}}_e.type==="throw"&&(g="completed",m.method="throw",m.arg=_e.arg)}}}(_,D,ee),me}function c(_,b,D){try{return{type:"normal",arg:_.call(b,D)}}catch(z){return{type:"throw",arg:z}}}e.wrap=u;var l={};function h(){}function p(){}function y(){}var L={};a(L,o,function(){return this});var M=Object.getPrototypeOf,U=M&&M(M(Ie([])));U&&U!==t&&n.call(U,o)&&(L=U);var V=y.prototype=h.prototype=Object.create(L);function se(_){["next","throw","return"].forEach(function(b){a(_,b,function(D){return this._invoke(b,D)})})}function N(_,b){function D(R,me,ee,Z){var Y=c(_[R],_,me);if(Y.type!=="throw"){var m=Y.arg,g=m.value;return g&&typeof g=="object"&&n.call(g,"__await")?b.resolve(g.__await).then(function(S){D("next",S,ee,Z)},function(S){D("throw",S,ee,Z)}):b.resolve(g).then(function(S){m.value=S,ee(m)},function(S){return D("throw",S,ee,Z)})}Z(Y.arg)}var z;this._invoke=function(R,me){function ee(){return new b(function(Z,Y){D(R,me,Z,Y)})}return z=z?z.then(ee,ee):ee()}}function W(_,b){var D=_.iterator[b.method];if(D===void 0){if(b.delegate=null,b.method==="throw"){if(_.iterator.return&&(b.method="return",b.arg=void 0,W(_,b),b.method==="throw"))return l;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var z=c(D,_.iterator,b.arg);if(z.type==="throw")return b.method="throw",b.arg=z.arg,b.delegate=null,l;var R=z.arg;return R?R.done?(b[_.resultName]=R.value,b.next=_.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0),b.delegate=null,l):R:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,l)}function J(_){var b={tryLoc:_[0]};1 in _&&(b.catchLoc=_[1]),2 in _&&(b.finallyLoc=_[2],b.afterLoc=_[3]),this.tryEntries.push(b)}function Te(_){var b=_.completion||{};b.type="normal",delete b.arg,_.completion=b}function ue(_){this.tryEntries=[{tryLoc:"root"}],_.forEach(J,this),this.reset(!0)}function Ie(_){if(_){var b=_[o];if(b)return b.call(_);if(typeof _.next=="function")return _;if(!isNaN(_.length)){var D=-1,z=function R(){for(;++D<_.length;)if(n.call(_,D))return R.value=_[D],R.done=!1,R;return R.value=void 0,R.done=!0,R};return z.next=z}}return{next:He}}function He(){return{value:void 0,done:!0}}return p.prototype=y,a(V,"constructor",y),a(y,"constructor",p),p.displayName=a(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(_){var b=typeof _=="function"&&_.constructor;return!!b&&(b===p||(b.displayName||b.name)==="GeneratorFunction")},e.mark=function(_){return Object.setPrototypeOf?Object.setPrototypeOf(_,y):(_.__proto__=y,a(_,s,"GeneratorFunction")),_.prototype=Object.create(V),_},e.awrap=function(_){return{__await:_}},se(N.prototype),a(N.prototype,i,function(){return this}),e.AsyncIterator=N,e.async=function(_,b,D,z,R){R===void 0&&(R=Promise);var me=new N(u(_,b,D,z),R);return e.isGeneratorFunction(b)?me:me.next().then(function(ee){return ee.done?ee.value:me.next()})},se(V),a(V,s,"Generator"),a(V,o,function(){return this}),a(V,"toString",function(){return"[object Generator]"}),e.keys=function(_){var b=[];for(var D in _)b.push(D);return b.reverse(),function z(){for(;b.length;){var R=b.pop();if(R in _)return z.value=R,z.done=!1,z}return z.done=!0,z}},e.values=Ie,ue.prototype={constructor:ue,reset:function(_){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Te),!_)for(var b in this)b.charAt(0)==="t"&&n.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var _=this.tryEntries[0].completion;if(_.type==="throw")throw _.arg;return this.rval},dispatchException:function(_){if(this.done)throw _;var b=this;function D(Y,m){return me.type="throw",me.arg=_,b.next=Y,m&&(b.method="next",b.arg=void 0),!!m}for(var z=this.tryEntries.length-1;z>=0;--z){var R=this.tryEntries[z],me=R.completion;if(R.tryLoc==="root")return D("end");if(R.tryLoc<=this.prev){var ee=n.call(R,"catchLoc"),Z=n.call(R,"finallyLoc");if(ee&&Z){if(this.prev<R.catchLoc)return D(R.catchLoc,!0);if(this.prev<R.finallyLoc)return D(R.finallyLoc)}else if(ee){if(this.prev<R.catchLoc)return D(R.catchLoc,!0)}else{if(!Z)throw new Error("try statement without catch or finally");if(this.prev<R.finallyLoc)return D(R.finallyLoc)}}}},abrupt:function(_,b){for(var D=this.tryEntries.length-1;D>=0;--D){var z=this.tryEntries[D];if(z.tryLoc<=this.prev&&n.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var R=z;break}}R&&(_==="break"||_==="continue")&&R.tryLoc<=b&&b<=R.finallyLoc&&(R=null);var me=R?R.completion:{};return me.type=_,me.arg=b,R?(this.method="next",this.next=R.finallyLoc,l):this.complete(me)},complete:function(_,b){if(_.type==="throw")throw _.arg;return _.type==="break"||_.type==="continue"?this.next=_.arg:_.type==="return"?(this.rval=this.arg=_.arg,this.method="return",this.next="end"):_.type==="normal"&&b&&(this.next=b),l},finish:function(_){for(var b=this.tryEntries.length-1;b>=0;--b){var D=this.tryEntries[b];if(D.finallyLoc===_)return this.complete(D.completion,D.afterLoc),Te(D),l}},catch:function(_){for(var b=this.tryEntries.length-1;b>=0;--b){var D=this.tryEntries[b];if(D.tryLoc===_){var z=D.completion;if(z.type==="throw"){var R=z.arg;Te(D)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(_,b,D){return this.delegate={iterator:Ie(_),resultName:b,nextLoc:D},this.method==="next"&&(this.arg=void 0),l}},e}function $o(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(c){n(c);return}a.done?t(u):Promise.resolve(u).then(r,o)}function Oe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(u){$o(i,r,o,s,a,"next",u)}function a(u){$o(i,r,o,s,a,"throw",u)}s(void 0)})}}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&Lo(e.prototype,t),n&&Lo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}function Yt(e){return Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yt(e)}function kr(e,t){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},kr(e,t)}function Lu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ru(e,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}function Fe(e){var t=Lu();return function(){var r=Yt(e),o;if(t){var i=Yt(this).constructor;o=Reflect.construct(r,arguments,i)}else o=r.apply(this,arguments);return Ru(this,o)}}function Du(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Yt(e),e!==null););return e}function Mn(){return typeof Reflect<"u"&&Reflect.get?Mn=Reflect.get.bind():Mn=function(t,n,r){var o=Du(t,n);if(o){var i=Object.getOwnPropertyDescriptor(o,n);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Mn.apply(this,arguments)}function xt(e,t){return Bu(e)||Hu(e,t)||zr(e,t)||Wu()}function We(e){return ju(e)||Fu(e)||zr(e)||Vu()}function ju(e){if(Array.isArray(e))return _r(e)}function Bu(e){if(Array.isArray(e))return e}function Fu(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Hu(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],o=!0,i=!1,s,a;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!(t&&r.length===t));o=!0);}catch(u){i=!0,a=u}finally{try{!o&&n.return!=null&&n.return()}finally{if(i)throw a}}return r}}function zr(e,t){if(e){if(typeof e=="string")return _r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _r(e,t)}}function _r(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ro(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=zr(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,s=!1,a;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,a=u},f:function(){try{!i&&n.return!=null&&n.return()}finally{if(s)throw a}}}}var zu=de(function e(t){le(this,e),E(this,"name",void 0),E(this,"data",{}),E(this,"engine",null),this.name=t}),Bt=function(){function e(t){le(this,e),E(this,"name",void 0),E(this,"id",void 0),E(this,"position",[0,0]),E(this,"inputs",new Map),E(this,"outputs",new Map),E(this,"controls",new Map),E(this,"data",{}),E(this,"meta",{}),this.name=t,this.id=e.incrementId()}return de(e,[{key:"_add",value:function(n,r,o){if(n.has(r.key))throw new Error("Item with key '".concat(r.key,"' already been added to the node"));if(r[o]!==null)throw new Error("Item has already been added to some node");r[o]=this,n.set(r.key,r)}},{key:"addControl",value:function(n){return this._add(this.controls,n,"parent"),this}},{key:"removeControl",value:function(n){n.parent=null,this.controls.delete(n.key)}},{key:"addInput",value:function(n){return this._add(this.inputs,n,"node"),this}},{key:"removeInput",value:function(n){n.removeConnections(),n.node=null,this.inputs.delete(n.key)}},{key:"addOutput",value:function(n){return this._add(this.outputs,n,"node"),this}},{key:"removeOutput",value:function(n){n.removeConnections(),n.node=null,this.outputs.delete(n.key)}},{key:"setMeta",value:function(n){return this.meta=n,this}},{key:"getConnections",value:function(){var n=[].concat(We(this.inputs.values()),We(this.outputs.values())),r=n.reduce(function(o,i){return[].concat(We(o),We(i.connections))},[]);return r}},{key:"update",value:function(){}},{key:"toJSON",value:function(){var n=function(o){return Array.from(o).reduce(function(i,s){var a=xt(s,2),u=a[0],c=a[1];return i[u]=c.toJSON(),i},{})};return{id:this.id,data:this.data,inputs:n(this.inputs),outputs:n(this.outputs),position:this.position,name:this.name}}}],[{key:"incrementId",value:function(){return this.latestId?this.latestId++:this.latestId=1,this.latestId}},{key:"resetId",value:function(){this.latestId=0}},{key:"fromJSON",value:function(n){var r=new e(n.name),o=xt(n.position,2),i=o[0],s=o[1];return r.id=n.id,r.data=n.data,r.position=[i,s],r.name=n.name,e.latestId=Math.max(r.id,e.latestId),r}}]),e}();E(Bt,"latestId",0);var qe=function(e){Be(n,e);var t=Fe(n);function n(r){var o;return le(this,n),o=t.call(this,r),E($(o),"editor",null),E($(o),"data",{}),o}return de(n,[{key:"build",value:function(){var r=Oe(X().mark(function i(s){return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.builder(s);case 2:return u.abrupt("return",s);case 3:case"end":return u.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"createNode",value:function(){var r=Oe(X().mark(function i(){var s,a,u=arguments;return X().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=u.length>0&&u[0]!==void 0?u[0]:{},a=new Bt(this.name),a.data=s,l.next=5,this.build(a);case 5:return l.abrupt("return",a);case 6:case"end":return l.stop()}},i,this)}));function o(){return r.apply(this,arguments)}return o}()}]),n}(zu),Ui=function(){function e(t,n){le(this,e),E(this,"output",void 0),E(this,"input",void 0),E(this,"data",{}),this.output=t,this.input=n,this.data={},this.input.addConnection(this)}return de(e,[{key:"remove",value:function(){this.input.removeConnection(this),this.output.removeConnection(this)}}]),e}(),tr=function(){function e(t){if(le(this,e),E(this,"key",void 0),E(this,"data",{}),E(this,"parent",null),this.constructor===e)throw new TypeError("Can not construct abstract class");if(!t)throw new Error("The key parameter is missing in super() of Control ");this.key=t}return de(e,[{key:"getNode",value:function(){if(this.parent===null)throw new Error("Control isn't added to Node/Input");if(this.parent instanceof Bt)return this.parent;if(!this.parent.node)throw new Error("Control hasn't be added to Input or Node");return this.parent.node}},{key:"getData",value:function(n){return this.getNode().data[n]}},{key:"putData",value:function(n,r){this.getNode().data[n]=r}}]),e}(),Ot=function(){function e(t){le(this,e),E(this,"events",{}),E(this,"silent",!1),this.events=t instanceof e?t.events:t.handlers}return de(e,[{key:"on",value:function(n,r){var o=this,i=n instanceof Array?n:n.split(" ");return i.forEach(function(s){if(!o.events[s])throw new Error("The event ".concat(s," does not exist"));o.events[s].push(r)}),this}},{key:"trigger",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(n in this.events))throw new Error("The event ".concat(String(n)," cannot be triggered"));return this.events[n].reduce(function(o,i){return i(r)!==!1&&o},!0)}},{key:"bind",value:function(n){if(this.events[n])throw new Error("The event ".concat(n," is already bound"));this.events[n]=[]}},{key:"exist",value:function(n){return Array.isArray(this.events[n])}}]),e}(),Kr=function(){function e(t,n,r,o){le(this,e),E(this,"node",null),E(this,"multipleConnections",void 0),E(this,"connections",[]),E(this,"key",void 0),E(this,"name",void 0),E(this,"socket",void 0),this.node=null,this.multipleConnections=o,this.connections=[],this.key=t,this.name=n,this.socket=r}return de(e,[{key:"removeConnection",value:function(n){this.connections.splice(this.connections.indexOf(n),1)}},{key:"removeConnections",value:function(){var n=this;this.connections.forEach(function(r){return n.removeConnection(r)})}}]),e}(),Bn=function(e){Be(n,e);var t=Fe(n);function n(r,o,i){var s,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return le(this,n),s=t.call(this,r,o,i,a),E($(s),"control",null),s}return de(n,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"addConnection",value:function(o){if(!this.multipleConnections&&this.hasConnection())throw new Error("Multiple connections not allowed");this.connections.push(o)}},{key:"addControl",value:function(o){this.control=o,o.parent=this}},{key:"showControl",value:function(){return!this.hasConnection()&&this.control!==null}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(o){if(!o.output.node)throw new Error("Node not added to Output");return{node:o.output.node.id,output:o.output.key,data:o.data}})}}}]),n}(Kr),Ur=function(){function e(){le(this,e)}return de(e,null,[{key:"isValidData",value:function(n){return typeof n.id=="string"&&this.isValidId(n.id)&&n.nodes instanceof Object&&!(n.nodes instanceof Array)}},{key:"isValidId",value:function(n){return/^[\w-]{3,}@[0-9]+\.[0-9]+\.[0-9]+$/.test(n)}},{key:"validate",value:function(n,r){var o=n.split("@"),i=r.id.split("@"),s=[];return this.isValidData(r)||s.push("Data is not suitable"),n!==r.id&&s.push("IDs not equal"),o[0]!==i[0]&&s.push("Names don't match"),o[1]!==i[1]&&s.push("Versions don't match"),{success:Boolean(!s.length),msg:s.join(". ")}}}]),e}(),Ji=function(e){Be(n,e);var t=Fe(n);function n(r,o){var i;if(le(this,n),i=t.call(this,o),E($(i),"id",void 0),E($(i),"plugins",void 0),E($(i),"components",void 0),!Ur.isValidId(r))throw new Error("ID should be valid to name@0.1.0 format");return i.id=r,i.plugins=new Map,i.components=new Map,i}return de(n,[{key:"use",value:function(o,i){if(o.name&&this.plugins.has(o.name))throw new Error("Plugin ".concat(o.name," already in use"));o.install(this,i||{}),this.plugins.set(o.name,i)}},{key:"register",value:function(o){if(this.components.has(o.name))throw new Error("Component ".concat(o.name," already registered"));this.components.set(o.name,o),this.trigger("componentregister",o)}},{key:"destroy",value:function(){this.trigger("destroy")}}]),n}(Ot);function Ct(e,t){return window.addEventListener(e,t),function(){window.removeEventListener(e,t)}}var qi=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a,u,c){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(a){},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(a){};le(this,e),this.onTranslate=n,this.onStart=r,this.onDrag=o,E(this,"pointerStart",void 0),E(this,"el",void 0),E(this,"destroy",void 0),this.pointerStart=null,this.el=t,this.el.style.touchAction="none",this.el.addEventListener("pointerdown",this.down.bind(this));var i=Ct("pointermove",this.move.bind(this)),s=Ct("pointerup",this.up.bind(this));this.destroy=function(){i(),s()}}return de(e,[{key:"down",value:function(n){n.pointerType==="mouse"&&n.button!==0||(n.stopPropagation(),this.pointerStart=[n.pageX,n.pageY],this.onStart(n))}},{key:"move",value:function(n){if(this.pointerStart){n.preventDefault();var r=[n.pageX,n.pageY],o=r[0],i=r[1],s=[o-this.pointerStart[0],i-this.pointerStart[1]],a=this.el.getBoundingClientRect().width/this.el.offsetWidth;this.onTranslate(s[0]/a,s[1]/a,n)}}},{key:"up",value:function(n){this.pointerStart&&(this.pointerStart=null,this.onDrag(n))}}]),e}(),Ku=function(){function e(t,n,r,o){le(this,e),E(this,"el",void 0),E(this,"intensity",void 0),E(this,"onzoom",void 0),E(this,"previous",null),E(this,"pointers",[]),E(this,"destroy",void 0),this.el=n,this.intensity=r,this.onzoom=o,t.addEventListener("wheel",this.wheel.bind(this)),t.addEventListener("pointerdown",this.down.bind(this)),t.addEventListener("dblclick",this.dblclick.bind(this));var i=Ct("pointermove",this.move.bind(this)),s=Ct("pointerup",this.end.bind(this)),a=Ct("pointercancel",this.end.bind(this));this.destroy=function(){i(),s(),a()}}return de(e,[{key:"translating",get:function(){return this.pointers.length>=2}},{key:"wheel",value:function(n){n.preventDefault();var r=this.el.getBoundingClientRect(),o=n.deltaY<0,i=o?this.intensity:-this.intensity,s=(r.left-n.clientX)*i,a=(r.top-n.clientY)*i;this.onzoom(i,s,a,"wheel")}},{key:"touches",value:function(){var n={touches:this.pointers},r=[n.touches[0].clientX,n.touches[0].clientY],o=r[0],i=r[1],s=[n.touches[1].clientX,n.touches[1].clientY],a=s[0],u=s[1],c=Math.sqrt(Math.pow(o-a,2)+Math.pow(i-u,2));return{cx:(o+a)/2,cy:(i+u)/2,distance:c}}},{key:"down",value:function(n){this.pointers.push(n)}},{key:"move",value:function(n){if(this.pointers=this.pointers.map(function(h){return h.pointerId===n.pointerId?n:h}),!!this.translating){var r=this.el.getBoundingClientRect(),o=this.touches(),i=o.cx,s=o.cy,a=o.distance;if(this.previous!==null){var u=a/this.previous.distance-1,c=(r.left-i)*u,l=(r.top-s)*u;this.onzoom(u,c-(this.previous.cx-i),l-(this.previous.cy-s),"touch")}this.previous={cx:i,cy:s,distance:a}}}},{key:"end",value:function(n){this.previous=null,this.pointers=this.pointers.filter(function(r){return r.pointerId!==n.pointerId})}},{key:"dblclick",value:function(n){n.preventDefault();var r=this.el.getBoundingClientRect(),o=4*this.intensity,i=(r.left-n.clientX)*o,s=(r.top-n.clientY)*o;this.onzoom(o,i,s,"dblclick")}}]),e}(),Uu=function(e){Be(n,e);var t=Fe(n);function n(r,o){var i;le(this,n),i=t.call(this,o),E($(i),"el",void 0),E($(i),"container",void 0),E($(i),"transform",{k:1,x:0,y:0}),E($(i),"mouse",{x:0,y:0}),E($(i),"_startPosition",null),E($(i),"_zoom",void 0),E($(i),"_drag",void 0);var s=i.el=document.createElement("div");return i.container=r,s.style.transformOrigin="0 0",i._zoom=new Ku(r,s,.1,i.onZoom.bind($(i))),i._drag=new qi(r,i.onTranslate.bind($(i)),i.onStart.bind($(i))),o.on("destroy",function(){i._zoom.destroy(),i._drag.destroy()}),i.container.addEventListener("pointermove",i.pointermove.bind($(i))),i.update(),i}return de(n,[{key:"update",value:function(){var o=this.transform;this.el.style.transform="translate(".concat(o.x,"px, ").concat(o.y,"px) scale(").concat(o.k,")")}},{key:"pointermove",value:function(o){var i=o.clientX,s=o.clientY,a=this.el.getBoundingClientRect(),u=i-a.left,c=s-a.top,l=this.transform.k;this.mouse={x:u/l,y:c/l},this.trigger("mousemove",wr({},this.mouse))}},{key:"onStart",value:function(){this._startPosition=wr({},this.transform)}},{key:"onTranslate",value:function(o,i){this._zoom.translating||this._startPosition&&this.translate(this._startPosition.x+o,this._startPosition.y+i)}},{key:"onZoom",value:function(o,i,s,a){this.zoom(this.transform.k*(1+o),i,s,a),this.update()}},{key:"translate",value:function(o,i){var s={transform:this.transform,x:o,y:i};this.trigger("translate",s)&&(this.transform.x=s.x,this.transform.y=s.y,this.update(),this.trigger("translated"))}},{key:"zoom",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,u=this.transform.k,c={transform:this.transform,zoom:o,source:a};if(this.trigger("zoom",c)){var l=(u-c.zoom)/(u-o||1);this.transform.k=c.zoom||1,this.transform.x+=i*l,this.transform.y+=s*l,this.update(),this.trigger("zoomed",{source:a})}}},{key:"appendChild",value:function(o){this.el.appendChild(o)}},{key:"removeChild",value:function(o){this.el.removeChild(o)}}]),n}(Ot),Ju=function(e){Be(n,e);var t=Fe(n);function n(r,o,i,s){var a;return le(this,n),a=t.call(this,s),E($(a),"connection",void 0),E($(a),"inputNode",void 0),E($(a),"outputNode",void 0),E($(a),"el",void 0),a.connection=r,a.inputNode=o,a.outputNode=i,a.el=document.createElement("div"),a.el.style.position="absolute",a.el.style.zIndex="-1",a.trigger("renderconnection",{el:a.el,connection:a.connection,points:a.getPoints()}),a}return de(n,[{key:"getPoints",value:function(){var o=this.connection,i=o.input,s=o.output;if(this.inputNode.hasSocket(i)&&this.outputNode.hasSocket(s)){var a=this.outputNode.getSocketPosition(s),u=xt(a,2),c=u[0],l=u[1],h=this.inputNode.getSocketPosition(i),p=xt(h,2),y=p[0],L=p[1];return[c,l,y,L]}return[0,0,0,0]}},{key:"update",value:function(){this.trigger("updateconnection",{el:this.el,connection:this.connection,points:this.getPoints()})}}]),n}(Ot),qu=function(e){Be(n,e);var t=Fe(n);function n(r,o,i){var s;return le(this,n),s=t.call(this,i),s.trigger("rendercontrol",{el:r,control:o}),s}return de(n)}(Ot),Gu=function(e){Be(n,e);var t=Fe(n);function n(r,o,i,s,a){var u,c;return le(this,n),c=t.call(this,a),E($(c),"el",void 0),E($(c),"type",void 0),E($(c),"io",void 0),E($(c),"node",void 0),c.el=r,c.type=o,c.io=i,c.node=s,c.trigger("rendersocket",(u={el:r},E(u,o,c.io),E(u,"socket",i.socket),u)),c}return de(n,[{key:"getPosition",value:function(o){var i=o.position,s=this.el;return[i[0]+s.offsetLeft+s.offsetWidth/2,i[1]+s.offsetTop+s.offsetHeight/2]}}]),n}(Ot),Yu=function(e){Be(n,e);var t=Fe(n);function n(r,o,i){var s;return le(this,n),s=t.call(this,i),E($(s),"node",void 0),E($(s),"component",void 0),E($(s),"sockets",new Map),E($(s),"controls",new Map),E($(s),"el",void 0),E($(s),"_startPosition",[]),E($(s),"_drag",void 0),s.node=r,s.component=o,s.el=document.createElement("div"),s.el.style.position="absolute",s.el.addEventListener("contextmenu",function(a){return s.trigger("contextmenu",{e:a,node:s.node})}),s._drag=new qi(s.el,s.onTranslate.bind($(s)),s.onSelect.bind($(s)),function(){s.trigger("nodedraged",r),s.trigger("nodedragged",r)}),s.trigger("rendernode",{el:s.el,node:r,component:o.data,bindSocket:s.bindSocket.bind($(s)),bindControl:s.bindControl.bind($(s))}),s.update(),s}return de(n,[{key:"clearSockets",value:function(){var o=this,i=[].concat(We(this.node.inputs.values()),We(this.node.outputs.values()));this.sockets.forEach(function(s){i.includes(s.io)||o.sockets.delete(s.io)})}},{key:"bindSocket",value:function(o,i,s){this.clearSockets(),this.sockets.set(s,new Gu(o,i,s,this.node,this))}},{key:"bindControl",value:function(o,i){this.controls.set(i,new qu(o,i,this))}},{key:"hasSocket",value:function(o){return this.sockets.has(o)}},{key:"getSocketPosition",value:function(o){var i=this.sockets.get(o);if(!i)throw new Error("Socket not found for ".concat(o.name," with key ").concat(o.key));return i.getPosition(this.node)}},{key:"onSelect",value:function(o){var i={node:this.node,accumulate:o.ctrlKey,e:o};this.onStart(),this.trigger("multiselectnode",i),this.trigger("selectnode",i)}},{key:"onStart",value:function(){this._startPosition=We(this.node.position)}},{key:"onTranslate",value:function(o,i){this.trigger("translatenode",{node:this.node,dx:o,dy:i})}},{key:"onDrag",value:function(o,i){var s=this._startPosition[0]+o,a=this._startPosition[1]+i;this.translate(s,a)}},{key:"translate",value:function(o,i){var s=this.node,a={node:s,x:o,y:i};if(this.trigger("nodetranslate",a)){var u=xt(s.position,2),c=u[0],l=u[1],h=[c,l];s.position[0]=a.x,s.position[1]=a.y,this.update(),this.trigger("nodetranslated",{node:s,prev:h})}}},{key:"update",value:function(){var o=xt(this.node.position,2),i=o[0],s=o[1];this.el.style.transform="translate(".concat(i,"px, ").concat(s,"px)")}},{key:"remove",value:function(){}},{key:"destroy",value:function(){this._drag.destroy()}}]),n}(Ot),Zu=function(e){Be(n,e);var t=Fe(n);function n(r,o,i){var s;return le(this,n),s=t.call(this,i),E($(s),"container",void 0),E($(s),"components",void 0),E($(s),"nodes",new Map),E($(s),"connections",new Map),E($(s),"area",void 0),s.container=r,s.components=o,s.container.style.overflow="hidden",s.container.addEventListener("click",s.click.bind($(s))),s.container.addEventListener("contextmenu",function(a){return s.trigger("contextmenu",{e:a,view:$(s)})}),i.on("destroy",Ct("resize",s.resize.bind($(s)))),i.on("destroy",function(){return s.nodes.forEach(function(a){return a.destroy()})}),s.on("nodetranslated",s.updateConnections.bind($(s))),s.on("rendersocket",function(a){var u=a.socket,c=Array.from(s.connections.entries()),l=c.filter(function(h){var p=xt(h,1),y=p[0],L=y.input,M=y.output;return[L.socket,M.socket].includes(u)});l.forEach(function(h){var p=xt(h,2);p[0];var y=p[1];return requestAnimationFrame(function(){return y.update()})})}),s.area=new Uu(r,$(s)),s.container.appendChild(s.area.el),s}return de(n,[{key:"addNode",value:function(o){var i=this.components.get(o.name);if(!i)throw new Error("Component ".concat(o.name," not found"));var s=new Yu(o,i,this);this.nodes.set(o,s),this.area.appendChild(s.el)}},{key:"removeNode",value:function(o){var i=this.nodes.get(o);this.nodes.delete(o),i&&(this.area.removeChild(i.el),i.destroy())}},{key:"addConnection",value:function(o){if(!o.input.node||!o.output.node)throw new Error("Connection input or output not added to node");var i=this.nodes.get(o.input.node),s=this.nodes.get(o.output.node);if(!i||!s)throw new Error("View node not found for input or output");var a=new Ju(o,i,s,this);this.connections.set(o,a),this.area.appendChild(a.el)}},{key:"removeConnection",value:function(o){var i=this.connections.get(o);this.connections.delete(o),i&&this.area.removeChild(i.el)}},{key:"updateConnections",value:function(o){var i=this,s=o.node;s.getConnections().forEach(function(a){var u=i.connections.get(a);if(!u)throw new Error("Connection view not found");u.update()})}},{key:"resize",value:function(){var o=this.container;if(!o.parentElement)throw new Error("Container doesn't have parent element");var i=o.parentElement.clientWidth,s=o.parentElement.clientHeight;o.style.width=i+"px",o.style.height=s+"px"}},{key:"click",value:function(o){var i=this.container;i===o.target&&this.trigger("click",{e:o,container:i})}}]),n}(Ot),Xu=function(){function e(){le(this,e),E(this,"list",[])}return de(e,[{key:"add",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r?this.contains(n)||this.list.push(n):this.list=[n]}},{key:"clear",value:function(){this.list=[]}},{key:"remove",value:function(n){this.list.splice(this.list.indexOf(n),1)}},{key:"contains",value:function(n){return this.list.indexOf(n)!==-1}},{key:"each",value:function(n){this.list.forEach(n)}}]),e}(),Gi=de(function e(t){le(this,e),E(this,"handlers",void 0),this.handlers=wr({warn:[console.warn],error:[console.error],componentregister:[],destroy:[]},t)}),Qu=function(e){Be(n,e);var t=Fe(n);function n(){return le(this,n),t.call(this,{nodecreate:[],nodecreated:[],noderemove:[],noderemoved:[],connectioncreate:[],connectioncreated:[],connectionremove:[],connectionremoved:[],translatenode:[],nodetranslate:[],nodetranslated:[],nodedraged:[],nodedragged:[],selectnode:[],multiselectnode:[],nodeselect:[],nodeselected:[],rendernode:[],rendersocket:[],rendercontrol:[],renderconnection:[],updateconnection:[],keydown:[],keyup:[],translate:[],translated:[],zoom:[],zoomed:[],click:[],mousemove:[],contextmenu:[],import:[],export:[],process:[],clear:[]})}return de(n)}(Gi),Yi=function(e){Be(n,e);var t=Fe(n);function n(r,o){var i;return le(this,n),i=t.call(this,r,new Qu),E($(i),"nodes",[]),E($(i),"selected",new Xu),E($(i),"view",void 0),i.view=new Zu(o,i.components,$(i)),i.on("destroy",Ct("keydown",function(s){return i.trigger("keydown",s)})),i.on("destroy",Ct("keyup",function(s){return i.trigger("keyup",s)})),i.on("selectnode",function(s){var a=s.node,u=s.accumulate;return i.selectNode(a,u)}),i.on("nodeselected",function(){return i.selected.each(function(s){var a=i.view.nodes.get(s);a&&a.onStart()})}),i.on("translatenode",function(s){var a=s.dx,u=s.dy;return i.selected.each(function(c){var l=i.view.nodes.get(c);l&&l.onDrag(a,u)})}),i}return de(n,[{key:"addNode",value:function(o){this.trigger("nodecreate",o)&&(this.nodes.push(o),this.view.addNode(o),this.trigger("nodecreated",o))}},{key:"removeNode",value:function(o){var i=this;this.trigger("noderemove",o)&&(o.getConnections().forEach(function(s){return i.removeConnection(s)}),this.nodes.splice(this.nodes.indexOf(o),1),this.view.removeNode(o),this.trigger("noderemoved",o))}},{key:"connect",value:function(o,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.trigger("connectioncreate",{output:o,input:i}))try{var a=o.connectTo(i);a.data=s,this.view.addConnection(a),this.trigger("connectioncreated",a)}catch(u){this.trigger("warn",u)}}},{key:"removeConnection",value:function(o){this.trigger("connectionremove",o)&&(this.view.removeConnection(o),o.remove(),this.trigger("connectionremoved",o))}},{key:"selectNode",value:function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.nodes.indexOf(o)===-1)throw new Error("Node not exist in list");this.trigger("nodeselect",o)&&(this.selected.add(o,i),this.trigger("nodeselected",o))}},{key:"getComponent",value:function(o){var i=this.components.get(o);if(!i)throw"Component ".concat(o," not found");return i}},{key:"register",value:function(o){Mn(Yt(n.prototype),"register",this).call(this,o),o.editor=this}},{key:"clear",value:function(){var o=this;We(this.nodes).forEach(function(i){return o.removeNode(i)}),this.trigger("clear")}},{key:"toJSON",value:function(){var o={id:this.id,nodes:{}};return this.nodes.forEach(function(i){return o.nodes[i.id]=i.toJSON()}),this.trigger("export",o),o}},{key:"beforeImport",value:function(o){var i=Ur.validate(this.id,o);return i.success?(this.silent=!0,this.clear(),this.trigger("import",o),!0):(this.trigger("warn",i.msg),!1)}},{key:"afterImport",value:function(){return this.silent=!1,!0}},{key:"fromJSON",value:function(){var r=Oe(X().mark(function i(s){var a=this,u;return X().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.beforeImport(s)){l.next=2;break}return l.abrupt("return",!1);case 2:return u={},l.prev=3,l.next=6,Promise.all(Object.keys(s.nodes).map(function(){var h=Oe(X().mark(function p(y){var L,M;return X().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return L=s.nodes[y],M=a.getComponent(L.name),V.next=4,M.build(Bt.fromJSON(L));case 4:u[y]=V.sent,a.addNode(u[y]);case 6:case"end":return V.stop()}},p)}));return function(p){return h.apply(this,arguments)}}()));case 6:Object.keys(s.nodes).forEach(function(h){var p=s.nodes[h],y=u[h];Object.keys(p.outputs).forEach(function(L){var M=p.outputs[L];M.connections.forEach(function(U){var V=U.node,se=U.data,N=y.outputs.get(L),W=u[V].inputs.get(U.input);if(!N||!W)return a.trigger("error","IO not found for node ".concat(y.id));a.connect(N,W,se)})})}),l.next=13;break;case 9:return l.prev=9,l.t0=l.catch(3),this.trigger("warn",l.t0),l.abrupt("return",!this.afterImport());case 13:return l.abrupt("return",this.afterImport());case 14:case"end":return l.stop()}},i,this,[[3,9]])}));function o(i){return r.apply(this,arguments)}return o}()}]),n}(Ji),mn=function(e){Be(n,e);var t=Fe(n);function n(r,o,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return le(this,n),t.call(this,r,o,i,s)}return de(n,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"connectTo",value:function(o){if(!this.socket.compatibleWith(o.socket))throw new Error("Sockets not compatible");if(!o.multipleConnections&&o.hasConnection())throw new Error("Input already has one connection");if(!this.multipleConnections&&this.hasConnection())throw new Error("Output already has one connection");var i=new Ui(this,o);return this.connections.push(i),i}},{key:"connectedTo",value:function(o){return this.connections.some(function(i){return i.input===o})}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(o){if(!o.input.node)throw new Error("Node not added to Input");return{node:o.input.node.id,input:o.input.key,data:o.data}})}}}]),n}(Kr),vn=function(){function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};le(this,e),E(this,"name",void 0),E(this,"data",void 0),E(this,"compatible",[]),this.name=t,this.data=n,this.compatible=[]}return de(e,[{key:"combineWith",value:function(n){this.compatible.push(n)}},{key:"compatibleWith",value:function(n){return this===n||this.compatible.includes(n)}}]),e}();function ec(e,t){return e.filter(function(n){return t.indexOf(n)!==-1})}var Zi=function(){function e(t){le(this,e),E(this,"nodes",void 0),this.nodes=t}return de(e,[{key:"extractInputNodes",value:function(n){var r=this;return Object.keys(n.inputs).reduce(function(o,i){var s=n.inputs[i].connections,a=(s||[]).reduce(function(u,c){return[].concat(We(u),[r.nodes[c.node]])},[]);return[].concat(We(o),We(a))},[])}},{key:"findSelf",value:function(n,r){var o=ec(n,r);if(o.length)return o[0];var i=Ro(r),s;try{for(i.s();!(s=i.n()).done;){var a=s.value,u=[a].concat(We(n)),c=this.findSelf(u,this.extractInputNodes(a));if(c)return c}}catch(l){i.e(l)}finally{i.f()}return null}},{key:"detect",value:function(){var n=this,r=Object.keys(this.nodes).map(function(u){return n.nodes[u]}),o=Ro(r),i;try{for(o.s();!(i=o.n()).done;){var s=i.value,a=this.findSelf([s],this.extractInputNodes(s));if(a)return a}}catch(u){o.e(u)}finally{o.f()}return null}}]),e}(),Ze={AVAILABLE:0,PROCESSED:1,ABORT:2},tc=function(e){Be(n,e);var t=Fe(n);function n(){return le(this,n),t.call(this,{})}return de(n)}(Gi),Cr=function(e){Be(n,e);var t=Fe(n);function n(r){var o;return le(this,n),o=t.call(this,r,new tc),E($(o),"args",[]),E($(o),"data",null),E($(o),"state",Ze.AVAILABLE),E($(o),"forwarded",new Set),E($(o),"onAbort",function(){}),o}return de(n,[{key:"clone",value:function(){var o=new n(this.id);return this.components.forEach(function(i){return o.register(i)}),o}},{key:"throwError",value:function(){var r=Oe(X().mark(function i(s){var a,u=arguments;return X().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=u.length>1&&u[1]!==void 0?u[1]:null,l.next=3,this.abort();case 3:return this.trigger("error",{message:s,data:a}),this.processDone(),l.abrupt("return","error");case 6:case"end":return l.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"processStart",value:function(){return this.state===Ze.AVAILABLE?(this.state=Ze.PROCESSED,!0):(this.state===Ze.ABORT||console.warn(`The process is busy and has not been restarted.
                Use abort() to force it to complete`),!1)}},{key:"processDone",value:function(){var o=this.state!==Ze.ABORT;return this.state=Ze.AVAILABLE,o||(this.onAbort(),this.onAbort=function(){}),o}},{key:"abort",value:function(){var r=Oe(X().mark(function i(){var s=this;return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){s.state===Ze.PROCESSED?(s.state=Ze.ABORT,s.onAbort=c):s.state===Ze.ABORT?(s.onAbort(),s.onAbort=c):c()}));case 1:case"end":return u.stop()}},i)}));function o(){return r.apply(this,arguments)}return o}()},{key:"lock",value:function(){var r=Oe(X().mark(function i(s){return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){s.unlockPool=s.unlockPool||[],s.busy&&!s.outputData?s.unlockPool.push(c):c(),s.busy=!0}));case 1:case"end":return u.stop()}},i)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"unlock",value:function(o){o.unlockPool.forEach(function(i){return i()}),o.unlockPool=[],o.busy=!1}},{key:"extractInputData",value:function(){var r=Oe(X().mark(function i(s){var a=this,u,c,l,h,p,y,L;return X().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:u={},c=0,l=Object.keys(s.inputs);case 2:if(!(c<l.length)){U.next=13;break}return h=l[c],p=s.inputs[h],y=p.connections,U.next=8,Promise.all(y.map(function(){var V=Oe(X().mark(function se(N){var W,J;return X().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return W=a.data.nodes[N.node],ue.next=3,a.processNode(W);case 3:if(J=ue.sent,J){ue.next=8;break}a.abort(),ue.next=9;break;case 8:return ue.abrupt("return",J[N.output]);case 9:case"end":return ue.stop()}},se)}));return function(se){return V.apply(this,arguments)}}()));case 8:L=U.sent,u[h]=L;case 10:c++,U.next=2;break;case 13:return U.abrupt("return",u);case 14:case"end":return U.stop()}},i)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"processWorker",value:function(){var r=Oe(X().mark(function i(s){var a,u,c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.extractInputData(s);case 2:return a=h.sent,u=this.components.get(s.name),c={},h.prev=5,h.next=8,u.worker.apply(u,[s,a,c].concat(We(this.args)));case 8:h.next=14;break;case 10:h.prev=10,h.t0=h.catch(5),this.abort(),this.trigger("warn",h.t0);case 14:return h.abrupt("return",c);case 15:case"end":return h.stop()}},i,this,[[5,10]])}));function o(i){return r.apply(this,arguments)}return o}()},{key:"processNode",value:function(){var r=Oe(X().mark(function i(s){return X().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.state===Ze.ABORT||!s)){u.next=2;break}return u.abrupt("return",null);case 2:return u.next=4,this.lock(s);case 4:if(s.outputData){u.next=8;break}return u.next=7,this.processWorker(s);case 7:s.outputData=u.sent;case 8:return this.unlock(s),u.abrupt("return",s.outputData);case 10:case"end":return u.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"forwardProcess",value:function(){var r=Oe(X().mark(function i(s){var a=this;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.state!==Ze.ABORT){c.next=2;break}return c.abrupt("return",null);case 2:return c.next=4,Promise.all(Object.keys(s.outputs).map(function(){var l=Oe(X().mark(function h(p){var y;return X().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return y=s.outputs[p],M.next=3,Promise.all(y.connections.map(function(){var U=Oe(X().mark(function V(se){var N;return X().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(N=a.data.nodes[se.node],a.forwarded.has(N)){J.next=7;break}return a.forwarded.add(N),J.next=5,a.processNode(N);case 5:return J.next=7,a.forwardProcess(N);case 7:case"end":return J.stop()}},V)}));return function(V){return U.apply(this,arguments)}}()));case 3:return M.abrupt("return",M.sent);case 4:case"end":return M.stop()}},h)}));return function(h){return l.apply(this,arguments)}}()));case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"copy",value:function(o){return o=Object.assign({},o),o.nodes=Object.assign({},o.nodes),Object.keys(o.nodes).forEach(function(i){o.nodes[i]=Object.assign({},o.nodes[i])}),o}},{key:"validate",value:function(){var r=Oe(X().mark(function i(s){var a,u,c;return X().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(a=Ur.validate(this.id,s),u=new Zi(s.nodes),a.success){h.next=6;break}return h.next=5,this.throwError(a.msg);case 5:return h.abrupt("return",h.sent);case 6:if(c=u.detect(),!c){h.next=11;break}return h.next=10,this.throwError("Recursion detected",c);case 10:return h.abrupt("return",h.sent);case 11:return h.abrupt("return",!0);case 12:case"end":return h.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"processStartNode",value:function(){var r=Oe(X().mark(function i(s){var a;return X().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(s){c.next=2;break}return c.abrupt("return");case 2:if(a=this.data.nodes[s],a){c.next=7;break}return c.next=6,this.throwError("Node with such id not found");case 6:return c.abrupt("return",c.sent);case 7:return c.next=9,this.processNode(a);case 9:return c.next=11,this.forwardProcess(a);case 11:case"end":return c.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()},{key:"processUnreachable",value:function(){var r=Oe(X().mark(function i(){var s,a,u;return X().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:s=this.data,l.t0=X().keys(s.nodes);case 2:if((l.t1=l.t0()).done){l.next=12;break}if(a=l.t1.value,u=s.nodes[a],!(typeof u.outputData>"u")){l.next=10;break}return l.next=8,this.processNode(u);case 8:return l.next=10,this.forwardProcess(u);case 10:l.next=2;break;case 12:case"end":return l.stop()}},i,this)}));function o(){return r.apply(this,arguments)}return o}()},{key:"process",value:function(){var r=Oe(X().mark(function i(s){var a,u,c,l,h=arguments;return X().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(a=h.length>1&&h[1]!==void 0?h[1]:null,this.processStart()){y.next=3;break}return y.abrupt("return");case 3:if(this.validate(s)){y.next=5;break}return y.abrupt("return");case 5:for(this.data=this.copy(s),u=h.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=h[l];return this.args=c,this.forwarded=new Set,y.next=11,this.processStartNode(a);case 11:return y.next=13,this.processUnreachable();case 13:return y.abrupt("return",this.processDone()?"success":"aborted");case 14:case"end":return y.stop()}},i,this)}));function o(i){return r.apply(this,arguments)}return o}()}]),n}(Ji),we={Engine:Cr,Recursion:Zi,Component:qe,Control:tr,Connection:Ui,Emitter:Ot,Input:Bn,IO:Kr,Node:Bt,NodeEditor:Yi,Output:mn,Socket:vn};class nc{constructor(){H(this,"listeners",new Map);this.listeners}on(t,n,r){for(const o of t)this.listeners.get(o)||this.listeners.set(o,new Map),this.listeners.get(o).set(n,r)}removeListener(t){for(const n of this.listeners.keys())this.listeners.get(n)&&this.listeners.get(n).delete(t)}trigger(t,...n){if(this.listeners.get(t))for(const r of this.listeners.get(t).keys())new Promise(o=>setTimeout(o,0)).then(()=>{this.listeners.has(t)&&this.listeners.get(t).has(r)&&this.listeners.get(t).get(r)(t,n)})}clear(){this.listeners=new Map}}function Xi(e){if(!e||typeof window>"u")return;const t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}function Do(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(c){n(c);return}a.done?t(u):Promise.resolve(u).then(r,o)}function jo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(u){Do(i,r,o,s,a,"next",u)}function a(u){Do(i,r,o,s,a,"throw",u)}s(void 0)})}}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?Object(arguments[t]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){rc(e,o,n[o])})}return e}var oc={props:["node","editor","bindSocket","bindControl"],methods:{inputs:function(){return Array.from(this.node.inputs.values())},outputs:function(){return Array.from(this.node.outputs.values())},controls:function(){return Array.from(this.node.controls.values())},selected:function(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount:function(t,n){n.instance.bindSocket(t,n.arg,n.value)},updated:function(t,n){n.instance.bindSocket(t,n.arg,n.value)}},control:{beforeMount:function(t,n){n.value&&n.instance.bindControl(t,n.value)}}}};function es(e){var t=function(r){return r.toLowerCase().replace(/ /g,"-")};return Array.isArray(e)?e.map(t):t(e)}var gn=It({props:["type","socket"],setup(e){return{className:Et(()=>es([e.type,e.socket.name]))}}});const ic=_i(),sc=ic((e,t,n,r,o,i)=>(Q(),Ue("div",{class:["socket",e.className],title:e.socket.name},null,10,["title"])));Xi(`.socket[data-v-51f75f2c] {
  display: inline-block;
  cursor: pointer;
  border: 1px solid white;
  border-radius: 12px;
  width: 24px;
  height: 24px;
  margin: 6px;
  vertical-align: middle;
  background: #96b38a;
  z-index: 2;
  box-sizing: border-box;
}
.socket[data-v-51f75f2c][data-v-51f75f2c]:hover {
  border-width: 4px;
}
.socket[data-v-51f75f2c].multiple[data-v-51f75f2c] {
  border-color: yellow;
}
.socket[data-v-51f75f2c].output[data-v-51f75f2c] {
  margin-right: -12px;
}
.socket[data-v-51f75f2c].input[data-v-51f75f2c] {
  margin-left: -12px;
}`);gn.render=sc;gn.__scopeId="data-v-51f75f2c";gn.__file="src/Socket.vue";var yn=It({name:"node",components:{Socket:gn},mixins:[oc],setup(e){const t=()=>e.editor.selected.contains(e.node)?"selected":"";return{className:Et(()=>es([t(),e.node.name]))}}});const ac=_i();Br("data-v-f9277b0a");const uc={class:"title"},cc={class:"output-title"},lc={class:"input-control"};Fr();const dc=ac((e,t,n,r,o,i)=>{const s=fn("Socket"),a=Rn("socket"),u=Rn("control");return Q(),Ue("div",{class:["node",e.className]},[Ee("div",uc,ze(e.node.name),1),Rt(" Outputs"),(Q(!0),Ue(ye,null,dt(e.outputs(),c=>(Q(),Ue("div",{class:"output",key:c.key},[Ee("div",cc,ze(c.name),1),Qe(Ee(s,{type:"output",socket:c.socket},null,8,["socket"]),[[a,c,"output"]])]))),128)),Rt(" Controls"),(Q(!0),Ue(ye,null,dt(e.controls(),c=>Qe((Q(),Ue("div",{class:"control",key:c.key},null,512)),[[u,c]])),128)),Rt(" Inputs"),(Q(!0),Ue(ye,null,dt(e.inputs(),c=>(Q(),Ue("div",{class:"input",key:c.key},[Qe(Ee(s,{type:"input",socket:c.socket},null,8,["socket"]),[[a,c,"input"]]),Qe(Ee("div",{class:"input-title"},ze(c.name),513),[[jn,!c.showControl()]]),Qe(Ee("div",lc,null,512),[[jn,c.showControl()],[u,c.control]])]))),128))],2)});Xi(`.node[data-v-f9277b0a] {
  background: rgba(110, 136, 255, 0.8);
  border: 2px solid #4e58bf;
  border-radius: 10px;
  cursor: pointer;
  min-width: 180px;
  height: auto;
  padding-bottom: 6px;
  box-sizing: content-box;
  position: relative;
  user-select: none;
}
.node[data-v-f9277b0a][data-v-f9277b0a]:hover {
  background: rgba(130, 153, 255, 0.8);
}
.node[data-v-f9277b0a].selected[data-v-f9277b0a] {
  background: #ffd92c;
  border-color: #e3c000;
}
.node[data-v-f9277b0a] .title[data-v-f9277b0a] {
  color: white;
  font-family: sans-serif;
  font-size: 18px;
  padding: 8px;
}
.node[data-v-f9277b0a] .output[data-v-f9277b0a] {
  text-align: right;
}
.node[data-v-f9277b0a] .input[data-v-f9277b0a] {
  text-align: left;
}
.node[data-v-f9277b0a] .input-title[data-v-f9277b0a], .node[data-v-f9277b0a] .output-title[data-v-f9277b0a] {
  vertical-align: middle;
  color: white;
  display: inline-block;
  font-family: sans-serif;
  font-size: 14px;
  margin: 6px;
  line-height: 24px;
}
.node[data-v-f9277b0a] .input-control[data-v-f9277b0a] {
  z-index: 1;
  width: calc(100% - 36px);
  vertical-align: middle;
  display: inline-block;
}
.node[data-v-f9277b0a] .control[data-v-f9277b0a] {
  padding: 6px 18px;
}`);yn.render=dc;yn.__scopeId="data-v-f9277b0a";yn.__file="src/Node.vue";function ts(e,t,n){var r=arguments.length>4?arguments[4]:void 0,o=er(t,n);return r.vueContext=o.mount(e),o}function fc(e,t,n,r){var o=n.el,i=n.node,s=n.component,a=n.bindSocket,u=n.bindControl,c=s.component||t||yn,l=Qi({},s.props,{node:i,editor:e,bindSocket:a,bindControl:u});return ts(o,c,l,r,i)}function hc(e,t,n){var r=t.el,o=t.control,i=o.component,s=Qi({},o.props,{getData:o.getData.bind(o),putData:o.putData.bind(o)});return ts(r,i,s,n,o)}var rn=function(t){return new Promise(function(n){if(!t.vueContext)return n();t.vueContext.$forceUpdate(),t.vueContext.$nextTick(n)})};function pc(e,t){var n=t.component,r=t.options;e.on("rendernode",function(o){var i=o.el,s=o.node,a=o.component,u=o.bindSocket,c=o.bindControl;a.render&&a.render!=="vue"||(s._vue=fc(e,n,{el:i,node:s,component:a,bindSocket:u,bindControl:c},r),s.update=jo(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,rn(s);case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},l)})))}),e.on("rendercontrol",function(o){var i=o.el,s=o.control;s.render&&s.render!=="vue"||(s._vue=hc(e,{el:i,control:s},r),s.update=jo(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,rn(s);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},a)})))}),e.on("connectioncreated connectionremoved",function(o){rn(o.output.node),rn(o.input.node)}),e.on("nodeselected",function(){e.nodes.map(rn)})}var mc={name:"vue-render",install:pc,Node:yn,Socket:gn};function vc(e){if(e&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qr(e,t,n){return t&&Bo(e.prototype,t),n&&Bo(e,n),e}function Ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ns(e,t){return gc(e)||yc(e,t)||bc()}function gc(e){if(Array.isArray(e))return e}function yc(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function bc(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function En(e){return e.toLowerCase().replace(/ /g,"-")}function rs(e,t){return e.get(t)||(t.parentElement?rs(e,t.parentElement):null)}function wc(e,t){var n=ns(e,4),r=n[0],o=n[1],i=n[2],s=n[3],a=r+Math.abs(i-r)*t,u=i-Math.abs(i-r)*t;return"M ".concat(r," ").concat(o," C ").concat(a," ").concat(o," ").concat(u," ").concat(s," ").concat(i," ").concat(s)}function Fn(e,t,n){var r={points:t,connection:n,d:""};return e.trigger("connectionpath",r),r.d||wc(t,.4)}function Gr(e){var t=e.el,n=e.d,r=t.querySelector(".connection path");if(!r)throw new Error("Path of connection was broken");r.setAttribute("d",n)}function os(e){var t,n=e.el,r=e.d,o=e.connection,i=o?["input-"+En(o.input.name),"output-"+En(o.output.name),"socket-input-"+En(o.input.socket.name),"socket-output-"+En(o.output.socket.name)]:[],s=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");(t=s.classList).add.apply(t,["connection"].concat(i)),a.classList.add("main-path"),a.setAttribute("d",r),s.appendChild(a),n.appendChild(s),Gr({el:n,d:r})}var kc=function(){function e(t,n){Jr(this,e),this.emitter=t,this.editorView=n,Ut(this,"el",void 0),this.el=document.createElement("div"),this.el.style.position="absolute",this.editorView.area.appendChild(this.el)}return qr(e,[{key:"updatePseudoConnection",value:function(n){n!==null?this.renderConnection(n):this.el.parentElement&&(this.el.innerHTML="")}},{key:"getPoints",value:function(n){var r=this.editorView.area.mouse;if(!n.node)throw new Error("Node in output/input not found");var o=this.editorView.nodes.get(n.node);if(!o)throw new Error("Node view not found");var i=o.getSocketPosition(n),s=ns(i,2),a=s[0],u=s[1];return n instanceof mn?[a,u,r.x,r.y]:[r.x,r.y,a,u]}},{key:"updateConnection",value:function(n){var r=Fn(this.emitter,this.getPoints(n));Gr({el:this.el,d:r})}},{key:"renderConnection",value:function(n){var r=Fn(this.emitter,this.getPoints(n));os({el:this.el,d:r})}}]),e}(),_c=function(){function e(t){var n=this;Jr(this,e),Ut(this,"editor",void 0),Ut(this,"_io",null),Ut(this,"view",void 0),this.editor=t,this.view=new kc(t,t.view),t.on("mousemove",function(){return n.io&&n.view.updateConnection(n.io)})}return qr(e,[{key:"reset",value:function(){this.io=null}},{key:"pickOutput",value:function(n){if(this.editor.trigger("connectionpick",n)){if(this.io instanceof Bn){!n.multipleConnections&&n.hasConnection()&&this.editor.removeConnection(n.connections[0]),this.editor.connect(n,this.io),this.reset();return}this.io&&this.reset(),this.io=n}}},{key:"pickInput",value:function(n){var r=this;if(this.editor.trigger("connectionpick",n)){if(this.io===null)return n.hasConnection()?(this.io=n.connections[0].output,this.editor.removeConnection(n.connections[0])):this.io=n,!0;if(!n.multipleConnections&&n.hasConnection()&&this.editor.removeConnection(n.connections[0]),!this.io.multipleConnections&&this.io.hasConnection()&&this.editor.removeConnection(this.io.connections[0]),this.io instanceof mn&&this.io.connectedTo(n)){var o=n.connections.find(function(i){return i.output===r.io});o&&this.editor.removeConnection(o)}this.io instanceof mn&&(this.editor.connect(this.io,n),this.reset())}}},{key:"pickConnection",value:function(n){var r=n.output;this.editor.removeConnection(n),this.io=r}},{key:"io",get:function(){return this._io},set:function(n){this._io=n,this.view.updatePseudoConnection(n)}}]),e}(),Cc=function(){function e(t){Jr(this,e),Ut(this,"picker",void 0),Ut(this,"target",void 0),this.picker=t,this.target=null}return qr(e,[{key:"act",value:function(n){var r=n.input,o=n.output;this.unlock(r||o)||(r?this.picker.pickInput(r):o?this.picker.pickOutput(o):this.picker.reset())}},{key:"start",value:function(n,r){this.act(n),this.target=r}},{key:"complete",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.act(n)}},{key:"hasTarget",value:function(){return Boolean(this.target)}},{key:"unlock",value:function(n){var r=this.target;return this.target=null,r&&r===n}}]),e}();vc(`.connection {
  overflow: visible !important;
  position: absolute;
  z-index: -1;
  pointer-events: none; }
  .connection > * {
    pointer-events: all; }
  .connection .main-path {
    fill: none;
    stroke-width: 5px;
    stroke: steelblue; }
`);function Sc(e){e.bind("connectionpath"),e.bind("connectiondrop"),e.bind("connectionpick"),e.bind("resetconnection");var t=new _c(e),n=new Cc(t),r=new WeakMap;function o(s){var a=r.get(this);if(a){var u=a.input,c=a.output;e.view.container.dispatchEvent(new PointerEvent("pointermove",s)),s.preventDefault(),s.stopPropagation(),n.start({input:u,output:c},u||c)}}function i(s){var a=document.elementFromPoint(s.clientX,s.clientY);t.io&&e.trigger("connectiondrop",t.io),a&&n.complete(rs(r,a)||{})}e.on("resetconnection",function(){return n.complete()}),e.on("rendersocket",function(s){var a=s.el,u=s.input,c=s.output;r.set(a,{input:u,output:c}),a.removeEventListener("pointerdown",o),a.addEventListener("pointerdown",o)}),window.addEventListener("pointerup",i),e.on("renderconnection",function(s){var a=s.el,u=s.connection,c=s.points,l=Fn(e,c,u);os({el:a,d:l,connection:u})}),e.on("updateconnection",function(s){var a=s.el,u=s.connection,c=s.points,l=Fn(e,c,u);Gr({el:a,d:l})}),e.on("destroy",function(){window.removeEventListener("pointerup",i)})}var Ec={name:"connection",install:Sc};class xc{constructor(t,n){H(this,"name");H(this,"components");this.name=t,this.components=n}install(t,n){typeof t==typeof Se?t.registerAll(this.components):this.components.forEach(r=>{t.register(r)})}}class Fo{constructor(t){H(this,"name");H(this,"refSocket");H(this,"valSocket");this.name=t,this.refSocket=new vn(t+" ref"),this.valSocket=new vn(t+" val")}}class Ic{constructor(){H(this,"anyTypeSocket",new Fo("any"));H(this,"anySocket",new vn("*"));H(this,"typeSocket",new vn("type"));H(this,"types");H(this,"actSocket",()=>this.get("act").valSocket);H(this,"eventSocket",()=>this.get("act").refSocket);H(this,"numSocket",()=>this.get("number"));H(this,"textSocket",()=>this.get("text"));H(this,"boolSocket",()=>this.get("boolean"));this.types=new Map,this.anySocket.combineWith(this.anyTypeSocket.refSocket),this.anySocket.combineWith(this.anyTypeSocket.valSocket),this.anyTypeSocket.valSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(this.anySocket)}add(t){if(!(t in this.types.keys())){const n=new Fo(t);this.types.set(t,n),n.refSocket.combineWith(this.anyTypeSocket.refSocket),n.valSocket.combineWith(this.anyTypeSocket.valSocket),n.valSocket.combineWith(this.anySocket),n.refSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(n.refSocket),this.anyTypeSocket.valSocket.combineWith(n.valSocket),this.anySocket.combineWith(n.refSocket),this.anySocket.combineWith(n.valSocket)}}getRefByVal(t){return t.name=="type"||t.name=="*"?t:this.get(t.name.replace(" val","")).refSocket}getValByRef(t){return t.name=="type"||t.name=="*"?t:this.get(t.name.replace(" ref","")).valSocket}get(t){return this.types.get(t)}}const ie=new Ic;ie.add("text");ie.add("number");ie.add("boolean");ie.add("act");ie.numSocket().valSocket.combineWith(ie.textSocket().valSocket);class Oc extends qe{constructor(){super("ConditionNode");H(this,"data",{i18nKeys:["cond"],category:[["controlflow"]]})}async builder(n){const r=new we.Input("bool",ne(["cond"])??"Condition",ie.boolSocket().valSocket),o=new we.Input("if",ne(["if"])??"If",ie.anySocket),i=new we.Input("else",ne(["else"])??"Else",ie.anySocket),s=new we.Output("res",ne(["res"])??"Result",ie.anySocket);n.addInput(r).addInput(o).addInput(i).addOutput(s)}reconnectOutput(n,r,o){n&&(o.compatibleWith(n.socket)||r==null||r.remove(),n.socket=o)}reconnectInput(n,r,o){n&&(o.compatibleWith(n.socket)||r==null||r.remove(),n.socket=o)}worker(n,r,o){const i=this.editor.nodes.find(s=>s.id==n.id);if(i){const s=i.getConnections().find((l,h)=>l.input.key=="if"),a=i.getConnections().find((l,h)=>l.input.key=="else"),u=i.getConnections().find((l,h)=>l.input.key=="res");let c=ie.anySocket;s&&s.output.socket?c=s.output.socket:a&&a.output.socket?c=a.output.socket:u&&u.output.socket&&(c=u.output.socket),this.reconnectInput(i.inputs.get("if"),s,c),this.reconnectInput(i.inputs.get("else"),a,c),this.reconnectOutput(i.outputs.get("res"),u,c)}o.res=r.bool[0]?r.if[0]:r.else[0]}}const Nc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueBoolComponent",data(){return{value:!1}},methods:{change(e){console.log(e.target.checked),this.readonly||(this.value=!this.value),this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)||!1}};const rt=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n},Pc={class:"control title"},Mc={class:"container"},Tc={class:"background-container"};function Ac(e,t,n,r,o,i){return Q(),he(ye,null,[be("div",Pc,ze(n.title?n.title+":":""),1),be("div",Mc,[be("div",{class:"switch",onClick:t[0]||(t[0]=s=>i.change(s))},[be("div",Tc,[be("div",{class:mt("background "+(o.value?"checked":""))},null,2)]),be("div",{class:mt("box "+(o.value?"checked":""))},null,2)])])],64)}const $c=rt(Nc,[["render",Ac],["__scopeId","data-v-8669de86"]]);class Yr extends tr{constructor(n,r,o=!1,i=null){super(r);H(this,"component");H(this,"props");H(this,"vueContext");this.component=$c,this.props={readonly:o,emitter:n,ikey:r,title:i}}setValue(n){this.vueContext.value=n}getValue(){return this.vueContext.value}}class Lc extends qe{constructor(){super("BoolNode");H(this,"data",{i18nKeys:["bool"],category:[["values"]]})}async builder(n){const r=new we.Output("bool",ne(["bool"])||"Boolean",ie.boolSocket().valSocket);n.addControl(new Yr(o=>{var i;return(i=this.editor)==null?void 0:i.trigger("process")},"bool",!1)).addOutput(r)}worker(n,r,o){o.bool=n.data.bool}}const Rc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueNumComponent",data(){return{value:0}},methods:{change(e){this.value=+e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)??0}};const Dc={class:"control title"},jc=["readonly","value"];function Bc(e,t,n,r,o,i){return Q(),he(ye,null,[be("div",Dc,ze(n.title?n.title+":":""),1),be("input",{type:"number",readonly:n.readonly,value:o.value,onInput:t[0]||(t[0]=s=>i.change(s)),onDblclick:t[1]||(t[1]=_t(()=>{},["stop"])),onPointerdown:t[2]||(t[2]=_t(()=>{},["stop"])),onPointermove:t[3]||(t[3]=_t(()=>{},["stop"]))},null,40,jc)],64)}const Fc=rt(Rc,[["render",Bc],["__scopeId","data-v-e23ff8d4"]]);class Le extends tr{constructor(n,r,o=!1,i=null){super(r);H(this,"component");H(this,"props");this.component=Fc,this.props={emitter:n,ikey:r,readonly:o,title:i}}setValue(n){this.vueContext.value=n??0}getValue(){return this.vueContext.value??0}}class Hc extends qe{constructor(){super("NumNode");H(this,"data",{i18nKeys:["num"],category:[["values"]]})}async builder(n){const r=new we.Output("num",ne(["num"])||"Number",ie.numSocket().valSocket);n.addControl(new Le(o=>{var i;return(i=Se.instance)==null?void 0:i.trigger("process")},"num",!1)).addOutput(r)}worker(n,r,o){o.num=n.data.num}}const Vc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueTextComponent",data(){return{value:""}},methods:{change(e){this.value=e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)}};const Wc={class:"title control"},zc=["readonly","value"];function Kc(e,t,n,r,o,i){return Q(),he(ye,null,[be("div",Wc,ze(n.title?n.title+":":""),1),be("input",{type:"text",readonly:n.readonly,value:o.value,onInput:t[0]||(t[0]=s=>i.change(s)),onDblclick:t[1]||(t[1]=_t(()=>{},["stop"])),onPointerdown:t[2]||(t[2]=_t(()=>{},["stop"])),onPointermove:t[3]||(t[3]=_t(()=>{},["stop"]))},null,40,zc)],64)}const Uc=rt(Vc,[["render",Kc],["__scopeId","data-v-8b76bbc0"]]);class Zr extends tr{constructor(n,r,o=!1,i=null){super(r);H(this,"component");H(this,"props");this.component=Uc,this.props={emitter:n,ikey:r,readonly:o,title:i}}setValue(n){this.vueContext.value=n}}class Jc extends qe{constructor(){super("InputNumNode");H(this,"data",{i18nKeys:["numIn"],category:[["modules"]],module:{type:"input",socket:ie.numSocket().valSocket}})}async builder(n){const r=new we.Output("val",ne(["num"])??"Number",ie.numSocket().valSocket);n.addControl(new Le(o=>{var i;return(i=Se.instance)==null?void 0:i.trigger("process")},"val",!1)),n.addControl(new Zr(o=>{var i;return(i=Se.instance)==null?void 0:i.trigger("process")},"key",!1)).addOutput(r)}worker(n,r,o,i,s,a){if(n.data.key,s&&s[n.id.toString()]){let u=s[n.id.toString()][0];o.val=u}else o.val=n.data.val??0}}class qc extends qe{constructor(){super("Module");H(this,"data",{i18nKeys:["module"],category:[["modules"]]})}async builder(n){n.addControl(new Zr(r=>this.updateIos(r,n),"id",!1)),n.addInput(new Bn("eval",ne(["eval"])??"Evaluate",ie.anySocket)),this.updateIos(n.data.id,n)}updateIos(n,r){let o=Se.getIOS(n);r.inputs.forEach(i=>{!o.inputs.find(s=>i.key==s.key)&&i.key!="eval"&&r.removeInput(i)}),r.outputs.forEach(i=>{o.outputs.find(s=>i.key==s.key)||r.removeOutput(i)}),o.inputs.forEach(i=>{r.inputs.has(i.key)||r.addInput(new Bn(i.key,i.name,i.socket))}),o.outputs.forEach(i=>{r.outputs.has(i.key)||r.addOutput(new mn(i.key,i.name,i.socket))}),console.log(),r.update()}async worker(n,r,o){r.eval[0]&&r.eval[0]==!0&&await Se.processModule(n.data.id,r,o)}}class Gc extends qe{constructor(){super("OutputNumNode");H(this,"data",{i18nKeys:["numOut"],category:[["modules"]],module:{type:"output",socket:ie.numSocket().valSocket}})}async builder(n){const r=new we.Input("val",ne(["num"])??"Number",ie.numSocket().valSocket);n.addControl(new Le(o=>{},"val",!0)),n.addControl(new Zr(o=>{var i;return(i=Se.instance)==null?void 0:i.trigger("process")},"key",!1)).addInput(r)}worker(n,r,o,i,s,a){var u,c;if(a){let l=r.val[0];a[n.id.toString()]=l}else{n.data.val=r.val[0];let l=(c=(u=this.editor)==null?void 0:u.nodes.find(h=>h.id==n.id))==null?void 0:c.controls.get("val");l==null||l.setValue(r.val[0])}}}class Yc extends qe{constructor(){super("Addition");H(this,"data",{i18nKeys:["add"],category:[["operators"]]})}async builder(n){const r=new we.Input("num",ne(["addIn"])||"Addend",ie.numSocket().valSocket),o=new we.Input("num2",ne(["addIn"])||"Addend",ie.numSocket().valSocket),i=new we.Output("num",ne(["res"])||"Result",ie.numSocket().valSocket);r.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,ne(["addIn"])||"Addend")),o.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,ne(["addIn"])||"Addend")),n.addInput(r).addInput(o).addControl(new Le((s,a)=>{},"preview",!0,ne(["res"])||"Result")).addOutput(i)}worker(n,r,o,...i){var l,h,p;const s=r.num[0]??n.data.num??0,a=r.num2[0]??n.data.num2??0,u=s+a,c=(p=(h=(l=this.editor)==null?void 0:l.nodes)==null?void 0:h.find(y=>y.id==n.id))==null?void 0:p.controls.get("preview");c==null||c.setValue(u),o.num=u}}class Zc extends qe{constructor(){super("EqualNode");H(this,"category",["Mathe"]);H(this,"data",{i18nKeys:["equal"],category:[["operators"]]});H(this,"compIn1",()=>ne(["compIn1"])||"A");H(this,"compIn2",()=>ne(["compIn1"])||"B");H(this,"res",()=>ne(["res"])||"Result")}async builder(n){const r=new we.Input("num",this.compIn1(),ie.numSocket().valSocket),o=new we.Input("num2",this.compIn2(),ie.numSocket().valSocket),i=new we.Output("bool",this.res(),ie.boolSocket().valSocket);r.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),o.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),n.addInput(r).addInput(o).addControl(new Yr(s=>{},"preview",!0,this.res())).addOutput(i)}worker(n,r,o,...i){var l,h,p;const s=(r.num.length?r.num[0]:n.data.num)||0,a=(r.num2.length?r.num2[0]:n.data.num2)||0,u=s==a,c=(p=(h=(l=this.editor)==null?void 0:l.nodes)==null?void 0:h.find(y=>y.id==n.id))==null?void 0:p.controls.get("preview");c==null||c.setValue(u),o.bool=u}}class Xc extends qe{constructor(){super("GreaterNode");H(this,"category",["Mathe"]);H(this,"data",{i18nKeys:["greater"],category:[["operators"]]});H(this,"compIn1",()=>ne(["compIn1"])||"A");H(this,"compIn2",()=>ne(["compIn1"])||"B");H(this,"res",()=>ne(["res"])||"Result")}async builder(n){const r=new we.Input("num",this.compIn1(),ie.numSocket().valSocket),o=new we.Input("num2",this.compIn2(),ie.numSocket().valSocket),i=new we.Output("bool",this.res(),ie.boolSocket().valSocket);r.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),o.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),n.addInput(r).addInput(o).addControl(new Yr(s=>{},"preview",!0,this.res())).addOutput(i)}worker(n,r,o,...i){var l,h,p;const s=(r.num.length?r.num[0]:n.data.num)||0,a=(r.num2.length?r.num2[0]:n.data.num2)||0,u=s>a,c=(p=(h=(l=this.editor)==null?void 0:l.nodes)==null?void 0:h.find(y=>y.id==n.id))==null?void 0:p.controls.get("preview");c==null||c.setValue(u),o.bool=u}}class Qc extends qe{constructor(){super("MultNode");H(this,"data",{i18nKeys:["mult"],category:[["operators"]]})}async builder(n){const r=new we.Input("num",ne(["multIn"])||"Addend",ie.numSocket().valSocket),o=new we.Input("num2",ne(["multIn"])||"Addend",ie.numSocket().valSocket),i=new we.Output("num",ne(["res"])||"Result",ie.numSocket().valSocket);r.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,ne(["multIn"])||"Addend")),o.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,ne(["multIn"])||"Addend")),n.addInput(r).addInput(o).addControl(new Le((s,a)=>{},"preview",!0,ne(["res"])||"Result")).addOutput(i)}worker(n,r,o,...i){var l,h,p;const s=(r.num.length?r.num[0]:n.data.num)||0,a=(r.num2.length?r.num2[0]:n.data.num2)||0,u=s*a,c=(p=(h=(l=this.editor)==null?void 0:l.nodes)==null?void 0:h.find(y=>y.id==n.id))==null?void 0:p.controls.get("preview");c==null||c.setValue(u),o.num=u}}class el extends qe{constructor(){super("Difference");H(this,"data",{i18nKeys:["sub"],category:[["operators"]]})}async builder(n){const r=new we.Input("num",ne(["subIn"])||"Minuend",ie.numSocket().valSocket),o=new we.Input("num2",ne(["subIn2"])||"Subrtahend",ie.numSocket().valSocket),i=new we.Output("num",ne(["res"])||"Result",ie.numSocket().valSocket);r.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,ne(["subIn"])||"Minuend")),o.addControl(new Le(s=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,ne(["subIn2"])||"Subrtahend")),n.addInput(r).addInput(o).addControl(new Le((s,a)=>{},"preview",!0,ne(["res"])||"Result")).addOutput(i)}worker(n,r,o,...i){var l,h,p;const s=(r.num.length?r.num[0]:n.data.num)||0,a=(r.num2.length?r.num2[0]:n.data.num2)||0,u=s-a,c=(p=(h=(l=this.editor)==null?void 0:l.nodes)==null?void 0:h.find(y=>y.id==n.id))==null?void 0:p.controls.get("preview");c==null||c.setValue(u),o.num=u}}const tl=new xc("StandardNodes",[new Hc,new Lc,new Yc,new Qc,new Xc,new Zc,new el,new Jc,new Gc,new qc,new Oc]);function nl(e){if(e&&!(typeof window>"u")){var t=document.createElement("style");return t.setAttribute("type","text/css"),t.innerHTML=e,document.head.appendChild(t),e}}nl(`.rete-background {
  display: table;
  z-index: -1;
  position: absolute;
  top: -320000px;
  left: -320000px;
  width: 640000px;
  height: 640000px;
}
.rete-background.default {
  background-size: 32px 32px;
  background-image: linear-gradient(to right, #ccc 1px, transparent 1px), linear-gradient(to bottom, #ccc 1px, transparent 1px);
}`);function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function is(e,t,n){return t&&Ho(e.prototype,t),n&&Ho(e,n),e}function ss(e,t){return ol(e)||sl(e,t)||ul()}function as(e){return rl(e)||il(e)||al()}function rl(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function ol(e){if(Array.isArray(e))return e}function il(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function sl(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var s=e[Symbol.iterator](),a;!(r=(a=s.next()).done)&&(n.push(a.value),!(t&&n.length===t));r=!0);}catch(u){o=!0,i=u}finally{try{!r&&s.return!=null&&s.return()}finally{if(o)throw i}}return n}function al(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ul(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var cl=function e(t,n){if(Xr(this,e),!!n){var r=n instanceof HTMLElement?n:document.createElement("div");r.classList+=" rete-background ".concat(n===!0?"default":""),t.view.area.appendChild(r)}},ll=function(){function e(t,n,r){Xr(this,e),this.editor=t,this.scaleExtent=n,this.translateExtent=r,n&&t.on("zoom",this.restrictZoom.bind(this)),r&&t.on("translate",this.restrictTranslate.bind(this))}return is(e,[{key:"restrictZoom",value:function(n){var r=typeof this.scaleExtent=="boolean"?{min:.1,max:1}:this.scaleExtent;n.transform,n.zoom<r.min?n.zoom=r.min:n.zoom>r.max&&(n.zoom=r.max)}},{key:"restrictTranslate",value:function(n){var r=typeof this.translateExtent=="boolean"?{width:5e3,height:4e3}:this.translateExtent,o=this.editor.view.container,i=n.transform.k,s=r.width*i,a=r.height*i,u=o.clientWidth/2,c=o.clientHeight/2;n.x-=u,n.y-=c,n.x>s?n.x=s:n.x<-s&&(n.x=-s),n.y>a?n.y=a:n.y<-a&&(n.y=-a),n.x+=u,n.y+=c}}]),e}(),dl=function(){function e(t,n){var r=this,o=n.size,i=o===void 0?16:o,s=n.dynamic,a=s===void 0?!0:s;Xr(this,e),this.editor=t,this.size=i,a?this.editor.on("nodetranslate",this.onTranslate.bind(this)):this.editor.on("rendernode",function(u){var c=u.node,l=u.el;l.addEventListener("mouseup",r.onDrag.bind(r,c)),l.addEventListener("touchend",r.onDrag.bind(r,c)),l.addEventListener("touchcancel",r.onDrag.bind(r,c))})}return is(e,[{key:"onTranslate",value:function(n){var r=n.x,o=n.y;n.x=this.snap(r),n.y=this.snap(o)}},{key:"onDrag",value:function(n){var r=ss(n.position,2),o=r[0],i=r[1];n.position[0]=this.snap(o),n.position[1]=this.snap(i),console.log(this,o,i,n.position),this.editor.view.nodes.get(n).update(),this.editor.view.updateConnections({node:n})}},{key:"snap",value:function(n){return Math.round(n/this.size)*this.size}}]),e}(),Vo=function(t){return t.length===0?0:Math.min.apply(Math,as(t))},Wo=function(t){return t.length===0?0:Math.max.apply(Math,as(t))};function fl(e,t){var n=Vo(t.map(function(s){return s.position[0]})),r=Vo(t.map(function(s){return s.position[1]})),o=Wo(t.map(function(s){return s.position[0]+e.view.nodes.get(s).el.clientWidth})),i=Wo(t.map(function(s){return s.position[1]+e.view.nodes.get(s).el.clientHeight}));return{left:n,right:o,top:r,bottom:i,width:Math.abs(n-o),height:Math.abs(r-i),getCenter:function(){return[(n+o)/2,(r+i)/2]}}}function hl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.nodes,n=fl(e,t),r=n.getCenter(),o=ss(r,2),i=o[0],s=o[1],a=[e.view.container.clientWidth,e.view.container.clientHeight],u=a[0],c=a[1],l=e.view.area,h=u/n.width,p=c/n.height,y=Math.min(p*.9,h*.9,1);l.transform.x=l.container.clientWidth/2-i*y,l.transform.y=l.container.clientHeight/2-s*y,l.zoom(y,0,0),l.update()}function pl(e,t){var n=t.background||!1,r=t.snap||!1,o=t.scaleExtent||!1,i=t.translateExtent||!1;n&&(this._background=new cl(e,n)),(o||i)&&(this._restrictor=new ll(e,o,i)),r&&(this._snap=new dl(e,r))}var ml={install:pl,zoomAt:hl};function zo(e){return JSON.parse(JSON.stringify(e))}async function us(e,{data:t={},meta:n={},x:r=0,y:o=0}){const i=await e.createNode(zo(t));return i.meta=Object.assign(zo(n),i.meta),i.position[0]=r,i.position[1]=o,i}function Qr(e,t,n=[]){for(const r in e){const o=e[r];typeof o.subitems=="object"?Qr(o.subitems,t,n.slice(0)):t(o.title,o.callback,n)}}function vl(e,t,n){return[Math.min(e,window.innerWidth-n.clientWidth),Math.min(t,window.innerHeight-n.clientHeight)]}function gl(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}const yl=It({props:{item:Object,args:Object,delay:{type:Number,required:!0}},emits:["hide","click"],setup(e,{emit:t}){let n=()=>{a()};const r=ct(!1),o=Et(()=>e.item.subitems),i=()=>{const l=n;l&&l.cancel&&n.cancel()},s=()=>{r.value=!0,console.log("Show subitems",e.item.subitems),i()},a=()=>{r.value=!1};return{onClick:l=>{l.stopPropagation(),t("click",e.item),t("hide")},showSubitems:s,timeoutHide:n,hasSubitems:o,visibleSubitems:r,subitemClicked:l=>{t("click",l)}}}}),bl={key:0,class:"subitems"};function wl(e,t,n,r,o,i){const s=fn("Item",!0);return Q(),he("div",{onClick:t[1]||(t[1]=(...a)=>e.onClick&&e.onClick(...a)),onMouseover:t[2]||(t[2]=(...a)=>e.showSubitems&&e.showSubitems(...a)),onMouseleave:t[3]||(t[3]=(...a)=>e.timeoutHide&&e.timeoutHide(...a)),class:mt(["item",{hasSubitems:e.hasSubitems}])},[Wi(ze(e.item.title)+" ",1),e.hasSubitems&&e.visibleSubitems?(Q(),he("div",bl,[(Q(!0),he(ye,null,dt(e.item.subitems,a=>(Q(),Ue(s,{key:a.title,item:a,delay:e.delay,onHide:t[0]||(t[0]=u=>e.$emit("hide")),onClick:e.subitemClicked},null,8,["item","delay","onClick"]))),128))])):Rt("",!0)],34)}const kl=rt(yl,[["render",wl],["__scopeId","data-v-02d0b53d"]]);const _l=It({props:{value:{type:String,default:""}},emits:["search"],setup(e){return{valueRef:ct(e.value)}}}),Cl={class:"search"};function Sl(e,t,n,r,o,i){return Q(),he("div",Cl,[Qe(be("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.valueRef=s),onChange:t[1]||(t[1]=s=>e.$emit("search",e.valueRef))},null,544),[[Nu,e.valueRef]])])}const El=rt(_l,[["render",Sl],["__scopeId","data-v-78f75ee0"]]),xl=It({components:{Item:kl,Search:El},props:{searchBar:{type:Boolean,default:!1},searchKeep:{type:Function,default:()=>{}},delay:{type:Number,required:!0}},setup(e){Oi(()=>{t=gl(L,e.delay)}),Ni(()=>{gi(()=>{s.value&&([n.value,r.value]=vl(n.value,r.value,s.value))})});let t=()=>{},n=ct(0),r=ct(0),o=[];const i=ct(""),s=ct(),a=ct(!1);let u={};const c=Et(()=>({"--pos-left":n.value+"px","--pos-top":r.value+"px"})),l=Et(()=>{if(!i.value)return o;const N=new RegExp(i.value,"i");return h(o).filter(({title:W})=>e.searchKeep(W)||W.match(N))}),h=N=>{if(!N)return[];let W=[];return N.map(J=>{J.subitems||W.push(J),W.push(...h(J.subitems))}),W},p=N=>{i.value=N},y=(N,W,J={})=>{a.value=!0,n.value=N,r.value=W,u=J,M()},L=()=>{a.value=!1},M=()=>{const N=t;N&&N.cancel&&t.cancel()},U=(N,W,J=[],Te)=>{if(J.length==0){Te.push({title:N,onClick:W});return}let ue=Te.find(Ie=>Ie.title==J[0]);ue||(ue={title:J[0],subitems:[]},Te.push(ue)),ue.subitems||(ue.subitems=[]),U(N,W,J.slice(1),ue.subitems)};return{posLeft:n,posTop:r,visible:a,filter:i,items:o,style:c,filtered:l,myRefMenu:s,extractLeafs:h,onSearch:p,show:y,hide:L,additem:(N,W,J=[])=>{U(N,W,J,o)},timeoutHide:t,cancelHide:M,itemClicked:N=>{N.onClick&&N.onClick(u)}}}});function Il(e,t,n,r,o,i){const s=fn("Search"),a=fn("Item");return e.visible?(Q(),he("div",{key:0,class:"context-menu",ref:"myRefMenu",style:Hn(e.style),onMouseleave:t[1]||(t[1]=(...u)=>e.timeoutHide&&e.timeoutHide(...u)),onMouseover:t[2]||(t[2]=(...u)=>e.cancelHide&&e.cancelHide(...u)),onContextmenu:t[3]||(t[3]=_t(()=>{},["prevent"])),onWheel:t[4]||(t[4]=_t(()=>{},["stop"]))},[e.searchBar?(Q(),Ue(s,{key:0,modelValue:e.filter,"onUpdate:modelValue":t[0]||(t[0]=u=>e.filter=u),onSearch:e.onSearch},null,8,["modelValue","onSearch"])):Rt("",!0),(Q(!0),he(ye,null,dt(e.filtered,u=>(Q(),Ue(a,{key:u.title,item:u,delay:e.delay/2,onHide:e.hide,onClick:e.itemClicked},null,8,["item","delay","onHide","onClick"]))),128))],36)):Rt("",!0)}const Ol=rt(xl,[["render",Il],["__scopeId","data-v-7a5cfb8d"]]);function Nl(e,t,n){return er(t,n).mount(e)}class cs{constructor(t,n,r){const o=document.createElement("div");t.view.container.appendChild(o),this.menu=Nl(o,r||Ol,n)}addItem(...t){this.menu.additem(...t)}show(...t){this.menu.show(...t)}hide(){this.menu.hide()}}class Pl extends cs{constructor(t,n,r,{items:o,allocate:i,rename:s}){super(t,n,r);const a={x:0,y:0};t.on("mousemove",({x:u,y:c})=>{a.x=u,a.y=c});for(const u of t.components.values()){const c=i(u);Array.isArray(c)&&this.addItem(s(u),async()=>{t.addNode(await us(u,a))},c)}Qr(o,(u,c,l)=>this.addItem(u,c,l))}}class Ml extends cs{constructor(t,n,r,o){if(super(t,n,r),o.delete&&!o.delete.callback){const i=({node:s})=>{t.selected.list.indexOf(s)!==-1&&t.selected.remove(s),t.removeNode(s)};o.delete.callback=i}if(o.clone&&!o.clone.callback){const i=async s=>{const{name:a,position:[u,c],...l}=s.node,h=t.components.get(a),p=await us(h,{...l,x:u+10,y:c+10});t.addNode(p),t.trigger("nodeCloned",p)};o.clone.callback=i}typeof o=="object"&&Qr(o,(i,s,a)=>this.addItem(i,s,a))}}function Tl(e,{searchBar:t=!0,searchKeep:n=()=>!1,delay:r=1e3,items:o={},nodeItems:i={delete:{title:"Delete"},clone:{title:"Clone"}},allocate:s=c=>[],rename:a=c=>c.name,vueComponent:u=null}){e.bind("hidecontextmenu"),e.bind("showcontextmenu");let c,l;e.on("hidecontextmenu",()=>{l&&l.hide()}),e.on("click contextmenu",()=>{e.trigger("hidecontextmenu")}),e.on("contextmenu",({e:h,node:p})=>{if(h.preventDefault(),h.stopPropagation(),!e.trigger("showcontextmenu",{e:h,node:p}))return;const[y,L]=[h.clientX,h.clientY];let M;p?(l=new Ml(e,{searchBar:!1,delay:r},u,i),M={node:p}):(c||(c=new Pl(e,{searchBar:t,searchKeep:n,delay:r},u,{items:o,allocate:s,rename:a})),l=c,M={}),l.show(y,L,M)})}const Al={name:"context-menu",install:Tl},$l={props:["node","editor","bindSocket","bindControl"],methods:{inputs(){return Array.from(this.node.inputs.values())},outputs(){return Array.from(this.node.outputs.values())},controls(){return Array.from(this.node.controls.values())},selected(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount(e,t){t.instance.bindSocket(e,t.arg,t.value)},updated(e,t){t.instance.bindSocket(e,t.arg,t.value)}},control:{beforeMount(e,t){t.value&&t.instance.bindControl(e,t.value)}}}};function ls(e){const t=n=>n.toLowerCase().replace(/ /g,"-");return Array.isArray(e)?e.map(t):t(e)}const Ll=It({props:["type","socket"],setup(e){return{className:Et(()=>ls([e.type,e.socket.name]))}}});const Rl=["title"];function Dl(e,t,n,r,o,i){return Q(),he("div",{class:mt(["socket",e.className]),title:e.socket.name},null,10,Rl)}const jl=rt(Ll,[["render",Dl],["__scopeId","data-v-1eb802e5"]]),Bl=It({name:"node",components:{Socket:jl},mixins:[$l],setup(e){let t=e.node;const n=()=>e.editor.selected.contains(e.node)?"selected":"";return{className:Et(()=>ls([n(),e.node.name])),selected:n,nodeName:()=>{let i=Se.instance,a=i.components.get(t.name).data.i18nKeys;return a&&(i==null?void 0:i.i18n(a))||t.name}}}});const Fl={class:"title"},Hl={class:"output-title"},Vl={class:"input-control"};function Wl(e,t){const n=fn("Socket"),r=Rn("socket"),o=Rn("control");return Q(),he("div",{class:mt(["node",e.className,e.selected])},[be("div",Fl,ze(e.nodeName()),1),(Q(!0),he(ye,null,dt(e.outputs(),i=>(Q(),he("div",{class:"output",key:i.key},[be("div",Hl,ze(i.name),1),Qe(Ee(n,{type:"output",socket:i.socket},null,8,["socket"]),[[r,i,"output"]])]))),128)),(Q(!0),he(ye,null,dt(e.controls(),i=>Qe((Q(),he("div",{class:"control",key:i.key})),[[o,i]])),128)),(Q(!0),he(ye,null,dt(e.inputs(),i=>(Q(),he("div",{class:"input",key:i.key},[Qe(Ee(n,{type:"input",socket:i.socket},null,8,["socket"]),[[r,i,"input"]]),Qe(be("div",{class:"input-title"},ze(i.name),513),[[jn,!i.showControl()]]),Qe(be("div",Vl,null,512),[[jn,i.showControl()],[o,i.control]])]))),128))],2)}const zl=rt(Bl,[["render",Wl],["__scopeId","data-v-5859bf33"]]);class Ko{constructor(t,n={variables:new Map,subStacks:new Map}){H(this,"engine");H(this,"stack");this.engine=t,this.stack=n}register(t){this.engine.register(t)}clear(){this.stack={variables:new Map,subStacks:new Map}}abort(){this.engine.abort()}processModule(t,n=null,r,o,i,...s){let a={...t};return a.id=this.engine.id,i?this.engine.clone().process(a,n,this.stack.subStacks.get(i),r,o,...s):this.engine.clone().process(a,n,null,r,o,...s)}process(t,n=null,...r){return this.engine.abort(),this.engine.process(t,n,this.stack,...r)}}const ge=class extends Yi{constructor(n,r="main@0.1.0",o={modules:[{id:"main@0.1.0",nodes:{}}]}){super(r,n);H(this,"eventEmitter",new nc);H(this,"globalProcessor");H(this,"editorProcessor");H(this,"curLocale","de");H(this,"i18nMap",{de:{num:"Zahl",bool:"Wahrheitswert",values:"Werte",value:"Wert",operators:"Operatoren",add:"Summe",mult:"Produkt",addIn:"Summand",multIn:"Faktor",res:"Ergebnis",greater:"A>B",equal:"A=B",sub:"Differenz",subIn:"Minuend",subIn2:"Subtrahend",modules:"Module",numIn:"Eingabe - Zahl",numOut:"Ausgabe - Zahl",controlflow:"Kontroll-Fluss"}});H(this,"curModule",0);this.editorProcessor=new Ko(new Cr(r)),this.globalProcessor=new Ko(new Cr("global@0.1.0")),o.modules.find(i=>i.id==r)||(ge.modules=[{id:"main@0.1.0",nodes:{}}]),ge.modules.push(...o.modules),this.use(mc,{component:zl}),this.use(Ec),this.use(ml,{background:!1,snap:!1,scaleExtent:{min:.25,max:1},translateExtent:{width:5e3,height:4e3}}),this.use(Al,{allocate:i=>{let s=i.data;return s.category?s.category.map(a=>ne(a)):[]},rename(i){let s=i.data;return s.i18nKeys&&ne(s.i18nKeys)||i.name}}),this.use(tl),this.on(["connectioncreated","connectionremoved","nodecreated","noderemoved"],i=>{ge.importing||this.saveCurModule(),this.trigger("process")}),this.on("process",async()=>{await this.processEditor()}),this.view.resize(),this.trigger("process"),console.log("Started editor")}static getCurModule(){var n;return(n=this.instance)==null?void 0:n.curModule}static getModuleIDs(){return this.modules.map((n,r)=>({index:r,id:n.id.slice(0,n.id.length-6)}))}static getOrCreate(n,r="main@0.1.0",o={modules:[{id:"main@0.1.0",nodes:{90:{id:90,data:{num:16},inputs:{},outputs:{num:{connections:[{node:93,input:"16",data:{}}]}},position:[815.5500179668154,384.6244892932236],name:"NumNode"},91:{id:91,data:{num:60},inputs:{},outputs:{num:{connections:[{node:93,input:"17",data:{}}]}},position:[815.2345256982412,538.659015685939],name:"NumNode"},92:{id:92,data:{},inputs:{num:{connections:[{node:93,output:"24",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[]}},position:[1557.5034758550414,344.7766339203289],name:"Addition"},93:{id:93,data:{id:"ggt"},inputs:{16:{connections:[{node:90,output:"num",data:{}}]},17:{connections:[{node:91,output:"num",data:{}}]},eval:{connections:[{node:94,output:"bool",data:{}}]}},outputs:{24:{connections:[{node:92,input:"num",data:{}}]}},position:[1202.07721910915,354.7941420232055],name:"Module"},94:{id:94,data:{bool:!0},inputs:{},outputs:{bool:{connections:[{node:93,input:"eval",data:{}}]}},position:[810.6903952012094,235.4900489075044],name:"BoolNode"}}},{id:"inc@0.1.0",nodes:{1:{id:1,data:{key:"a"},inputs:{},outputs:{val:{connections:[{node:3,input:"num",data:{}}]}},position:[-78.79275764774988,17.238356996708795],name:"InputNumNode"},2:{id:2,data:{val:1,key:"b"},inputs:{val:{connections:[{node:3,output:"num",data:{}}]}},outputs:{},position:[559.8066876006092,58.2953985302745],name:"OutputNumNode"},3:{id:3,data:{num2:1},inputs:{num:{connections:[{node:1,output:"val",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[{node:2,input:"val",data:{}}]}},position:[201.78632063999544,-35.20510549466775],name:"Addition"}}},{id:"max@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"max-a",val:4},inputs:{},outputs:{val:{connections:[{node:4,input:"num",data:{}},{node:1,input:"if",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"max",val:4},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:2,output:"val",data:{}}]},num2:{connections:[{node:5,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[307.46665954589844,98.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"max-b",val:3},inputs:{},outputs:{val:{connections:[{node:4,input:"num2",data:{}},{node:1,input:"else",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"min@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"min-a",val:4},inputs:{},outputs:{val:{connections:[{node:1,input:"if",data:{}},{node:4,input:"num2",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"min",val:3},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:5,output:"val",data:{}}]},num2:{connections:[{node:2,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[316.46665954589844,100.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"min-b",val:3},inputs:{},outputs:{val:{connections:[{node:1,input:"else",data:{}},{node:4,input:"num",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"ggt@0.1.0",nodes:{16:{id:16,data:{key:"ggt-a",val:8},inputs:{},outputs:{val:{connections:[{node:86,input:"2",data:{}}]}},position:[-645.1398674865914,111.17396956787036],name:"InputNumNode"},17:{id:17,data:{key:"ggt-b",val:2},inputs:{},outputs:{val:{connections:[{node:88,input:"5",data:{}}]}},position:[-645.1398674865915,408.1415212714326],name:"InputNumNode"},18:{id:18,data:{id:"max"},inputs:{2:{connections:[{node:86,output:"3",data:{}}]},5:{connections:[{node:88,output:"3",data:{}}]},eval:{connections:[{node:20,output:"bool",data:{}}]}},outputs:{3:{connections:[{node:22,input:"num",data:{}},{node:26,input:"num",data:{}}]}},position:[344.46665954589844,69.36666870117188],name:"Module"},19:{id:19,data:{id:"min"},inputs:{2:{connections:[{node:86,output:"3",data:{}}]},5:{connections:[{node:88,output:"3",data:{}}]},eval:{connections:[{node:20,output:"bool",data:{}}]}},outputs:{3:{connections:[{node:22,input:"num2",data:{}},{node:26,input:"num2",data:{}},{node:27,input:"17",data:{}},{node:25,input:"else",data:{}}]}},position:[342.46665954589844,333.3666687011719],name:"Module"},20:{id:20,data:{bool:!0},inputs:{},outputs:{bool:{connections:[{node:18,input:"eval",data:{}},{node:19,input:"eval",data:{}}]}},position:[96.46225686899598,-86.31571874534211],name:"BoolNode"},22:{id:22,data:{},inputs:{num:{connections:[{node:18,output:"3",data:{}}]},num2:{connections:[{node:19,output:"3",data:{}}]}},outputs:{bool:{connections:[{node:25,input:"bool",data:{}},{node:27,input:"eval",data:{}}]}},position:[664.714713711388,-209.907414234908],name:"GreaterNode"},24:{id:24,data:{key:"ggt",val:2},inputs:{val:{connections:[{node:25,output:"res",data:{}}]}},outputs:{},position:[1575.0093388096154,189.7725676711401],name:"OutputNumNode"},25:{id:25,data:{},inputs:{bool:{connections:[{node:22,output:"bool",data:{}}]},if:{connections:[{node:27,output:"24",data:{}}]},else:{connections:[{node:19,output:"3",data:{}}]}},outputs:{res:{connections:[{node:24,input:"val",data:{}}]}},position:[1329.372317306085,234.20880782027916],name:"ConditionNode"},26:{id:26,data:{},inputs:{num:{connections:[{node:18,output:"3",data:{}}]},num2:{connections:[{node:19,output:"3",data:{}}]}},outputs:{num:{connections:[{node:27,input:"16",data:{}}]}},position:[656.4394722158615,57.30456297928059],name:"Difference"},27:{id:27,data:{id:"ggt"},inputs:{16:{connections:[{node:26,output:"num",data:{}}]},17:{connections:[{node:19,output:"3",data:{}}]},eval:{connections:[{node:22,output:"bool",data:{}}]}},outputs:{24:{connections:[{node:25,input:"if",data:{}}]}},position:[887.1959209445669,97.65127461998998],name:"Module"},86:{id:86,data:{id:"max"},inputs:{2:{connections:[{node:16,output:"val",data:{}}]},5:{connections:[{node:87,output:"num",data:{}}]},eval:{connections:[{node:89,output:"bool",data:{}}]}},outputs:{3:{connections:[{node:18,input:"2",data:{}},{node:19,input:"2",data:{}}]}},position:[-379.94100729873577,37.57762438723701],name:"Module"},87:{id:87,data:{num:1},inputs:{},outputs:{num:{connections:[{node:86,input:"5",data:{}},{node:88,input:"2",data:{}}]}},position:[-644.0932479749742,276.6216314456968],name:"NumNode"},88:{id:88,data:{id:"max"},inputs:{2:{connections:[{node:87,output:"num",data:{}}]},5:{connections:[{node:17,output:"val",data:{}}]},eval:{connections:[{node:89,output:"bool",data:{}}]}},outputs:{3:{connections:[{node:19,input:"5",data:{}},{node:18,input:"5",data:{}}]}},position:[-374.94100729873577,335.577624387237],name:"Module"},89:{id:89,data:{bool:!0},inputs:{},outputs:{bool:{connections:[{node:86,input:"eval",data:{}},{node:88,input:"eval",data:{}}]}},position:[-582.6053628256069,-60.45555421068538],name:"BoolNode"}}}]}){return this.instance||(this.instance=new ge(n,r,o)),ge.importing=!0,this.instance.loadModule("main"),this.instance}static getIOS(n){var a,u;let r=this.getModuleIndex(n),o=ge.modules[r];if(!o)return{inputs:[],outputs:[]};let i=[],s=[];for(let c in o.nodes){let l=o.nodes[c],h=(u=(a=ge.instance)==null?void 0:a.getComponent(l.name))==null?void 0:u.data;if(h.module){let p=h.module;if(p.type=="input"){let y=l.data.key,L=l.id;i.push({key:L.toString(),name:y,socket:p.socket})}if(p.type=="output"){let y=l.data.key,L=l.id;s.push({key:L.toString(),name:y,socket:p.socket})}}}return{inputs:i,outputs:s}}static async processModule(n,r,o){var a;let i=this.getModuleIndex(n),s=ge.modules[i];if(s)return await((a=ge.instance)==null?void 0:a.globalProcessor.processModule(s,null,r,o)),o}i18n(n){return this.i18nRec(n,this.i18nMap[this.curLocale])}i18nRec(n,r){let o=n[0];if(!r[o])return;let i=r[o];return!i||typeof i=="string"?i:this.i18nRec(n.slice(1),i)}register(n){console.log("Register: ",n.name),super.register(n),this.editorProcessor.register(n),this.globalProcessor.register(n)}registerAll(n){n.forEach(r=>{this.register(r)})}saveCurModule(){ge.importing||(ge.modules[this.curModule].nodes=this.toJSON().nodes,console.log(ge.modules[this.curModule]))}clear(){let n=Bt.latestId;this.editorProcessor.abort();const r=this.nodes;for(const o of r)this.removeNode(o);super.clear(),this.eventEmitter.clear(),this.editorProcessor.clear(),Bt.latestId=n}installComponents(n){super.use(n)}async fromJSON(n){return await super.fromJSON(n)}async load(n){return ge.modules=n.modules,await this.fromJSON(ge.modules[0])}addModule(n){let r=n+"@0.1.0";ge.modules.find(o=>o.id==r)||ge.modules.push({id:r,nodes:{}})}async processEditor(){await this.editorProcessor.process(this.toJSON())}static getModuleIndex(n){return ge.modules.findIndex(r=>r.id==n||n+"@0.1.0"==r.id)}async loadModule(n){let r=ge.getModuleIndex(n);this.saveCurModule(),ge.importing=!0,this.curModule=r,this.clear();let o=this.toJSON();o.nodes=ge.modules[r].nodes,await this.fromJSON(o),await this.processEditor(),ge.importing=!1}};let Se=ge;H(Se,"modules",[]),H(Se,"instance"),H(Se,"importing",!1);function ne(e){var t;return(t=Se.instance)==null?void 0:t.i18n(e)}async function Kl(e){e.innerHTML="",Se.getOrCreate(e)}const Ul={name:"ReteEditor",mounted(){const e=document.getElementById("rete");e&&Kl(e)}};const Jl={class:"rete",id:"rete"};function ql(e,t,n,r,o,i){return Q(),he("div",Jl)}const Gl=rt(Ul,[["render",ql]]),Yl={setup(){let e=ct(Se.getCurModule());const t=a=>{var u;(u=Se.instance)==null||u.loadModule(a),e.value=Se.getCurModule()};let n=()=>{var a;return(a=Se.getModuleIDs())==null?void 0:a.map(u=>({id:u.id,index:u.index,className:o(u.index)}))};const r=a=>{var u;(u=Se.instance)==null||u.addModule(i.value.toString()),i.value=""};let o=a=>{e.value==a},i=ct("");return{select:t,modules:n,newModuleName:i,change:a=>{i.value=a.target.value},addModule:r,selected:o,curModule:e}}};const Zl=e=>(Br("data-v-909180d3"),e=e(),Fr(),e),Xl={class:"selector-bar"},Ql=["on-submit","value"],ed=["onClick"],td=Zl(()=>be("b",null,"+",-1));function nd(e,t,n,r,o,i){return Q(),he("div",Xl,[be("div",null,[be("input",{type:"text","on-submit":r.addModule,value:r.newModuleName,onInput:t[0]||(t[0]=s=>r.change(s))},null,40,Ql)]),(Q(!0),he(ye,null,dt(r.modules(),s=>(Q(),he("button",{class:mt(r.curModule==s.index?"selected":""),onClick:a=>r.select(s.id)},ze(s.id),11,ed))),256)),r.newModuleName!=""?(Q(),he("button",{key:0,class:"addModule",onClick:t[1]||(t[1]=(...s)=>r.addModule&&r.addModule(...s))},[td,be("i",null,ze(r.newModuleName),1)])):Rt("",!0)])}const Uo=rt(Yl,[["render",nd],["__scopeId","data-v-909180d3"]]),rd={components:{ModuleSelector:Uo},setup(){const e=[{key:"modules",componentName:Uo}],t=()=>{var s;let i=n.value;if(i!="")return(s=e.find(a=>a.key==i))==null?void 0:s.componentName},n=ct("");return{map:e,selected:n,select:i=>{console.log("Select:",i),n.value!=i?n.value=i:n.value="";let s=document.getElementById("bar");s.innerHTML="",t()!=null&&er(t()).mount(s)},isSelected:i=>i==n.value?"selected":"notSelected",getSelctedComp:t}}};const od=e=>(Br("data-v-3b081c87"),e=e(),Fr(),e),id={class:"sidebar"},sd=["onClick"],ad=od(()=>be("div",{id:"bar"},null,-1));function ud(e,t,n,r,o,i){return Q(),he(ye,null,[be("div",id,[(Q(!0),he(ye,null,dt(r.map,s=>(Q(),he("button",{onClick:a=>r.select(s.key)},ze(s.key),9,sd))),256))]),ad],64)}const cd=rt(rd,[["render",ud],["__scopeId","data-v-3b081c87"]]),ld={class:"editor"},dd=It({__name:"App",setup(e){return(t,n)=>(Q(),he("div",ld,[Ee(cd),Ee(Gl)]))}});var fd={exports:{}};(function(e){var t=function(n){var r=Object.prototype,o=r.hasOwnProperty,i=Object.defineProperty||function(m,g,S){m[g]=S.value},s,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function h(m,g,S){return Object.defineProperty(m,g,{value:S,enumerable:!0,configurable:!0,writable:!0}),m[g]}try{h({},"")}catch{h=function(g,S,j){return g[S]=j}}function p(m,g,S,j){var A=g&&g.prototype instanceof N?g:N,re=Object.create(A.prototype),_e=new ee(j||[]);return i(re,"_invoke",{value:D(m,S,_e)}),re}n.wrap=p;function y(m,g,S){try{return{type:"normal",arg:m.call(g,S)}}catch(j){return{type:"throw",arg:j}}}var L="suspendedStart",M="suspendedYield",U="executing",V="completed",se={};function N(){}function W(){}function J(){}var Te={};h(Te,u,function(){return this});var ue=Object.getPrototypeOf,Ie=ue&&ue(ue(Z([])));Ie&&Ie!==r&&o.call(Ie,u)&&(Te=Ie);var He=J.prototype=N.prototype=Object.create(Te);W.prototype=J,i(He,"constructor",{value:J,configurable:!0}),i(J,"constructor",{value:W,configurable:!0}),W.displayName=h(J,l,"GeneratorFunction");function _(m){["next","throw","return"].forEach(function(g){h(m,g,function(S){return this._invoke(g,S)})})}n.isGeneratorFunction=function(m){var g=typeof m=="function"&&m.constructor;return g?g===W||(g.displayName||g.name)==="GeneratorFunction":!1},n.mark=function(m){return Object.setPrototypeOf?Object.setPrototypeOf(m,J):(m.__proto__=J,h(m,l,"GeneratorFunction")),m.prototype=Object.create(He),m},n.awrap=function(m){return{__await:m}};function b(m,g){function S(re,_e,ve,Ne){var Pe=y(m[re],m,_e);if(Pe.type==="throw")Ne(Pe.arg);else{var ot=Pe.arg,ht=ot.value;return ht&&typeof ht=="object"&&o.call(ht,"__await")?g.resolve(ht.__await).then(function(Ge){S("next",Ge,ve,Ne)},function(Ge){S("throw",Ge,ve,Ne)}):g.resolve(ht).then(function(Ge){ot.value=Ge,ve(ot)},function(Ge){return S("throw",Ge,ve,Ne)})}}var j;function A(re,_e){function ve(){return new g(function(Ne,Pe){S(re,_e,Ne,Pe)})}return j=j?j.then(ve,ve):ve()}i(this,"_invoke",{value:A})}_(b.prototype),h(b.prototype,c,function(){return this}),n.AsyncIterator=b,n.async=function(m,g,S,j,A){A===void 0&&(A=Promise);var re=new b(p(m,g,S,j),A);return n.isGeneratorFunction(g)?re:re.next().then(function(_e){return _e.done?_e.value:re.next()})};function D(m,g,S){var j=L;return function(re,_e){if(j===U)throw new Error("Generator is already running");if(j===V){if(re==="throw")throw _e;return Y()}for(S.method=re,S.arg=_e;;){var ve=S.delegate;if(ve){var Ne=z(ve,S);if(Ne){if(Ne===se)continue;return Ne}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(j===L)throw j=V,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);j=U;var Pe=y(m,g,S);if(Pe.type==="normal"){if(j=S.done?V:M,Pe.arg===se)continue;return{value:Pe.arg,done:S.done}}else Pe.type==="throw"&&(j=V,S.method="throw",S.arg=Pe.arg)}}}function z(m,g){var S=g.method,j=m.iterator[S];if(j===s)return g.delegate=null,S==="throw"&&m.iterator.return&&(g.method="return",g.arg=s,z(m,g),g.method==="throw")||S!=="return"&&(g.method="throw",g.arg=new TypeError("The iterator does not provide a '"+S+"' method")),se;var A=y(j,m.iterator,g.arg);if(A.type==="throw")return g.method="throw",g.arg=A.arg,g.delegate=null,se;var re=A.arg;if(!re)return g.method="throw",g.arg=new TypeError("iterator result is not an object"),g.delegate=null,se;if(re.done)g[m.resultName]=re.value,g.next=m.nextLoc,g.method!=="return"&&(g.method="next",g.arg=s);else return re;return g.delegate=null,se}_(He),h(He,l,"Generator"),h(He,u,function(){return this}),h(He,"toString",function(){return"[object Generator]"});function R(m){var g={tryLoc:m[0]};1 in m&&(g.catchLoc=m[1]),2 in m&&(g.finallyLoc=m[2],g.afterLoc=m[3]),this.tryEntries.push(g)}function me(m){var g=m.completion||{};g.type="normal",delete g.arg,m.completion=g}function ee(m){this.tryEntries=[{tryLoc:"root"}],m.forEach(R,this),this.reset(!0)}n.keys=function(m){var g=Object(m),S=[];for(var j in g)S.push(j);return S.reverse(),function A(){for(;S.length;){var re=S.pop();if(re in g)return A.value=re,A.done=!1,A}return A.done=!0,A}};function Z(m){if(m){var g=m[u];if(g)return g.call(m);if(typeof m.next=="function")return m;if(!isNaN(m.length)){var S=-1,j=function A(){for(;++S<m.length;)if(o.call(m,S))return A.value=m[S],A.done=!1,A;return A.value=s,A.done=!0,A};return j.next=j}}return{next:Y}}n.values=Z;function Y(){return{value:s,done:!0}}return ee.prototype={constructor:ee,reset:function(m){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(me),!m)for(var g in this)g.charAt(0)==="t"&&o.call(this,g)&&!isNaN(+g.slice(1))&&(this[g]=s)},stop:function(){this.done=!0;var m=this.tryEntries[0],g=m.completion;if(g.type==="throw")throw g.arg;return this.rval},dispatchException:function(m){if(this.done)throw m;var g=this;function S(Ne,Pe){return re.type="throw",re.arg=m,g.next=Ne,Pe&&(g.method="next",g.arg=s),!!Pe}for(var j=this.tryEntries.length-1;j>=0;--j){var A=this.tryEntries[j],re=A.completion;if(A.tryLoc==="root")return S("end");if(A.tryLoc<=this.prev){var _e=o.call(A,"catchLoc"),ve=o.call(A,"finallyLoc");if(_e&&ve){if(this.prev<A.catchLoc)return S(A.catchLoc,!0);if(this.prev<A.finallyLoc)return S(A.finallyLoc)}else if(_e){if(this.prev<A.catchLoc)return S(A.catchLoc,!0)}else if(ve){if(this.prev<A.finallyLoc)return S(A.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(m,g){for(var S=this.tryEntries.length-1;S>=0;--S){var j=this.tryEntries[S];if(j.tryLoc<=this.prev&&o.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var A=j;break}}A&&(m==="break"||m==="continue")&&A.tryLoc<=g&&g<=A.finallyLoc&&(A=null);var re=A?A.completion:{};return re.type=m,re.arg=g,A?(this.method="next",this.next=A.finallyLoc,se):this.complete(re)},complete:function(m,g){if(m.type==="throw")throw m.arg;return m.type==="break"||m.type==="continue"?this.next=m.arg:m.type==="return"?(this.rval=this.arg=m.arg,this.method="return",this.next="end"):m.type==="normal"&&g&&(this.next=g),se},finish:function(m){for(var g=this.tryEntries.length-1;g>=0;--g){var S=this.tryEntries[g];if(S.finallyLoc===m)return this.complete(S.completion,S.afterLoc),me(S),se}},catch:function(m){for(var g=this.tryEntries.length-1;g>=0;--g){var S=this.tryEntries[g];if(S.tryLoc===m){var j=S.completion;if(j.type==="throw"){var A=j.arg;me(S)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(m,g,S){return this.delegate={iterator:Z(m),resultName:g,nextLoc:S},this.method==="next"&&(this.arg=s),se}},n}(e.exports);try{regeneratorRuntime=t}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})(fd);er(dd).mount("#app");
