var ki=Object.defineProperty;var Ci=(e,n,t)=>n in e?ki(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var A=(e,n,t)=>(Ci(e,typeof n!="symbol"?n+"":n,t),t);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function xr(e,n){const t=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)t[r[o]]=!0;return n?o=>!!t[o.toLowerCase()]:o=>!!t[o]}function Kn(e){if(J(e)){const n={};for(let t=0;t<e.length;t++){const r=e[t],o=Oe(r)?Oi(r):Kn(r);if(o)for(const s in o)n[s]=o[s]}return n}else{if(Oe(e))return e;if(we(e))return e}}const Si=/;(?![^(]*\))/g,Ei=/:([^]+)/,Ii=/\/\*.*?\*\//gs;function Oi(e){const n={};return e.replace(Ii,"").split(Si).forEach(t=>{if(t){const r=t.split(Ei);r.length>1&&(n[r[0].trim()]=r[1].trim())}}),n}function Re(e){let n="";if(Oe(e))n=e;else if(J(e))for(let t=0;t<e.length;t++){const r=Re(e[t]);r&&(n+=r+" ")}else if(we(e))for(const t in e)e[t]&&(n+=t+" ");return n.trim()}const xi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Pi=xr(xi);function Zo(e){return!!e||e===""}function Ni(e,n){if(e.length!==n.length)return!1;let t=!0;for(let r=0;t&&r<e.length;r++)t=Un(e[r],n[r]);return t}function Un(e,n){if(e===n)return!0;let t=oo(e),r=oo(n);if(t||r)return t&&r?e.getTime()===n.getTime():!1;if(t=ln(e),r=ln(n),t||r)return e===n;if(t=J(e),r=J(n),t||r)return t&&r?Ni(e,n):!1;if(t=we(e),r=we(n),t||r){if(!t||!r)return!1;const o=Object.keys(e).length,s=Object.keys(n).length;if(o!==s)return!1;for(const i in e){const a=e.hasOwnProperty(i),u=n.hasOwnProperty(i);if(a&&!u||!a&&u||!Un(e[i],n[i]))return!1}}return String(e)===String(n)}function $i(e,n){return e.findIndex(t=>Un(t,n))}const Fe=e=>Oe(e)?e:e==null?"":J(e)||we(e)&&(e.toString===es||!Q(e.toString))?JSON.stringify(e,Xo,2):String(e),Xo=(e,n)=>n&&n.__v_isRef?Xo(e,n.value):Kt(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((t,[r,o])=>(t[`${r} =>`]=o,t),{})}:qn(n)?{[`Set(${n.size})`]:[...n.values()]}:we(n)&&!J(n)&&!ts(n)?String(n):n,be={},zt=[],at=()=>{},Ti=()=>!1,Ai=/^on[^a-z]/,Jn=e=>Ai.test(e),Pr=e=>e.startsWith("onUpdate:"),He=Object.assign,Nr=(e,n)=>{const t=e.indexOf(n);t>-1&&e.splice(t,1)},Mi=Object.prototype.hasOwnProperty,ce=(e,n)=>Mi.call(e,n),J=Array.isArray,Kt=e=>wn(e)==="[object Map]",qn=e=>wn(e)==="[object Set]",oo=e=>wn(e)==="[object Date]",Q=e=>typeof e=="function",Oe=e=>typeof e=="string",ln=e=>typeof e=="symbol",we=e=>e!==null&&typeof e=="object",Qo=e=>we(e)&&Q(e.then)&&Q(e.catch),es=Object.prototype.toString,wn=e=>es.call(e),Di=e=>wn(e).slice(8,-1),ts=e=>wn(e)==="[object Object]",$r=e=>Oe(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Nn=xr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Gn=e=>{const n=Object.create(null);return t=>n[t]||(n[t]=e(t))},Li=/-(\w)/g,vt=Gn(e=>e.replace(Li,(n,t)=>t?t.toUpperCase():"")),Ri=/\B([A-Z])/g,Qt=Gn(e=>e.replace(Ri,"-$1").toLowerCase()),Yn=Gn(e=>e.charAt(0).toUpperCase()+e.slice(1)),ar=Gn(e=>e?`on${Yn(e)}`:""),dn=(e,n)=>!Object.is(e,n),$n=(e,n)=>{for(let t=0;t<e.length;t++)e[t](n)},Ln=(e,n,t)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value:t})},fn=e=>{const n=parseFloat(e);return isNaN(n)?e:n};let so;const ji=()=>so||(so=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let pt;class Vi{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=pt,!n&&pt&&(this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}run(n){if(this.active){const t=pt;try{return pt=this,n()}finally{pt=t}}}on(){pt=this}off(){pt=this.parent}stop(n){if(this.active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!n){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this.active=!1}}}function Fi(e,n=pt){n&&n.active&&n.effects.push(e)}const Tr=e=>{const n=new Set(e);return n.w=0,n.n=0,n},ns=e=>(e.w&Ot)>0,rs=e=>(e.n&Ot)>0,Bi=({deps:e})=>{if(e.length)for(let n=0;n<e.length;n++)e[n].w|=Ot},Hi=e=>{const{deps:n}=e;if(n.length){let t=0;for(let r=0;r<n.length;r++){const o=n[r];ns(o)&&!rs(o)?o.delete(e):n[t++]=o,o.w&=~Ot,o.n&=~Ot}n.length=t}},hr=new WeakMap;let an=0,Ot=1;const mr=30;let st;const Vt=Symbol(""),vr=Symbol("");class Ar{constructor(n,t=null,r){this.fn=n,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,Fi(this,r)}run(){if(!this.active)return this.fn();let n=st,t=St;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=st,st=this,St=!0,Ot=1<<++an,an<=mr?Bi(this):io(this),this.fn()}finally{an<=mr&&Hi(this),Ot=1<<--an,st=this.parent,St=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){st===this?this.deferStop=!0:this.active&&(io(this),this.onStop&&this.onStop(),this.active=!1)}}function io(e){const{deps:n}=e;if(n.length){for(let t=0;t<n.length;t++)n[t].delete(e);n.length=0}}let St=!0;const os=[];function en(){os.push(St),St=!1}function tn(){const e=os.pop();St=e===void 0?!0:e}function Ye(e,n,t){if(St&&st){let r=hr.get(e);r||hr.set(e,r=new Map);let o=r.get(t);o||r.set(t,o=Tr()),ss(o)}}function ss(e,n){let t=!1;an<=mr?rs(e)||(e.n|=Ot,t=!ns(e)):t=!e.has(st),t&&(e.add(st),st.deps.push(e))}function bt(e,n,t,r,o,s){const i=hr.get(e);if(!i)return;let a=[];if(n==="clear")a=[...i.values()];else if(t==="length"&&J(e)){const u=fn(r);i.forEach((c,l)=>{(l==="length"||l>=u)&&a.push(c)})}else switch(t!==void 0&&a.push(i.get(t)),n){case"add":J(e)?$r(t)&&a.push(i.get("length")):(a.push(i.get(Vt)),Kt(e)&&a.push(i.get(vr)));break;case"delete":J(e)||(a.push(i.get(Vt)),Kt(e)&&a.push(i.get(vr)));break;case"set":Kt(e)&&a.push(i.get(Vt));break}if(a.length===1)a[0]&&gr(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);gr(Tr(u))}}function gr(e,n){const t=J(e)?e:[...e];for(const r of t)r.computed&&ao(r);for(const r of t)r.computed||ao(r)}function ao(e,n){(e!==st||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Wi=xr("__proto__,__v_isRef,__isVue"),is=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ln)),zi=Mr(),Ki=Mr(!1,!0),Ui=Mr(!0),uo=Ji();function Ji(){const e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...t){const r=de(this);for(let s=0,i=this.length;s<i;s++)Ye(r,"get",s+"");const o=r[n](...t);return o===-1||o===!1?r[n](...t.map(de)):o}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...t){en();const r=de(this)[n].apply(this,t);return tn(),r}}),e}function Mr(e=!1,n=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return n;if(o==="__v_raw"&&s===(e?n?ca:ds:n?ls:cs).get(r))return r;const i=J(r);if(!e&&i&&ce(uo,o))return Reflect.get(uo,o,s);const a=Reflect.get(r,o,s);return(ln(o)?is.has(o):Wi(o))||(e||Ye(r,"get",o),n)?a:Le(a)?i&&$r(o)?a:a.value:we(a)?e?fs(a):Rr(a):a}}const qi=as(),Gi=as(!0);function as(e=!1){return function(t,r,o,s){let i=t[r];if(Gt(i)&&Le(i)&&!Le(o))return!1;if(!e&&(!Rn(o)&&!Gt(o)&&(i=de(i),o=de(o)),!J(t)&&Le(i)&&!Le(o)))return i.value=o,!0;const a=J(t)&&$r(r)?Number(r)<t.length:ce(t,r),u=Reflect.set(t,r,o,s);return t===de(s)&&(a?dn(o,i)&&bt(t,"set",r,o):bt(t,"add",r,o)),u}}function Yi(e,n){const t=ce(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&t&&bt(e,"delete",n,void 0),r}function Zi(e,n){const t=Reflect.has(e,n);return(!ln(n)||!is.has(n))&&Ye(e,"has",n),t}function Xi(e){return Ye(e,"iterate",J(e)?"length":Vt),Reflect.ownKeys(e)}const us={get:zi,set:qi,deleteProperty:Yi,has:Zi,ownKeys:Xi},Qi={get:Ui,set(e,n){return!0},deleteProperty(e,n){return!0}},ea=He({},us,{get:Ki,set:Gi}),Dr=e=>e,Zn=e=>Reflect.getPrototypeOf(e);function Cn(e,n,t=!1,r=!1){e=e.__v_raw;const o=de(e),s=de(n);t||(n!==s&&Ye(o,"get",n),Ye(o,"get",s));const{has:i}=Zn(o),a=r?Dr:t?Vr:pn;if(i.call(o,n))return a(e.get(n));if(i.call(o,s))return a(e.get(s));e!==o&&e.get(n)}function Sn(e,n=!1){const t=this.__v_raw,r=de(t),o=de(e);return n||(e!==o&&Ye(r,"has",e),Ye(r,"has",o)),e===o?t.has(e):t.has(e)||t.has(o)}function En(e,n=!1){return e=e.__v_raw,!n&&Ye(de(e),"iterate",Vt),Reflect.get(e,"size",e)}function co(e){e=de(e);const n=de(this);return Zn(n).has.call(n,e)||(n.add(e),bt(n,"add",e,e)),this}function lo(e,n){n=de(n);const t=de(this),{has:r,get:o}=Zn(t);let s=r.call(t,e);s||(e=de(e),s=r.call(t,e));const i=o.call(t,e);return t.set(e,n),s?dn(n,i)&&bt(t,"set",e,n):bt(t,"add",e,n),this}function fo(e){const n=de(this),{has:t,get:r}=Zn(n);let o=t.call(n,e);o||(e=de(e),o=t.call(n,e)),r&&r.call(n,e);const s=n.delete(e);return o&&bt(n,"delete",e,void 0),s}function po(){const e=de(this),n=e.size!==0,t=e.clear();return n&&bt(e,"clear",void 0,void 0),t}function In(e,n){return function(r,o){const s=this,i=s.__v_raw,a=de(i),u=n?Dr:e?Vr:pn;return!e&&Ye(a,"iterate",Vt),i.forEach((c,l)=>r.call(o,u(c),u(l),s))}}function On(e,n,t){return function(...r){const o=this.__v_raw,s=de(o),i=Kt(s),a=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,c=o[e](...r),l=t?Dr:n?Vr:pn;return!n&&Ye(s,"iterate",u?vr:Vt),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[l(f[0]),l(f[1])]:l(f),done:h}},[Symbol.iterator](){return this}}}}function kt(e){return function(...n){return e==="delete"?!1:this}}function ta(){const e={get(s){return Cn(this,s)},get size(){return En(this)},has:Sn,add:co,set:lo,delete:fo,clear:po,forEach:In(!1,!1)},n={get(s){return Cn(this,s,!1,!0)},get size(){return En(this)},has:Sn,add:co,set:lo,delete:fo,clear:po,forEach:In(!1,!0)},t={get(s){return Cn(this,s,!0)},get size(){return En(this,!0)},has(s){return Sn.call(this,s,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:In(!0,!1)},r={get(s){return Cn(this,s,!0,!0)},get size(){return En(this,!0)},has(s){return Sn.call(this,s,!0)},add:kt("add"),set:kt("set"),delete:kt("delete"),clear:kt("clear"),forEach:In(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=On(s,!1,!1),t[s]=On(s,!0,!1),n[s]=On(s,!1,!0),r[s]=On(s,!0,!0)}),[e,t,n,r]}const[na,ra,oa,sa]=ta();function Lr(e,n){const t=n?e?sa:oa:e?ra:na;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(ce(t,o)&&o in r?t:r,o,s)}const ia={get:Lr(!1,!1)},aa={get:Lr(!1,!0)},ua={get:Lr(!0,!1)},cs=new WeakMap,ls=new WeakMap,ds=new WeakMap,ca=new WeakMap;function la(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function da(e){return e.__v_skip||!Object.isExtensible(e)?0:la(Di(e))}function Rr(e){return Gt(e)?e:jr(e,!1,us,ia,cs)}function fa(e){return jr(e,!1,ea,aa,ls)}function fs(e){return jr(e,!0,Qi,ua,ds)}function jr(e,n,t,r,o){if(!we(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=da(e);if(i===0)return e;const a=new Proxy(e,i===2?r:t);return o.set(e,a),a}function Ut(e){return Gt(e)?Ut(e.__v_raw):!!(e&&e.__v_isReactive)}function Gt(e){return!!(e&&e.__v_isReadonly)}function Rn(e){return!!(e&&e.__v_isShallow)}function ps(e){return Ut(e)||Gt(e)}function de(e){const n=e&&e.__v_raw;return n?de(n):e}function hs(e){return Ln(e,"__v_skip",!0),e}const pn=e=>we(e)?Rr(e):e,Vr=e=>we(e)?fs(e):e;function ms(e){St&&st&&(e=de(e),ss(e.dep||(e.dep=Tr())))}function vs(e,n){e=de(e),e.dep&&gr(e.dep)}function Le(e){return!!(e&&e.__v_isRef===!0)}function Me(e){return pa(e,!1)}function pa(e,n){return Le(e)?e:new ha(e,n)}class ha{constructor(n,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?n:de(n),this._value=t?n:pn(n)}get value(){return ms(this),this._value}set value(n){const t=this.__v_isShallow||Rn(n)||Gt(n);n=t?n:de(n),dn(n,this._rawValue)&&(this._rawValue=n,this._value=t?n:pn(n),vs(this))}}function ma(e){return Le(e)?e.value:e}const va={get:(e,n,t)=>ma(Reflect.get(e,n,t)),set:(e,n,t,r)=>{const o=e[n];return Le(o)&&!Le(t)?(o.value=t,!0):Reflect.set(e,n,t,r)}};function gs(e){return Ut(e)?e:new Proxy(e,va)}var ys;class ga{constructor(n,t,r,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[ys]=!1,this._dirty=!0,this.effect=new Ar(n,()=>{this._dirty||(this._dirty=!0,vs(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const n=de(this);return ms(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}ys="__v_isReadonly";function ya(e,n,t=!1){let r,o;const s=Q(e);return s?(r=e,o=at):(r=e.get,o=e.set),new ga(r,o,s||!o,t)}function Et(e,n,t,r){let o;try{o=r?e(...r):e()}catch(s){Xn(s,n,t)}return o}function ut(e,n,t,r){if(Q(e)){const s=Et(e,n,t,r);return s&&Qo(s)&&s.catch(i=>{Xn(i,n,t)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(ut(e[s],n,t,r));return o}function Xn(e,n,t,r=!0){const o=n?n.vnode:null;if(n){let s=n.parent;const i=n.proxy,a=t;for(;s;){const c=s.ec;if(c){for(let l=0;l<c.length;l++)if(c[l](e,i,a)===!1)return}s=s.parent}const u=n.appContext.config.errorHandler;if(u){Et(u,null,10,[e,i,a]);return}}ba(e,t,o,r)}function ba(e,n,t,r=!0){console.error(e)}let hn=!1,yr=!1;const De=[];let mt=0;const Jt=[];let yt=null,Mt=0;const bs=Promise.resolve();let Fr=null;function ws(e){const n=Fr||bs;return e?n.then(this?e.bind(this):e):n}function wa(e){let n=mt+1,t=De.length;for(;n<t;){const r=n+t>>>1;mn(De[r])<e?n=r+1:t=r}return n}function Br(e){(!De.length||!De.includes(e,hn&&e.allowRecurse?mt+1:mt))&&(e.id==null?De.push(e):De.splice(wa(e.id),0,e),_s())}function _s(){!hn&&!yr&&(yr=!0,Fr=bs.then(Cs))}function _a(e){const n=De.indexOf(e);n>mt&&De.splice(n,1)}function ka(e){J(e)?Jt.push(...e):(!yt||!yt.includes(e,e.allowRecurse?Mt+1:Mt))&&Jt.push(e),_s()}function ho(e,n=hn?mt+1:0){for(;n<De.length;n++){const t=De[n];t&&t.pre&&(De.splice(n,1),n--,t())}}function ks(e){if(Jt.length){const n=[...new Set(Jt)];if(Jt.length=0,yt){yt.push(...n);return}for(yt=n,yt.sort((t,r)=>mn(t)-mn(r)),Mt=0;Mt<yt.length;Mt++)yt[Mt]();yt=null,Mt=0}}const mn=e=>e.id==null?1/0:e.id,Ca=(e,n)=>{const t=mn(e)-mn(n);if(t===0){if(e.pre&&!n.pre)return-1;if(n.pre&&!e.pre)return 1}return t};function Cs(e){yr=!1,hn=!0,De.sort(Ca);const n=at;try{for(mt=0;mt<De.length;mt++){const t=De[mt];t&&t.active!==!1&&Et(t,null,14)}}finally{mt=0,De.length=0,ks(),hn=!1,Fr=null,(De.length||Jt.length)&&Cs()}}function Sa(e,n,...t){if(e.isUnmounted)return;const r=e.vnode.props||be;let o=t;const s=n.startsWith("update:"),i=s&&n.slice(7);if(i&&i in r){const l=`${i==="modelValue"?"model":i}Modifiers`,{number:f,trim:h}=r[l]||be;h&&(o=t.map(m=>Oe(m)?m.trim():m)),f&&(o=t.map(fn))}let a,u=r[a=ar(n)]||r[a=ar(vt(n))];!u&&s&&(u=r[a=ar(Qt(n))]),u&&ut(u,e,6,o);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,ut(c,e,6,o)}}function Ss(e,n,t=!1){const r=n.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},a=!1;if(!Q(e)){const u=c=>{const l=Ss(c,n,!0);l&&(a=!0,He(i,l))};!t&&n.mixins.length&&n.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!s&&!a?(we(e)&&r.set(e,null),null):(J(s)?s.forEach(u=>i[u]=null):He(i,s),we(e)&&r.set(e,i),i)}function Qn(e,n){return!e||!Jn(n)?!1:(n=n.slice(2).replace(/Once$/,""),ce(e,n[0].toLowerCase()+n.slice(1))||ce(e,Qt(n))||ce(e,n))}let tt=null,er=null;function jn(e){const n=tt;return tt=e,er=e&&e.type.__scopeId||null,n}function Es(e){er=e}function Is(){er=null}const Os=e=>xs;function xs(e,n=tt,t){if(!n||e._n)return e;const r=(...o)=>{r._d&&Co(-1);const s=jn(n);let i;try{i=e(...o)}finally{jn(s),r._d&&Co(1)}return i};return r._n=!0,r._c=!0,r._d=!0,r}function ur(e){const{type:n,vnode:t,proxy:r,withProxy:o,props:s,propsOptions:[i],slots:a,attrs:u,emit:c,render:l,renderCache:f,data:h,setupState:m,ctx:P,inheritAttrs:I}=e;let D,$;const q=jn(e);try{if(t.shapeFlag&4){const K=o||r;D=ht(l.call(K,K,f,s,m,h,P)),$=u}else{const K=n;D=ht(K.length>1?K(s,{attrs:u,slots:a,emit:c}):K(s,null)),$=n.props?u:Ea(u)}}catch(K){cn.length=0,Xn(K,e,1),D=me(Bt)}let T=D;if($&&I!==!1){const K=Object.keys($),{shapeFlag:X}=T;K.length&&X&7&&(i&&K.some(Pr)&&($=Ia($,i)),T=Yt(T,$))}return t.dirs&&(T=Yt(T),T.dirs=T.dirs?T.dirs.concat(t.dirs):t.dirs),t.transition&&(T.transition=t.transition),D=T,jn(q),D}const Ea=e=>{let n;for(const t in e)(t==="class"||t==="style"||Jn(t))&&((n||(n={}))[t]=e[t]);return n},Ia=(e,n)=>{const t={};for(const r in e)(!Pr(r)||!(r.slice(9)in n))&&(t[r]=e[r]);return t};function Oa(e,n,t){const{props:r,children:o,component:s}=e,{props:i,children:a,patchFlag:u}=n,c=s.emitsOptions;if(n.dirs||n.transition)return!0;if(t&&u>=0){if(u&1024)return!0;if(u&16)return r?mo(r,i,c):!!i;if(u&8){const l=n.dynamicProps;for(let f=0;f<l.length;f++){const h=l[f];if(i[h]!==r[h]&&!Qn(c,h))return!0}}}else return(o||a)&&(!a||!a.$stable)?!0:r===i?!1:r?i?mo(r,i,c):!0:!!i;return!1}function mo(e,n,t){const r=Object.keys(n);if(r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(n[s]!==e[s]&&!Qn(t,s))return!0}return!1}function xa({vnode:e,parent:n},t){for(;n&&n.subTree===e;)(e=n.vnode).el=t,n=n.parent}const Pa=e=>e.__isSuspense;function Na(e,n){n&&n.pendingBranch?J(e)?n.effects.push(...e):n.effects.push(e):ka(e)}function $a(e,n){if(Te){let t=Te.provides;const r=Te.parent&&Te.parent.provides;r===t&&(t=Te.provides=Object.create(r)),t[e]=n}}function Tn(e,n,t=!1){const r=Te||tt;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return t&&Q(n)?n.call(r.proxy):n}}const xn={};function cr(e,n,t){return Ps(e,n,t)}function Ps(e,n,{immediate:t,deep:r,flush:o,onTrack:s,onTrigger:i}=be){const a=Te;let u,c=!1,l=!1;if(Le(e)?(u=()=>e.value,c=Rn(e)):Ut(e)?(u=()=>e,r=!0):J(e)?(l=!0,c=e.some(T=>Ut(T)||Rn(T)),u=()=>e.map(T=>{if(Le(T))return T.value;if(Ut(T))return jt(T);if(Q(T))return Et(T,a,2)})):Q(e)?n?u=()=>Et(e,a,2):u=()=>{if(!(a&&a.isUnmounted))return f&&f(),ut(e,a,3,[h])}:u=at,n&&r){const T=u;u=()=>jt(T())}let f,h=T=>{f=$.onStop=()=>{Et(T,a,4)}},m;if(gn)if(h=at,n?t&&ut(n,a,3,[u(),l?[]:void 0,h]):u(),o==="sync"){const T=Cu();m=T.__watcherHandles||(T.__watcherHandles=[])}else return at;let P=l?new Array(e.length).fill(xn):xn;const I=()=>{if($.active)if(n){const T=$.run();(r||c||(l?T.some((K,X)=>dn(K,P[X])):dn(T,P)))&&(f&&f(),ut(n,a,3,[T,P===xn?void 0:l&&P[0]===xn?[]:P,h]),P=T)}else $.run()};I.allowRecurse=!!n;let D;o==="sync"?D=I:o==="post"?D=()=>We(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),D=()=>Br(I));const $=new Ar(u,D);n?t?I():P=$.run():o==="post"?We($.run.bind($),a&&a.suspense):$.run();const q=()=>{$.stop(),a&&a.scope&&Nr(a.scope.effects,$)};return m&&m.push(q),q}function Ta(e,n,t){const r=this.proxy,o=Oe(e)?e.includes(".")?Ns(r,e):()=>r[e]:e.bind(r,r);let s;Q(n)?s=n:(s=n.handler,t=n);const i=Te;Zt(this);const a=Ps(o,s.bind(r),t);return i?Zt(i):Ft(),a}function Ns(e,n){const t=n.split(".");return()=>{let r=e;for(let o=0;o<t.length&&r;o++)r=r[t[o]];return r}}function jt(e,n){if(!we(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),Le(e))jt(e.value,n);else if(J(e))for(let t=0;t<e.length;t++)jt(e[t],n);else if(qn(e)||Kt(e))e.forEach(t=>{jt(t,n)});else if(ts(e))for(const t in e)jt(e[t],n);return e}function Ze(e){return Q(e)?{setup:e,name:e.name}:e}const An=e=>!!e.type.__asyncLoader,$s=e=>e.type.__isKeepAlive;function Aa(e,n){Ts(e,"a",n)}function Ma(e,n){Ts(e,"da",n)}function Ts(e,n,t=Te){const r=e.__wdc||(e.__wdc=()=>{let o=t;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(tr(n,r,t),t){let o=t.parent;for(;o&&o.parent;)$s(o.parent.vnode)&&Da(r,n,t,o),o=o.parent}}function Da(e,n,t,r){const o=tr(n,e,r,!0);Ds(()=>{Nr(r[n],o)},t)}function tr(e,n,t=Te,r=!1){if(t){const o=t[e]||(t[e]=[]),s=n.__weh||(n.__weh=(...i)=>{if(t.isUnmounted)return;en(),Zt(t);const a=ut(n,t,e,i);return Ft(),tn(),a});return r?o.unshift(s):o.push(s),s}}const _t=e=>(n,t=Te)=>(!gn||e==="sp")&&tr(e,(...r)=>n(...r),t),La=_t("bm"),As=_t("m"),Ra=_t("bu"),Ms=_t("u"),ja=_t("bum"),Ds=_t("um"),Va=_t("sp"),Fa=_t("rtg"),Ba=_t("rtc");function Ha(e,n=Te){tr("ec",e,n)}function et(e,n){const t=tt;if(t===null)return e;const r=or(t)||t.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<n.length;s++){let[i,a,u,c=be]=n[s];i&&(Q(i)&&(i={mounted:i,updated:i}),i.deep&&jt(a),o.push({dir:i,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c}))}return e}function $t(e,n,t,r){const o=e.dirs,s=n&&n.dirs;for(let i=0;i<o.length;i++){const a=o[i];s&&(a.oldValue=s[i].value);let u=a.dir[r];u&&(en(),ut(u,t,8,[e.el,a,e,n]),tn())}}const Ls="components",Wa="directives";function wt(e,n){return Rs(Ls,e,!0,n)||e}const za=Symbol();function Vn(e){return Rs(Wa,e)}function Rs(e,n,t=!0,r=!1){const o=tt||Te;if(o){const s=o.type;if(e===Ls){const a=wu(s,!1);if(a&&(a===n||a===vt(n)||a===Yn(vt(n))))return s}const i=vo(o[e]||s[e],n)||vo(o.appContext[e],n);return!i&&r?s:i}}function vo(e,n){return e&&(e[n]||e[vt(n)]||e[Yn(vt(n))])}function Be(e,n,t,r){let o;const s=t&&t[r];if(J(e)||Oe(e)){o=new Array(e.length);for(let i=0,a=e.length;i<a;i++)o[i]=n(e[i],i,void 0,s&&s[i])}else if(typeof e=="number"){o=new Array(e);for(let i=0;i<e;i++)o[i]=n(i+1,i,void 0,s&&s[i])}else if(we(e))if(e[Symbol.iterator])o=Array.from(e,(i,a)=>n(i,a,void 0,s&&s[a]));else{const i=Object.keys(e);o=new Array(i.length);for(let a=0,u=i.length;a<u;a++){const c=i[a];o[a]=n(e[c],c,a,s&&s[a])}}else o=[];return t&&(t[r]=o),o}const br=e=>e?qs(e)?or(e)||e.proxy:br(e.parent):null,un=He(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>br(e.parent),$root:e=>br(e.root),$emit:e=>e.emit,$options:e=>Hr(e),$forceUpdate:e=>e.f||(e.f=()=>Br(e.update)),$nextTick:e=>e.n||(e.n=ws.bind(e.proxy)),$watch:e=>Ta.bind(e)}),lr=(e,n)=>e!==be&&!e.__isScriptSetup&&ce(e,n),Ka={get({_:e},n){const{ctx:t,setupState:r,data:o,props:s,accessCache:i,type:a,appContext:u}=e;let c;if(n[0]!=="$"){const m=i[n];if(m!==void 0)switch(m){case 1:return r[n];case 2:return o[n];case 4:return t[n];case 3:return s[n]}else{if(lr(r,n))return i[n]=1,r[n];if(o!==be&&ce(o,n))return i[n]=2,o[n];if((c=e.propsOptions[0])&&ce(c,n))return i[n]=3,s[n];if(t!==be&&ce(t,n))return i[n]=4,t[n];wr&&(i[n]=0)}}const l=un[n];let f,h;if(l)return n==="$attrs"&&Ye(e,"get",n),l(e);if((f=a.__cssModules)&&(f=f[n]))return f;if(t!==be&&ce(t,n))return i[n]=4,t[n];if(h=u.config.globalProperties,ce(h,n))return h[n]},set({_:e},n,t){const{data:r,setupState:o,ctx:s}=e;return lr(o,n)?(o[n]=t,!0):r!==be&&ce(r,n)?(r[n]=t,!0):ce(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(s[n]=t,!0)},has({_:{data:e,setupState:n,accessCache:t,ctx:r,appContext:o,propsOptions:s}},i){let a;return!!t[i]||e!==be&&ce(e,i)||lr(n,i)||(a=s[0])&&ce(a,i)||ce(r,i)||ce(un,i)||ce(o.config.globalProperties,i)},defineProperty(e,n,t){return t.get!=null?e._.accessCache[n]=0:ce(t,"value")&&this.set(e,n,t.value,null),Reflect.defineProperty(e,n,t)}};let wr=!0;function Ua(e){const n=Hr(e),t=e.proxy,r=e.ctx;wr=!1,n.beforeCreate&&go(n.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:a,provide:u,inject:c,created:l,beforeMount:f,mounted:h,beforeUpdate:m,updated:P,activated:I,deactivated:D,beforeDestroy:$,beforeUnmount:q,destroyed:T,unmounted:K,render:X,renderTracked:Ae,renderTriggered:pe,errorCaptured:xe,serverPrefetch:Ue,expose:k,inheritAttrs:b,components:B,directives:G,filters:F}=n;if(c&&Ja(c,r,null,e.appContext.config.unwrapInjectedRef),i)for(const oe in i){const ne=i[oe];Q(ne)&&(r[oe]=ne.bind(t))}if(o){const oe=o.call(t,t);we(oe)&&(e.data=Rr(oe))}if(wr=!0,s)for(const oe in s){const ne=s[oe],v=Q(ne)?ne.bind(t,t):Q(ne.get)?ne.get.bind(t,t):at,y=!Q(ne)&&Q(ne.set)?ne.set.bind(t):at,S=xt({get:v,set:y});Object.defineProperty(r,oe,{enumerable:!0,configurable:!0,get:()=>S.value,set:H=>S.value=H})}if(a)for(const oe in a)js(a[oe],r,t,oe);if(u){const oe=Q(u)?u.call(t):u;Reflect.ownKeys(oe).forEach(ne=>{$a(ne,oe[ne])})}l&&go(l,e,"c");function ie(oe,ne){J(ne)?ne.forEach(v=>oe(v.bind(t))):ne&&oe(ne.bind(t))}if(ie(La,f),ie(As,h),ie(Ra,m),ie(Ms,P),ie(Aa,I),ie(Ma,D),ie(Ha,xe),ie(Ba,Ae),ie(Fa,pe),ie(ja,q),ie(Ds,K),ie(Va,Ue),J(k))if(k.length){const oe=e.exposed||(e.exposed={});k.forEach(ne=>{Object.defineProperty(oe,ne,{get:()=>t[ne],set:v=>t[ne]=v})})}else e.exposed||(e.exposed={});X&&e.render===at&&(e.render=X),b!=null&&(e.inheritAttrs=b),B&&(e.components=B),G&&(e.directives=G)}function Ja(e,n,t=at,r=!1){J(e)&&(e=_r(e));for(const o in e){const s=e[o];let i;we(s)?"default"in s?i=Tn(s.from||o,s.default,!0):i=Tn(s.from||o):i=Tn(s),Le(i)&&r?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:a=>i.value=a}):n[o]=i}}function go(e,n,t){ut(J(e)?e.map(r=>r.bind(n.proxy)):e.bind(n.proxy),n,t)}function js(e,n,t,r){const o=r.includes(".")?Ns(t,r):()=>t[r];if(Oe(e)){const s=n[e];Q(s)&&cr(o,s)}else if(Q(e))cr(o,e.bind(t));else if(we(e))if(J(e))e.forEach(s=>js(s,n,t,r));else{const s=Q(e.handler)?e.handler.bind(t):n[e.handler];Q(s)&&cr(o,s,e)}}function Hr(e){const n=e.type,{mixins:t,extends:r}=n,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,a=s.get(n);let u;return a?u=a:!o.length&&!t&&!r?u=n:(u={},o.length&&o.forEach(c=>Fn(u,c,i,!0)),Fn(u,n,i)),we(n)&&s.set(n,u),u}function Fn(e,n,t,r=!1){const{mixins:o,extends:s}=n;s&&Fn(e,s,t,!0),o&&o.forEach(i=>Fn(e,i,t,!0));for(const i in n)if(!(r&&i==="expose")){const a=qa[i]||t&&t[i];e[i]=a?a(e[i],n[i]):n[i]}return e}const qa={data:yo,props:At,emits:At,methods:At,computed:At,beforeCreate:Ve,created:Ve,beforeMount:Ve,mounted:Ve,beforeUpdate:Ve,updated:Ve,beforeDestroy:Ve,beforeUnmount:Ve,destroyed:Ve,unmounted:Ve,activated:Ve,deactivated:Ve,errorCaptured:Ve,serverPrefetch:Ve,components:At,directives:At,watch:Ya,provide:yo,inject:Ga};function yo(e,n){return n?e?function(){return He(Q(e)?e.call(this,this):e,Q(n)?n.call(this,this):n)}:n:e}function Ga(e,n){return At(_r(e),_r(n))}function _r(e){if(J(e)){const n={};for(let t=0;t<e.length;t++)n[e[t]]=e[t];return n}return e}function Ve(e,n){return e?[...new Set([].concat(e,n))]:n}function At(e,n){return e?He(He(Object.create(null),e),n):n}function Ya(e,n){if(!e)return n;if(!n)return e;const t=He(Object.create(null),e);for(const r in n)t[r]=Ve(e[r],n[r]);return t}function Za(e,n,t,r=!1){const o={},s={};Ln(s,rr,1),e.propsDefaults=Object.create(null),Vs(e,n,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);t?e.props=r?o:fa(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function Xa(e,n,t,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,a=de(o),[u]=e.propsOptions;let c=!1;if((r||i>0)&&!(i&16)){if(i&8){const l=e.vnode.dynamicProps;for(let f=0;f<l.length;f++){let h=l[f];if(Qn(e.emitsOptions,h))continue;const m=n[h];if(u)if(ce(s,h))m!==s[h]&&(s[h]=m,c=!0);else{const P=vt(h);o[P]=kr(u,a,P,m,e,!1)}else m!==s[h]&&(s[h]=m,c=!0)}}}else{Vs(e,n,o,s)&&(c=!0);let l;for(const f in a)(!n||!ce(n,f)&&((l=Qt(f))===f||!ce(n,l)))&&(u?t&&(t[f]!==void 0||t[l]!==void 0)&&(o[f]=kr(u,a,f,void 0,e,!0)):delete o[f]);if(s!==a)for(const f in s)(!n||!ce(n,f))&&(delete s[f],c=!0)}c&&bt(e,"set","$attrs")}function Vs(e,n,t,r){const[o,s]=e.propsOptions;let i=!1,a;if(n)for(let u in n){if(Nn(u))continue;const c=n[u];let l;o&&ce(o,l=vt(u))?!s||!s.includes(l)?t[l]=c:(a||(a={}))[l]=c:Qn(e.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,i=!0)}if(s){const u=de(t),c=a||be;for(let l=0;l<s.length;l++){const f=s[l];t[f]=kr(o,u,f,c[f],e,!ce(c,f))}}return i}function kr(e,n,t,r,o,s){const i=e[t];if(i!=null){const a=ce(i,"default");if(a&&r===void 0){const u=i.default;if(i.type!==Function&&Q(u)){const{propsDefaults:c}=o;t in c?r=c[t]:(Zt(o),r=c[t]=u.call(null,n),Ft())}else r=u}i[0]&&(s&&!a?r=!1:i[1]&&(r===""||r===Qt(t))&&(r=!0))}return r}function Fs(e,n,t=!1){const r=n.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},a=[];let u=!1;if(!Q(e)){const l=f=>{u=!0;const[h,m]=Fs(f,n,!0);He(i,h),m&&a.push(...m)};!t&&n.mixins.length&&n.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!s&&!u)return we(e)&&r.set(e,zt),zt;if(J(s))for(let l=0;l<s.length;l++){const f=vt(s[l]);bo(f)&&(i[f]=be)}else if(s)for(const l in s){const f=vt(l);if(bo(f)){const h=s[l],m=i[f]=J(h)||Q(h)?{type:h}:Object.assign({},h);if(m){const P=ko(Boolean,m.type),I=ko(String,m.type);m[0]=P>-1,m[1]=I<0||P<I,(P>-1||ce(m,"default"))&&a.push(f)}}}const c=[i,a];return we(e)&&r.set(e,c),c}function bo(e){return e[0]!=="$"}function wo(e){const n=e&&e.toString().match(/^\s*function (\w+)/);return n?n[1]:e===null?"null":""}function _o(e,n){return wo(e)===wo(n)}function ko(e,n){return J(n)?n.findIndex(t=>_o(t,e)):Q(n)&&_o(n,e)?0:-1}const Bs=e=>e[0]==="_"||e==="$stable",Wr=e=>J(e)?e.map(ht):[ht(e)],Qa=(e,n,t)=>{if(n._n)return n;const r=xs((...o)=>Wr(n(...o)),t);return r._c=!1,r},Hs=(e,n,t)=>{const r=e._ctx;for(const o in e){if(Bs(o))continue;const s=e[o];if(Q(s))n[o]=Qa(o,s,r);else if(s!=null){const i=Wr(s);n[o]=()=>i}}},Ws=(e,n)=>{const t=Wr(n);e.slots.default=()=>t},eu=(e,n)=>{if(e.vnode.shapeFlag&32){const t=n._;t?(e.slots=de(n),Ln(n,"_",t)):Hs(n,e.slots={})}else e.slots={},n&&Ws(e,n);Ln(e.slots,rr,1)},tu=(e,n,t)=>{const{vnode:r,slots:o}=e;let s=!0,i=be;if(r.shapeFlag&32){const a=n._;a?t&&a===1?s=!1:(He(o,n),!t&&a===1&&delete o._):(s=!n.$stable,Hs(n,o)),i=n}else n&&(Ws(e,n),i={default:1});if(s)for(const a in o)!Bs(a)&&!(a in i)&&delete o[a]};function zs(){return{app:null,config:{isNativeTag:Ti,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let nu=0;function ru(e,n){return function(r,o=null){Q(r)||(r=Object.assign({},r)),o!=null&&!we(o)&&(o=null);const s=zs(),i=new Set;let a=!1;const u=s.app={_uid:nu++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:Su,get config(){return s.config},set config(c){},use(c,...l){return i.has(c)||(c&&Q(c.install)?(i.add(c),c.install(u,...l)):Q(c)&&(i.add(c),c(u,...l))),u},mixin(c){return s.mixins.includes(c)||s.mixins.push(c),u},component(c,l){return l?(s.components[c]=l,u):s.components[c]},directive(c,l){return l?(s.directives[c]=l,u):s.directives[c]},mount(c,l,f){if(!a){const h=me(r,o);return h.appContext=s,l&&n?n(h,c):e(h,c,f),a=!0,u._container=c,c.__vue_app__=u,or(h.component)||h.component.proxy}},unmount(){a&&(e(null,u._container),delete u._container.__vue_app__)},provide(c,l){return s.provides[c]=l,u}};return u}}function Cr(e,n,t,r,o=!1){if(J(e)){e.forEach((h,m)=>Cr(h,n&&(J(n)?n[m]:n),t,r,o));return}if(An(r)&&!o)return;const s=r.shapeFlag&4?or(r.component)||r.component.proxy:r.el,i=o?null:s,{i:a,r:u}=e,c=n&&n.r,l=a.refs===be?a.refs={}:a.refs,f=a.setupState;if(c!=null&&c!==u&&(Oe(c)?(l[c]=null,ce(f,c)&&(f[c]=null)):Le(c)&&(c.value=null)),Q(u))Et(u,a,12,[i,l]);else{const h=Oe(u),m=Le(u);if(h||m){const P=()=>{if(e.f){const I=h?ce(f,u)?f[u]:l[u]:u.value;o?J(I)&&Nr(I,s):J(I)?I.includes(s)||I.push(s):h?(l[u]=[s],ce(f,u)&&(f[u]=l[u])):(u.value=[s],e.k&&(l[e.k]=u.value))}else h?(l[u]=i,ce(f,u)&&(f[u]=i)):m&&(u.value=i,e.k&&(l[e.k]=i))};i?(P.id=-1,We(P,t)):P()}}}const We=Na;function ou(e){return su(e)}function su(e,n){const t=ji();t.__VUE__=!0;const{insert:r,remove:o,patchProp:s,createElement:i,createText:a,createComment:u,setText:c,setElementText:l,parentNode:f,nextSibling:h,setScopeId:m=at,insertStaticContent:P}=e,I=(d,p,g,_=null,w=null,x=null,M=!1,O=null,N=!!p.dynamicChildren)=>{if(d===p)return;d&&!rn(d,p)&&(_=Ne(d),H(d,w,x,!0),d=null),p.patchFlag===-2&&(N=!1,p.dynamicChildren=null);const{type:C,ref:W,shapeFlag:L}=p;switch(C){case nr:D(d,p,g,_);break;case Bt:$(d,p,g,_);break;case dr:d==null&&q(p,g,_,M);break;case le:B(d,p,g,_,w,x,M,O,N);break;default:L&1?X(d,p,g,_,w,x,M,O,N):L&6?G(d,p,g,_,w,x,M,O,N):(L&64||L&128)&&C.process(d,p,g,_,w,x,M,O,N,lt)}W!=null&&w&&Cr(W,d&&d.ref,x,p||d,!p)},D=(d,p,g,_)=>{if(d==null)r(p.el=a(p.children),g,_);else{const w=p.el=d.el;p.children!==d.children&&c(w,p.children)}},$=(d,p,g,_)=>{d==null?r(p.el=u(p.children||""),g,_):p.el=d.el},q=(d,p,g,_)=>{[d.el,d.anchor]=P(d.children,p,g,_,d.el,d.anchor)},T=({el:d,anchor:p},g,_)=>{let w;for(;d&&d!==p;)w=h(d),r(d,g,_),d=w;r(p,g,_)},K=({el:d,anchor:p})=>{let g;for(;d&&d!==p;)g=h(d),o(d),d=g;o(p)},X=(d,p,g,_,w,x,M,O,N)=>{M=M||p.type==="svg",d==null?Ae(p,g,_,w,x,M,O,N):Ue(d,p,w,x,M,O,N)},Ae=(d,p,g,_,w,x,M,O)=>{let N,C;const{type:W,props:L,shapeFlag:z,transition:Y,dirs:ae}=d;if(N=d.el=i(d.type,x,L&&L.is,L),z&8?l(N,d.children):z&16&&xe(d.children,N,null,_,w,x&&W!=="foreignObject",M,O),ae&&$t(d,null,_,"created"),L){for(const he in L)he!=="value"&&!Nn(he)&&s(N,he,null,L[he],x,d.children,_,w,ke);"value"in L&&s(N,"value",null,L.value),(C=L.onVnodeBeforeMount)&&ft(C,_,d)}pe(N,d,d.scopeId,M,_),ae&&$t(d,null,_,"beforeMount");const ye=(!w||w&&!w.pendingBranch)&&Y&&!Y.persisted;ye&&Y.beforeEnter(N),r(N,p,g),((C=L&&L.onVnodeMounted)||ye||ae)&&We(()=>{C&&ft(C,_,d),ye&&Y.enter(N),ae&&$t(d,null,_,"mounted")},w)},pe=(d,p,g,_,w)=>{if(g&&m(d,g),_)for(let x=0;x<_.length;x++)m(d,_[x]);if(w){let x=w.subTree;if(p===x){const M=w.vnode;pe(d,M,M.scopeId,M.slotScopeIds,w.parent)}}},xe=(d,p,g,_,w,x,M,O,N=0)=>{for(let C=N;C<d.length;C++){const W=d[C]=O?Ct(d[C]):ht(d[C]);I(null,W,p,g,_,w,x,M,O)}},Ue=(d,p,g,_,w,x,M)=>{const O=p.el=d.el;let{patchFlag:N,dynamicChildren:C,dirs:W}=p;N|=d.patchFlag&16;const L=d.props||be,z=p.props||be;let Y;g&&Tt(g,!1),(Y=z.onVnodeBeforeUpdate)&&ft(Y,g,p,d),W&&$t(p,d,g,"beforeUpdate"),g&&Tt(g,!0);const ae=w&&p.type!=="foreignObject";if(C?k(d.dynamicChildren,C,O,g,_,ae,x):M||ne(d,p,O,null,g,_,ae,x,!1),N>0){if(N&16)b(O,p,L,z,g,_,w);else if(N&2&&L.class!==z.class&&s(O,"class",null,z.class,w),N&4&&s(O,"style",L.style,z.style,w),N&8){const ye=p.dynamicProps;for(let he=0;he<ye.length;he++){const Ie=ye[he],rt=L[Ie],Wt=z[Ie];(Wt!==rt||Ie==="value")&&s(O,Ie,rt,Wt,w,d.children,g,_,ke)}}N&1&&d.children!==p.children&&l(O,p.children)}else!M&&C==null&&b(O,p,L,z,g,_,w);((Y=z.onVnodeUpdated)||W)&&We(()=>{Y&&ft(Y,g,p,d),W&&$t(p,d,g,"updated")},_)},k=(d,p,g,_,w,x,M)=>{for(let O=0;O<p.length;O++){const N=d[O],C=p[O],W=N.el&&(N.type===le||!rn(N,C)||N.shapeFlag&70)?f(N.el):g;I(N,C,W,null,_,w,x,M,!0)}},b=(d,p,g,_,w,x,M)=>{if(g!==_){if(g!==be)for(const O in g)!Nn(O)&&!(O in _)&&s(d,O,g[O],null,M,p.children,w,x,ke);for(const O in _){if(Nn(O))continue;const N=_[O],C=g[O];N!==C&&O!=="value"&&s(d,O,C,N,M,p.children,w,x,ke)}"value"in _&&s(d,"value",g.value,_.value)}},B=(d,p,g,_,w,x,M,O,N)=>{const C=p.el=d?d.el:a(""),W=p.anchor=d?d.anchor:a("");let{patchFlag:L,dynamicChildren:z,slotScopeIds:Y}=p;Y&&(O=O?O.concat(Y):Y),d==null?(r(C,g,_),r(W,g,_),xe(p.children,g,W,w,x,M,O,N)):L>0&&L&64&&z&&d.dynamicChildren?(k(d.dynamicChildren,z,g,w,x,M,O),(p.key!=null||w&&p===w.subTree)&&Ks(d,p,!0)):ne(d,p,g,W,w,x,M,O,N)},G=(d,p,g,_,w,x,M,O,N)=>{p.slotScopeIds=O,d==null?p.shapeFlag&512?w.ctx.activate(p,g,_,M,N):F(p,g,_,w,x,M,N):_e(d,p,N)},F=(d,p,g,_,w,x,M)=>{const O=d.component=mu(d,_,w);if($s(d)&&(O.ctx.renderer=lt),vu(O),O.asyncDep){if(w&&w.registerDep(O,ie),!d.el){const N=O.subTree=me(Bt);$(null,N,p,g)}return}ie(O,d,p,g,w,x,M)},_e=(d,p,g)=>{const _=p.component=d.component;if(Oa(d,p,g))if(_.asyncDep&&!_.asyncResolved){oe(_,p,g);return}else _.next=p,_a(_.update),_.update();else p.el=d.el,_.vnode=p},ie=(d,p,g,_,w,x,M)=>{const O=()=>{if(d.isMounted){let{next:W,bu:L,u:z,parent:Y,vnode:ae}=d,ye=W,he;Tt(d,!1),W?(W.el=ae.el,oe(d,W,M)):W=ae,L&&$n(L),(he=W.props&&W.props.onVnodeBeforeUpdate)&&ft(he,Y,W,ae),Tt(d,!0);const Ie=ur(d),rt=d.subTree;d.subTree=Ie,I(rt,Ie,f(rt.el),Ne(rt),d,w,x),W.el=Ie.el,ye===null&&xa(d,Ie.el),z&&We(z,w),(he=W.props&&W.props.onVnodeUpdated)&&We(()=>ft(he,Y,W,ae),w)}else{let W;const{el:L,props:z}=p,{bm:Y,m:ae,parent:ye}=d,he=An(p);if(Tt(d,!1),Y&&$n(Y),!he&&(W=z&&z.onVnodeBeforeMount)&&ft(W,ye,p),Tt(d,!0),L&&nt){const Ie=()=>{d.subTree=ur(d),nt(L,d.subTree,d,w,null)};he?p.type.__asyncLoader().then(()=>!d.isUnmounted&&Ie()):Ie()}else{const Ie=d.subTree=ur(d);I(null,Ie,g,_,d,w,x),p.el=Ie.el}if(ae&&We(ae,w),!he&&(W=z&&z.onVnodeMounted)){const Ie=p;We(()=>ft(W,ye,Ie),w)}(p.shapeFlag&256||ye&&An(ye.vnode)&&ye.vnode.shapeFlag&256)&&d.a&&We(d.a,w),d.isMounted=!0,p=g=_=null}},N=d.effect=new Ar(O,()=>Br(C),d.scope),C=d.update=()=>N.run();C.id=d.uid,Tt(d,!0),C()},oe=(d,p,g)=>{p.component=d;const _=d.vnode.props;d.vnode=p,d.next=null,Xa(d,p.props,_,g),tu(d,p.children,g),en(),ho(),tn()},ne=(d,p,g,_,w,x,M,O,N=!1)=>{const C=d&&d.children,W=d?d.shapeFlag:0,L=p.children,{patchFlag:z,shapeFlag:Y}=p;if(z>0){if(z&128){y(C,L,g,_,w,x,M,O,N);return}else if(z&256){v(C,L,g,_,w,x,M,O,N);return}}Y&8?(W&16&&ke(C,w,x),L!==C&&l(g,L)):W&16?Y&16?y(C,L,g,_,w,x,M,O,N):ke(C,w,x,!0):(W&8&&l(g,""),Y&16&&xe(L,g,_,w,x,M,O,N))},v=(d,p,g,_,w,x,M,O,N)=>{d=d||zt,p=p||zt;const C=d.length,W=p.length,L=Math.min(C,W);let z;for(z=0;z<L;z++){const Y=p[z]=N?Ct(p[z]):ht(p[z]);I(d[z],Y,g,null,w,x,M,O,N)}C>W?ke(d,w,x,!0,!1,L):xe(p,g,_,w,x,M,O,N,L)},y=(d,p,g,_,w,x,M,O,N)=>{let C=0;const W=p.length;let L=d.length-1,z=W-1;for(;C<=L&&C<=z;){const Y=d[C],ae=p[C]=N?Ct(p[C]):ht(p[C]);if(rn(Y,ae))I(Y,ae,g,null,w,x,M,O,N);else break;C++}for(;C<=L&&C<=z;){const Y=d[L],ae=p[z]=N?Ct(p[z]):ht(p[z]);if(rn(Y,ae))I(Y,ae,g,null,w,x,M,O,N);else break;L--,z--}if(C>L){if(C<=z){const Y=z+1,ae=Y<W?p[Y].el:_;for(;C<=z;)I(null,p[C]=N?Ct(p[C]):ht(p[C]),g,ae,w,x,M,O,N),C++}}else if(C>z)for(;C<=L;)H(d[C],w,x,!0),C++;else{const Y=C,ae=C,ye=new Map;for(C=ae;C<=z;C++){const Je=p[C]=N?Ct(p[C]):ht(p[C]);Je.key!=null&&ye.set(Je.key,C)}let he,Ie=0;const rt=z-ae+1;let Wt=!1,to=0;const nn=new Array(rt);for(C=0;C<rt;C++)nn[C]=0;for(C=Y;C<=L;C++){const Je=d[C];if(Ie>=rt){H(Je,w,x,!0);continue}let dt;if(Je.key!=null)dt=ye.get(Je.key);else for(he=ae;he<=z;he++)if(nn[he-ae]===0&&rn(Je,p[he])){dt=he;break}dt===void 0?H(Je,w,x,!0):(nn[dt-ae]=C+1,dt>=to?to=dt:Wt=!0,I(Je,p[dt],g,null,w,x,M,O,N),Ie++)}const no=Wt?iu(nn):zt;for(he=no.length-1,C=rt-1;C>=0;C--){const Je=ae+C,dt=p[Je],ro=Je+1<W?p[Je+1].el:_;nn[C]===0?I(null,dt,g,ro,w,x,M,O,N):Wt&&(he<0||C!==no[he]?S(dt,g,ro,2):he--)}}},S=(d,p,g,_,w=null)=>{const{el:x,type:M,transition:O,children:N,shapeFlag:C}=d;if(C&6){S(d.component.subTree,p,g,_);return}if(C&128){d.suspense.move(p,g,_);return}if(C&64){M.move(d,p,g,lt);return}if(M===le){r(x,p,g);for(let L=0;L<N.length;L++)S(N[L],p,g,_);r(d.anchor,p,g);return}if(M===dr){T(d,p,g);return}if(_!==2&&C&1&&O)if(_===0)O.beforeEnter(x),r(x,p,g),We(()=>O.enter(x),w);else{const{leave:L,delayLeave:z,afterLeave:Y}=O,ae=()=>r(x,p,g),ye=()=>{L(x,()=>{ae(),Y&&Y()})};z?z(x,ae,ye):ye()}else r(x,p,g)},H=(d,p,g,_=!1,w=!1)=>{const{type:x,props:M,ref:O,children:N,dynamicChildren:C,shapeFlag:W,patchFlag:L,dirs:z}=d;if(O!=null&&Cr(O,null,g,d,!0),W&256){p.ctx.deactivate(d);return}const Y=W&1&&z,ae=!An(d);let ye;if(ae&&(ye=M&&M.onVnodeBeforeUnmount)&&ft(ye,p,d),W&6)Se(d.component,g,_);else{if(W&128){d.suspense.unmount(g,_);return}Y&&$t(d,null,p,"beforeUnmount"),W&64?d.type.remove(d,p,g,w,lt,_):C&&(x!==le||L>0&&L&64)?ke(C,p,g,!1,!0):(x===le&&L&384||!w&&W&16)&&ke(N,p,g),_&&R(d)}(ae&&(ye=M&&M.onVnodeUnmounted)||Y)&&We(()=>{ye&&ft(ye,p,d),Y&&$t(d,null,p,"unmounted")},g)},R=d=>{const{type:p,el:g,anchor:_,transition:w}=d;if(p===le){ue(g,_);return}if(p===dr){K(d);return}const x=()=>{o(g),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:M,delayLeave:O}=w,N=()=>M(g,x);O?O(d.el,x,N):N()}else x()},ue=(d,p)=>{let g;for(;d!==p;)g=h(d),o(d),d=g;o(p)},Se=(d,p,g)=>{const{bum:_,scope:w,update:x,subTree:M,um:O}=d;_&&$n(_),w.stop(),x&&(x.active=!1,H(M,d,p,g)),O&&We(O,p),We(()=>{d.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&d.asyncDep&&!d.asyncResolved&&d.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},ke=(d,p,g,_=!1,w=!1,x=0)=>{for(let M=x;M<d.length;M++)H(d[M],p,g,_,w)},Ne=d=>d.shapeFlag&6?Ne(d.component.subTree):d.shapeFlag&128?d.suspense.next():h(d.anchor||d.el),$e=(d,p,g)=>{d==null?p._vnode&&H(p._vnode,null,null,!0):I(p._vnode||null,d,p,null,null,null,g),ho(),ks(),p._vnode=d},lt={p:I,um:H,m:S,r:R,mt:F,mc:xe,pc:ne,pbc:k,n:Ne,o:e};let gt,nt;return n&&([gt,nt]=n(lt)),{render:$e,hydrate:gt,createApp:ru($e,gt)}}function Tt({effect:e,update:n},t){e.allowRecurse=n.allowRecurse=t}function Ks(e,n,t=!1){const r=e.children,o=n.children;if(J(r)&&J(o))for(let s=0;s<r.length;s++){const i=r[s];let a=o[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=o[s]=Ct(o[s]),a.el=i.el),t||Ks(i,a)),a.type===nr&&(a.el=i.el)}}function iu(e){const n=e.slice(),t=[0];let r,o,s,i,a;const u=e.length;for(r=0;r<u;r++){const c=e[r];if(c!==0){if(o=t[t.length-1],e[o]<c){n[r]=o,t.push(r);continue}for(s=0,i=t.length-1;s<i;)a=s+i>>1,e[t[a]]<c?s=a+1:i=a;c<e[t[s]]&&(s>0&&(n[r]=t[s-1]),t[s]=r)}}for(s=t.length,i=t[s-1];s-- >0;)t[s]=i,i=n[i];return t}const au=e=>e.__isTeleport,le=Symbol(void 0),nr=Symbol(void 0),Bt=Symbol(void 0),dr=Symbol(void 0),cn=[];let it=null;function V(e=!1){cn.push(it=e?null:[])}function uu(){cn.pop(),it=cn[cn.length-1]||null}let vn=1;function Co(e){vn+=e}function Us(e){return e.dynamicChildren=vn>0?it||zt:null,uu(),vn>0&&it&&it.push(e),e}function Z(e,n,t,r,o,s){return Us(te(e,n,t,r,o,s,!0))}function Qe(e,n,t,r,o){return Us(me(e,n,t,r,o,!0))}function cu(e){return e?e.__v_isVNode===!0:!1}function rn(e,n){return e.type===n.type&&e.key===n.key}const rr="__vInternal",Js=({key:e})=>e!=null?e:null,Mn=({ref:e,ref_key:n,ref_for:t})=>e!=null?Oe(e)||Le(e)||Q(e)?{i:tt,r:e,k:n,f:!!t}:e:null;function te(e,n=null,t=null,r=0,o=null,s=e===le?0:1,i=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Js(n),ref:n&&Mn(n),scopeId:er,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null,ctx:tt};return a?(zr(u,t),s&128&&e.normalize(u)):t&&(u.shapeFlag|=Oe(t)?8:16),vn>0&&!i&&it&&(u.patchFlag>0||s&6)&&u.patchFlag!==32&&it.push(u),u}const me=lu;function lu(e,n=null,t=null,r=0,o=null,s=!1){if((!e||e===za)&&(e=Bt),cu(e)){const a=Yt(e,n,!0);return t&&zr(a,t),vn>0&&!s&&it&&(a.shapeFlag&6?it[it.indexOf(e)]=a:it.push(a)),a.patchFlag|=-2,a}if(_u(e)&&(e=e.__vccOpts),n){n=du(n);let{class:a,style:u}=n;a&&!Oe(a)&&(n.class=Re(a)),we(u)&&(ps(u)&&!J(u)&&(u=He({},u)),n.style=Kn(u))}const i=Oe(e)?1:Pa(e)?128:au(e)?64:we(e)?4:Q(e)?2:0;return te(e,n,t,r,o,i,s,!0)}function du(e){return e?ps(e)||rr in e?He({},e):e:null}function Yt(e,n,t=!1){const{props:r,ref:o,patchFlag:s,children:i}=e,a=n?fu(r||{},n):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&Js(a),ref:n&&n.ref?t&&o?J(o)?o.concat(Mn(n)):[o,Mn(n)]:Mn(n):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==le?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Yt(e.ssContent),ssFallback:e.ssFallback&&Yt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx}}function Dt(e=" ",n=0){return me(nr,null,e,n)}function Ge(e="",n=!1){return n?(V(),Qe(Bt,null,e)):me(Bt,null,e)}function ht(e){return e==null||typeof e=="boolean"?me(Bt):J(e)?me(le,null,e.slice()):typeof e=="object"?Ct(e):me(nr,null,String(e))}function Ct(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Yt(e)}function zr(e,n){let t=0;const{shapeFlag:r}=e;if(n==null)n=null;else if(J(n))t=16;else if(typeof n=="object")if(r&65){const o=n.default;o&&(o._c&&(o._d=!1),zr(e,o()),o._c&&(o._d=!0));return}else{t=32;const o=n._;!o&&!(rr in n)?n._ctx=tt:o===3&&tt&&(tt.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Q(n)?(n={default:n,_ctx:tt},t=32):(n=String(n),r&64?(t=16,n=[Dt(n)]):t=8);e.children=n,e.shapeFlag|=t}function fu(...e){const n={};for(let t=0;t<e.length;t++){const r=e[t];for(const o in r)if(o==="class")n.class!==r.class&&(n.class=Re([n.class,r.class]));else if(o==="style")n.style=Kn([n.style,r.style]);else if(Jn(o)){const s=n[o],i=r[o];i&&s!==i&&!(J(s)&&s.includes(i))&&(n[o]=s?[].concat(s,i):i)}else o!==""&&(n[o]=r[o])}return n}function ft(e,n,t,r=null){ut(e,n,7,[t,r])}const pu=zs();let hu=0;function mu(e,n,t){const r=e.type,o=(n?n.appContext:e.appContext)||pu,s={uid:hu++,vnode:e,type:r,parent:n,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Vi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Fs(r,o),emitsOptions:Ss(r,o),emit:null,emitted:null,propsDefaults:be,inheritAttrs:r.inheritAttrs,ctx:be,data:be,props:be,attrs:be,slots:be,refs:be,setupState:be,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=n?n.root:s,s.emit=Sa.bind(null,s),e.ce&&e.ce(s),s}let Te=null;const Zt=e=>{Te=e,e.scope.on()},Ft=()=>{Te&&Te.scope.off(),Te=null};function qs(e){return e.vnode.shapeFlag&4}let gn=!1;function vu(e,n=!1){gn=n;const{props:t,children:r}=e.vnode,o=qs(e);Za(e,t,o,n),eu(e,r);const s=o?gu(e,n):void 0;return gn=!1,s}function gu(e,n){const t=e.type;e.accessCache=Object.create(null),e.proxy=hs(new Proxy(e.ctx,Ka));const{setup:r}=t;if(r){const o=e.setupContext=r.length>1?bu(e):null;Zt(e),en();const s=Et(r,e,0,[e.props,o]);if(tn(),Ft(),Qo(s)){if(s.then(Ft,Ft),n)return s.then(i=>{So(e,i,n)}).catch(i=>{Xn(i,e,0)});e.asyncDep=s}else So(e,s,n)}else Gs(e,n)}function So(e,n,t){Q(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:we(n)&&(e.setupState=gs(n)),Gs(e,t)}let Eo;function Gs(e,n,t){const r=e.type;if(!e.render){if(!n&&Eo&&!r.render){const o=r.template||Hr(e).template;if(o){const{isCustomElement:s,compilerOptions:i}=e.appContext.config,{delimiters:a,compilerOptions:u}=r,c=He(He({isCustomElement:s,delimiters:a},i),u);r.render=Eo(o,c)}}e.render=r.render||at}Zt(e),en(),Ua(e),tn(),Ft()}function yu(e){return new Proxy(e.attrs,{get(n,t){return Ye(e,"get","$attrs"),n[t]}})}function bu(e){const n=r=>{e.exposed=r||{}};let t;return{get attrs(){return t||(t=yu(e))},slots:e.slots,emit:e.emit,expose:n}}function or(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(gs(hs(e.exposed)),{get(n,t){if(t in n)return n[t];if(t in un)return un[t](e)},has(n,t){return t in n||t in un}}))}function wu(e,n=!0){return Q(e)?e.displayName||e.name:e.name||n&&e.__name}function _u(e){return Q(e)&&"__vccOpts"in e}const xt=(e,n)=>ya(e,n,gn),ku=Symbol(""),Cu=()=>Tn(ku),Su="3.2.45",Eu="http://www.w3.org/2000/svg",Lt=typeof document<"u"?document:null,Io=Lt&&Lt.createElement("template"),Iu={insert:(e,n,t)=>{n.insertBefore(e,t||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,t,r)=>{const o=n?Lt.createElementNS(Eu,e):Lt.createElement(e,t?{is:t}:void 0);return e==="select"&&r&&r.multiple!=null&&o.setAttribute("multiple",r.multiple),o},createText:e=>Lt.createTextNode(e),createComment:e=>Lt.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lt.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,t,r,o,s){const i=t?t.previousSibling:n.lastChild;if(o&&(o===s||o.nextSibling))for(;n.insertBefore(o.cloneNode(!0),t),!(o===s||!(o=o.nextSibling)););else{Io.innerHTML=r?`<svg>${e}</svg>`:e;const a=Io.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}n.insertBefore(a,t)}return[i?i.nextSibling:n.firstChild,t?t.previousSibling:n.lastChild]}};function Ou(e,n,t){const r=e._vtc;r&&(n=(n?[n,...r]:[...r]).join(" ")),n==null?e.removeAttribute("class"):t?e.setAttribute("class",n):e.className=n}function xu(e,n,t){const r=e.style,o=Oe(t);if(t&&!o){for(const s in t)Sr(r,s,t[s]);if(n&&!Oe(n))for(const s in n)t[s]==null&&Sr(r,s,"")}else{const s=r.display;o?n!==t&&(r.cssText=t):n&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const Oo=/\s*!important$/;function Sr(e,n,t){if(J(t))t.forEach(r=>Sr(e,n,r));else if(t==null&&(t=""),n.startsWith("--"))e.setProperty(n,t);else{const r=Pu(e,n);Oo.test(t)?e.setProperty(Qt(r),t.replace(Oo,""),"important"):e[r]=t}}const xo=["Webkit","Moz","ms"],fr={};function Pu(e,n){const t=fr[n];if(t)return t;let r=vt(n);if(r!=="filter"&&r in e)return fr[n]=r;r=Yn(r);for(let o=0;o<xo.length;o++){const s=xo[o]+r;if(s in e)return fr[n]=s}return n}const Po="http://www.w3.org/1999/xlink";function Nu(e,n,t,r,o){if(r&&n.startsWith("xlink:"))t==null?e.removeAttributeNS(Po,n.slice(6,n.length)):e.setAttributeNS(Po,n,t);else{const s=Pi(n);t==null||s&&!Zo(t)?e.removeAttribute(n):e.setAttribute(n,s?"":t)}}function $u(e,n,t,r,o,s,i){if(n==="innerHTML"||n==="textContent"){r&&i(r,o,s),e[n]=t==null?"":t;return}if(n==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=t;const u=t==null?"":t;(e.value!==u||e.tagName==="OPTION")&&(e.value=u),t==null&&e.removeAttribute(n);return}let a=!1;if(t===""||t==null){const u=typeof e[n];u==="boolean"?t=Zo(t):t==null&&u==="string"?(t="",a=!0):u==="number"&&(t=0,a=!0)}try{e[n]=t}catch{}a&&e.removeAttribute(n)}function Rt(e,n,t,r){e.addEventListener(n,t,r)}function Tu(e,n,t,r){e.removeEventListener(n,t,r)}function Au(e,n,t,r,o=null){const s=e._vei||(e._vei={}),i=s[n];if(r&&i)i.value=r;else{const[a,u]=Mu(n);if(r){const c=s[n]=Ru(r,o);Rt(e,a,c,u)}else i&&(Tu(e,a,i,u),s[n]=void 0)}}const No=/(?:Once|Passive|Capture)$/;function Mu(e){let n;if(No.test(e)){n={};let r;for(;r=e.match(No);)e=e.slice(0,e.length-r[0].length),n[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Qt(e.slice(2)),n]}let pr=0;const Du=Promise.resolve(),Lu=()=>pr||(Du.then(()=>pr=0),pr=Date.now());function Ru(e,n){const t=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=t.attached)return;ut(ju(r,t.value),n,5,[r])};return t.value=e,t.attached=Lu(),t}function ju(e,n){if(J(n)){const t=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{t.call(e),e._stopped=!0},n.map(r=>o=>!o._stopped&&r&&r(o))}else return n}const $o=/^on[a-z]/,Vu=(e,n,t,r,o=!1,s,i,a,u)=>{n==="class"?Ou(e,r,o):n==="style"?xu(e,t,r):Jn(n)?Pr(n)||Au(e,n,t,r,i):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Fu(e,n,r,o))?$u(e,n,r,s,i,a,u):(n==="true-value"?e._trueValue=r:n==="false-value"&&(e._falseValue=r),Nu(e,n,r,o))};function Fu(e,n,t,r){return r?!!(n==="innerHTML"||n==="textContent"||n in e&&$o.test(n)&&Q(t)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA"||$o.test(n)&&Oe(t)?!1:n in e}const Bn=e=>{const n=e.props["onUpdate:modelValue"]||!1;return J(n)?t=>$n(n,t):n};function Bu(e){e.target.composing=!0}function To(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Hu={created(e,{modifiers:{lazy:n,trim:t,number:r}},o){e._assign=Bn(o);const s=r||o.props&&o.props.type==="number";Rt(e,n?"change":"input",i=>{if(i.target.composing)return;let a=e.value;t&&(a=a.trim()),s&&(a=fn(a)),e._assign(a)}),t&&Rt(e,"change",()=>{e.value=e.value.trim()}),n||(Rt(e,"compositionstart",Bu),Rt(e,"compositionend",To),Rt(e,"change",To))},mounted(e,{value:n}){e.value=n==null?"":n},beforeUpdate(e,{value:n,modifiers:{lazy:t,trim:r,number:o}},s){if(e._assign=Bn(s),e.composing||document.activeElement===e&&e.type!=="range"&&(t||r&&e.value.trim()===n||(o||e.type==="number")&&fn(e.value)===n))return;const i=n==null?"":n;e.value!==i&&(e.value=i)}},Wu={deep:!0,created(e,{value:n,modifiers:{number:t}},r){const o=qn(n);Rt(e,"change",()=>{const s=Array.prototype.filter.call(e.options,i=>i.selected).map(i=>t?fn(Hn(i)):Hn(i));e._assign(e.multiple?o?new Set(s):s:s[0])}),e._assign=Bn(r)},mounted(e,{value:n}){Ao(e,n)},beforeUpdate(e,n,t){e._assign=Bn(t)},updated(e,{value:n}){Ao(e,n)}};function Ao(e,n){const t=e.multiple;if(!(t&&!J(n)&&!qn(n))){for(let r=0,o=e.options.length;r<o;r++){const s=e.options[r],i=Hn(s);if(t)J(n)?s.selected=$i(n,i)>-1:s.selected=n.has(i);else if(Un(Hn(s),n)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!t&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Hn(e){return"_value"in e?e._value:e.value}const zu=["ctrl","shift","alt","meta"],Ku={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>zu.some(t=>e[`${t}Key`]&&!n.includes(t))},ct=(e,n)=>(t,...r)=>{for(let o=0;o<n.length;o++){const s=Ku[n[o]];if(s&&s(t,n))return}return e(t,...r)},Wn={beforeMount(e,{value:n},{transition:t}){e._vod=e.style.display==="none"?"":e.style.display,t&&n?t.beforeEnter(e):on(e,n)},mounted(e,{value:n},{transition:t}){t&&n&&t.enter(e)},updated(e,{value:n,oldValue:t},{transition:r}){!n!=!t&&(r?n?(r.beforeEnter(e),on(e,!0),r.enter(e)):r.leave(e,()=>{on(e,!1)}):on(e,n))},beforeUnmount(e,{value:n}){on(e,n)}};function on(e,n){e.style.display=n?e._vod:"none"}const Uu=He({patchProp:Vu},Iu);let Mo;function Ju(){return Mo||(Mo=ou(Uu))}const sr=(...e)=>{const n=Ju().createApp(...e),{mount:t}=n;return n.mount=r=>{const o=qu(r);if(!o)return;const s=n._component;!Q(s)&&!s.render&&!s.template&&(s.template=o.innerHTML),o.innerHTML="";const i=t(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),i},n};function qu(e){return Oe(e)?document.querySelector(e):e}/*!
* rete v1.5.0-rc1 
* (c) 2022 Vitaliy Stoliarov 
* Released under the MIT license.
*/function Do(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function Er(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Do(Object(t),!0).forEach(function(r){E(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Do(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function se(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */se=function(){return e};var e={},n=Object.prototype,t=n.hasOwnProperty,r=typeof Symbol=="function"?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function a(k,b,B){return Object.defineProperty(k,b,{value:B,enumerable:!0,configurable:!0,writable:!0}),k[b]}try{a({},"")}catch{a=function(b,B,G){return b[B]=G}}function u(k,b,B,G){var F=b&&b.prototype instanceof f?b:f,_e=Object.create(F.prototype),ie=new pe(G||[]);return _e._invoke=function(oe,ne,v){var y="suspendedStart";return function(S,H){if(y==="executing")throw new Error("Generator is already running");if(y==="completed"){if(S==="throw")throw H;return Ue()}for(v.method=S,v.arg=H;;){var R=v.delegate;if(R){var ue=K(R,v);if(ue){if(ue===l)continue;return ue}}if(v.method==="next")v.sent=v._sent=v.arg;else if(v.method==="throw"){if(y==="suspendedStart")throw y="completed",v.arg;v.dispatchException(v.arg)}else v.method==="return"&&v.abrupt("return",v.arg);y="executing";var Se=c(oe,ne,v);if(Se.type==="normal"){if(y=v.done?"completed":"suspendedYield",Se.arg===l)continue;return{value:Se.arg,done:v.done}}Se.type==="throw"&&(y="completed",v.method="throw",v.arg=Se.arg)}}}(k,B,ie),_e}function c(k,b,B){try{return{type:"normal",arg:k.call(b,B)}}catch(G){return{type:"throw",arg:G}}}e.wrap=u;var l={};function f(){}function h(){}function m(){}var P={};a(P,o,function(){return this});var I=Object.getPrototypeOf,D=I&&I(I(xe([])));D&&D!==n&&t.call(D,o)&&(P=D);var $=m.prototype=f.prototype=Object.create(P);function q(k){["next","throw","return"].forEach(function(b){a(k,b,function(B){return this._invoke(b,B)})})}function T(k,b){function B(F,_e,ie,oe){var ne=c(k[F],k,_e);if(ne.type!=="throw"){var v=ne.arg,y=v.value;return y&&typeof y=="object"&&t.call(y,"__await")?b.resolve(y.__await).then(function(S){B("next",S,ie,oe)},function(S){B("throw",S,ie,oe)}):b.resolve(y).then(function(S){v.value=S,ie(v)},function(S){return B("throw",S,ie,oe)})}oe(ne.arg)}var G;this._invoke=function(F,_e){function ie(){return new b(function(oe,ne){B(F,_e,oe,ne)})}return G=G?G.then(ie,ie):ie()}}function K(k,b){var B=k.iterator[b.method];if(B===void 0){if(b.delegate=null,b.method==="throw"){if(k.iterator.return&&(b.method="return",b.arg=void 0,K(k,b),b.method==="throw"))return l;b.method="throw",b.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var G=c(B,k.iterator,b.arg);if(G.type==="throw")return b.method="throw",b.arg=G.arg,b.delegate=null,l;var F=G.arg;return F?F.done?(b[k.resultName]=F.value,b.next=k.nextLoc,b.method!=="return"&&(b.method="next",b.arg=void 0),b.delegate=null,l):F:(b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,l)}function X(k){var b={tryLoc:k[0]};1 in k&&(b.catchLoc=k[1]),2 in k&&(b.finallyLoc=k[2],b.afterLoc=k[3]),this.tryEntries.push(b)}function Ae(k){var b=k.completion||{};b.type="normal",delete b.arg,k.completion=b}function pe(k){this.tryEntries=[{tryLoc:"root"}],k.forEach(X,this),this.reset(!0)}function xe(k){if(k){var b=k[o];if(b)return b.call(k);if(typeof k.next=="function")return k;if(!isNaN(k.length)){var B=-1,G=function F(){for(;++B<k.length;)if(t.call(k,B))return F.value=k[B],F.done=!1,F;return F.value=void 0,F.done=!0,F};return G.next=G}}return{next:Ue}}function Ue(){return{value:void 0,done:!0}}return h.prototype=m,a($,"constructor",m),a(m,"constructor",h),h.displayName=a(m,i,"GeneratorFunction"),e.isGeneratorFunction=function(k){var b=typeof k=="function"&&k.constructor;return!!b&&(b===h||(b.displayName||b.name)==="GeneratorFunction")},e.mark=function(k){return Object.setPrototypeOf?Object.setPrototypeOf(k,m):(k.__proto__=m,a(k,i,"GeneratorFunction")),k.prototype=Object.create($),k},e.awrap=function(k){return{__await:k}},q(T.prototype),a(T.prototype,s,function(){return this}),e.AsyncIterator=T,e.async=function(k,b,B,G,F){F===void 0&&(F=Promise);var _e=new T(u(k,b,B,G),F);return e.isGeneratorFunction(b)?_e:_e.next().then(function(ie){return ie.done?ie.value:_e.next()})},q($),a($,i,"Generator"),a($,o,function(){return this}),a($,"toString",function(){return"[object Generator]"}),e.keys=function(k){var b=[];for(var B in k)b.push(B);return b.reverse(),function G(){for(;b.length;){var F=b.pop();if(F in k)return G.value=F,G.done=!1,G}return G.done=!0,G}},e.values=xe,pe.prototype={constructor:pe,reset:function(k){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ae),!k)for(var b in this)b.charAt(0)==="t"&&t.call(this,b)&&!isNaN(+b.slice(1))&&(this[b]=void 0)},stop:function(){this.done=!0;var k=this.tryEntries[0].completion;if(k.type==="throw")throw k.arg;return this.rval},dispatchException:function(k){if(this.done)throw k;var b=this;function B(ne,v){return _e.type="throw",_e.arg=k,b.next=ne,v&&(b.method="next",b.arg=void 0),!!v}for(var G=this.tryEntries.length-1;G>=0;--G){var F=this.tryEntries[G],_e=F.completion;if(F.tryLoc==="root")return B("end");if(F.tryLoc<=this.prev){var ie=t.call(F,"catchLoc"),oe=t.call(F,"finallyLoc");if(ie&&oe){if(this.prev<F.catchLoc)return B(F.catchLoc,!0);if(this.prev<F.finallyLoc)return B(F.finallyLoc)}else if(ie){if(this.prev<F.catchLoc)return B(F.catchLoc,!0)}else{if(!oe)throw new Error("try statement without catch or finally");if(this.prev<F.finallyLoc)return B(F.finallyLoc)}}}},abrupt:function(k,b){for(var B=this.tryEntries.length-1;B>=0;--B){var G=this.tryEntries[B];if(G.tryLoc<=this.prev&&t.call(G,"finallyLoc")&&this.prev<G.finallyLoc){var F=G;break}}F&&(k==="break"||k==="continue")&&F.tryLoc<=b&&b<=F.finallyLoc&&(F=null);var _e=F?F.completion:{};return _e.type=k,_e.arg=b,F?(this.method="next",this.next=F.finallyLoc,l):this.complete(_e)},complete:function(k,b){if(k.type==="throw")throw k.arg;return k.type==="break"||k.type==="continue"?this.next=k.arg:k.type==="return"?(this.rval=this.arg=k.arg,this.method="return",this.next="end"):k.type==="normal"&&b&&(this.next=b),l},finish:function(k){for(var b=this.tryEntries.length-1;b>=0;--b){var B=this.tryEntries[b];if(B.finallyLoc===k)return this.complete(B.completion,B.afterLoc),Ae(B),l}},catch:function(k){for(var b=this.tryEntries.length-1;b>=0;--b){var B=this.tryEntries[b];if(B.tryLoc===k){var G=B.completion;if(G.type==="throw"){var F=G.arg;Ae(B)}return F}}throw new Error("illegal catch attempt")},delegateYield:function(k,b,B){return this.delegate={iterator:xe(k),resultName:b,nextLoc:B},this.method==="next"&&(this.arg=void 0),l}},e}function Lo(e,n,t,r,o,s,i){try{var a=e[s](i),u=a.value}catch(c){t(c);return}a.done?n(u):Promise.resolve(u).then(r,o)}function Pe(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var s=e.apply(n,t);function i(u){Lo(s,r,o,i,a,"next",u)}function a(u){Lo(s,r,o,i,a,"throw",u)}i(void 0)})}}function ve(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Ro(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,n,t){return n&&Ro(e.prototype,n),t&&Ro(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ze(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&Ir(e,n)}function Xt(e){return Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Xt(e)}function Ir(e,n){return Ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},Ir(e,n)}function Gu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function j(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yu(e,n){if(n&&(typeof n=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function Ke(e){var n=Gu();return function(){var r=Xt(e),o;if(n){var s=Xt(this).constructor;o=Reflect.construct(r,arguments,s)}else o=r.apply(this,arguments);return Yu(this,o)}}function Zu(e,n){for(;!Object.prototype.hasOwnProperty.call(e,n)&&(e=Xt(e),e!==null););return e}function Dn(){return typeof Reflect<"u"&&Reflect.get?Dn=Reflect.get.bind():Dn=function(n,t,r){var o=Zu(n,t);if(o){var s=Object.getOwnPropertyDescriptor(o,t);return s.get?s.get.call(arguments.length<3?n:r):s.value}},Dn.apply(this,arguments)}function Pt(e,n){return Qu(e)||tc(e,n)||Kr(e,n)||rc()}function qe(e){return Xu(e)||ec(e)||Kr(e)||nc()}function Xu(e){if(Array.isArray(e))return Or(e)}function Qu(e){if(Array.isArray(e))return e}function ec(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tc(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var r=[],o=!0,s=!1,i,a;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(r.push(i.value),!(n&&r.length===n));o=!0);}catch(u){s=!0,a=u}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Kr(e,n){if(e){if(typeof e=="string")return Or(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Or(e,n)}}function Or(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function nc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jo(e,n){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Kr(e))||n&&e&&typeof e.length=="number"){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,i=!1,a;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,a=u},f:function(){try{!s&&t.return!=null&&t.return()}finally{if(i)throw a}}}}var oc=ge(function e(n){ve(this,e),E(this,"name",void 0),E(this,"data",{}),E(this,"engine",null),this.name=n}),Ht=function(){function e(n){ve(this,e),E(this,"name",void 0),E(this,"id",void 0),E(this,"position",[0,0]),E(this,"inputs",new Map),E(this,"outputs",new Map),E(this,"controls",new Map),E(this,"data",{}),E(this,"meta",{}),this.name=n,this.id=e.incrementId()}return ge(e,[{key:"_add",value:function(t,r,o){if(t.has(r.key))throw new Error("Item with key '".concat(r.key,"' already been added to the node"));if(r[o]!==null)throw new Error("Item has already been added to some node");r[o]=this,t.set(r.key,r)}},{key:"addControl",value:function(t){return this._add(this.controls,t,"parent"),this}},{key:"removeControl",value:function(t){t.parent=null,this.controls.delete(t.key)}},{key:"addInput",value:function(t){return this._add(this.inputs,t,"node"),this}},{key:"removeInput",value:function(t){t.removeConnections(),t.node=null,this.inputs.delete(t.key)}},{key:"addOutput",value:function(t){return this._add(this.outputs,t,"node"),this}},{key:"removeOutput",value:function(t){t.removeConnections(),t.node=null,this.outputs.delete(t.key)}},{key:"setMeta",value:function(t){return this.meta=t,this}},{key:"getConnections",value:function(){var t=[].concat(qe(this.inputs.values()),qe(this.outputs.values())),r=t.reduce(function(o,s){return[].concat(qe(o),qe(s.connections))},[]);return r}},{key:"update",value:function(){}},{key:"toJSON",value:function(){var t=function(o){return Array.from(o).reduce(function(s,i){var a=Pt(i,2),u=a[0],c=a[1];return s[u]=c.toJSON(),s},{})};return{id:this.id,data:this.data,inputs:t(this.inputs),outputs:t(this.outputs),position:this.position,name:this.name}}}],[{key:"incrementId",value:function(){return this.latestId?this.latestId++:this.latestId=1,this.latestId}},{key:"resetId",value:function(){this.latestId=0}},{key:"fromJSON",value:function(t){var r=new e(t.name),o=Pt(t.position,2),s=o[0],i=o[1];return r.id=t.id,r.data=t.data,r.position=[s,i],r.name=t.name,e.latestId=Math.max(r.id,e.latestId),r}}]),e}();E(Ht,"latestId",0);var Ys=function(e){ze(t,e);var n=Ke(t);function t(r){var o;return ve(this,t),o=n.call(this,r),E(j(o),"editor",null),E(j(o),"data",{}),o}return ge(t,[{key:"build",value:function(){var r=Pe(se().mark(function s(i){return se().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,this.builder(i);case 2:return u.abrupt("return",i);case 3:case"end":return u.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"createNode",value:function(){var r=Pe(se().mark(function s(){var i,a,u=arguments;return se().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=u.length>0&&u[0]!==void 0?u[0]:{},a=new Ht(this.name),a.data=i,l.next=5,this.build(a);case 5:return l.abrupt("return",a);case 6:case"end":return l.stop()}},s,this)}));function o(){return r.apply(this,arguments)}return o}()}]),t}(oc),Zs=function(){function e(n,t){ve(this,e),E(this,"output",void 0),E(this,"input",void 0),E(this,"data",{}),this.output=n,this.input=t,this.data={},this.input.addConnection(this)}return ge(e,[{key:"remove",value:function(){this.input.removeConnection(this),this.output.removeConnection(this)}}]),e}(),ir=function(){function e(n){if(ve(this,e),E(this,"key",void 0),E(this,"data",{}),E(this,"parent",null),this.constructor===e)throw new TypeError("Can not construct abstract class");if(!n)throw new Error("The key parameter is missing in super() of Control ");this.key=n}return ge(e,[{key:"getNode",value:function(){if(this.parent===null)throw new Error("Control isn't added to Node/Input");if(this.parent instanceof Ht)return this.parent;if(!this.parent.node)throw new Error("Control hasn't be added to Input or Node");return this.parent.node}},{key:"getData",value:function(t){return this.getNode().data[t]}},{key:"putData",value:function(t,r){this.getNode().data[t]=r}}]),e}(),Nt=function(){function e(n){ve(this,e),E(this,"events",{}),E(this,"silent",!1),this.events=n instanceof e?n.events:n.handlers}return ge(e,[{key:"on",value:function(t,r){var o=this,s=t instanceof Array?t:t.split(" ");return s.forEach(function(i){if(!o.events[i])throw new Error("The event ".concat(i," does not exist"));o.events[i].push(r)}),this}},{key:"trigger",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!(t in this.events))throw new Error("The event ".concat(String(t)," cannot be triggered"));return this.events[t].reduce(function(o,s){return s(r)!==!1&&o},!0)}},{key:"bind",value:function(t){if(this.events[t])throw new Error("The event ".concat(t," is already bound"));this.events[t]=[]}},{key:"exist",value:function(t){return Array.isArray(this.events[t])}}]),e}(),Ur=function(){function e(n,t,r,o){ve(this,e),E(this,"node",null),E(this,"multipleConnections",void 0),E(this,"connections",[]),E(this,"key",void 0),E(this,"name",void 0),E(this,"socket",void 0),this.node=null,this.multipleConnections=o,this.connections=[],this.key=n,this.name=t,this.socket=r}return ge(e,[{key:"removeConnection",value:function(t){this.connections.splice(this.connections.indexOf(t),1)}},{key:"removeConnections",value:function(){var t=this;this.connections.forEach(function(r){return t.removeConnection(r)})}}]),e}(),Jr=function(e){ze(t,e);var n=Ke(t);function t(r,o,s){var i,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return ve(this,t),i=n.call(this,r,o,s,a),E(j(i),"control",null),i}return ge(t,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"addConnection",value:function(o){if(!this.multipleConnections&&this.hasConnection())throw new Error("Multiple connections not allowed");this.connections.push(o)}},{key:"addControl",value:function(o){this.control=o,o.parent=this}},{key:"showControl",value:function(){return!this.hasConnection()&&this.control!==null}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(o){if(!o.output.node)throw new Error("Node not added to Output");return{node:o.output.node.id,output:o.output.key,data:o.data}})}}}]),t}(Ur),qr=function(){function e(){ve(this,e)}return ge(e,null,[{key:"isValidData",value:function(t){return typeof t.id=="string"&&this.isValidId(t.id)&&t.nodes instanceof Object&&!(t.nodes instanceof Array)}},{key:"isValidId",value:function(t){return/^[\w-]{3,}@[0-9]+\.[0-9]+\.[0-9]+$/.test(t)}},{key:"validate",value:function(t,r){var o=t.split("@"),s=r.id.split("@"),i=[];return this.isValidData(r)||i.push("Data is not suitable"),t!==r.id&&i.push("IDs not equal"),o[0]!==s[0]&&i.push("Names don't match"),o[1]!==s[1]&&i.push("Versions don't match"),{success:Boolean(!i.length),msg:i.join(". ")}}}]),e}(),Xs=function(e){ze(t,e);var n=Ke(t);function t(r,o){var s;if(ve(this,t),s=n.call(this,o),E(j(s),"id",void 0),E(j(s),"plugins",void 0),E(j(s),"components",void 0),!qr.isValidId(r))throw new Error("ID should be valid to name@0.1.0 format");return s.id=r,s.plugins=new Map,s.components=new Map,s}return ge(t,[{key:"use",value:function(o,s){if(o.name&&this.plugins.has(o.name))throw new Error("Plugin ".concat(o.name," already in use"));o.install(this,s||{}),this.plugins.set(o.name,s)}},{key:"register",value:function(o){if(this.components.has(o.name))throw new Error("Component ".concat(o.name," already registered"));this.components.set(o.name,o),this.trigger("componentregister",o)}},{key:"destroy",value:function(){this.trigger("destroy")}}]),t}(Nt);function It(e,n){return window.addEventListener(e,n),function(){window.removeEventListener(e,n)}}var Qs=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(a,u,c){},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(a){},o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(a){};ve(this,e),this.onTranslate=t,this.onStart=r,this.onDrag=o,E(this,"pointerStart",void 0),E(this,"el",void 0),E(this,"destroy",void 0),this.pointerStart=null,this.el=n,this.el.style.touchAction="none",this.el.addEventListener("pointerdown",this.down.bind(this));var s=It("pointermove",this.move.bind(this)),i=It("pointerup",this.up.bind(this));this.destroy=function(){s(),i()}}return ge(e,[{key:"down",value:function(t){t.pointerType==="mouse"&&t.button!==0||(t.stopPropagation(),this.pointerStart=[t.pageX,t.pageY],this.onStart(t))}},{key:"move",value:function(t){if(this.pointerStart){t.preventDefault();var r=[t.pageX,t.pageY],o=r[0],s=r[1],i=[o-this.pointerStart[0],s-this.pointerStart[1]],a=this.el.getBoundingClientRect().width/this.el.offsetWidth;this.onTranslate(i[0]/a,i[1]/a,t)}}},{key:"up",value:function(t){this.pointerStart&&(this.pointerStart=null,this.onDrag(t))}}]),e}(),sc=function(){function e(n,t,r,o){ve(this,e),E(this,"el",void 0),E(this,"intensity",void 0),E(this,"onzoom",void 0),E(this,"previous",null),E(this,"pointers",[]),E(this,"destroy",void 0),this.el=t,this.intensity=r,this.onzoom=o,n.addEventListener("wheel",this.wheel.bind(this)),n.addEventListener("pointerdown",this.down.bind(this)),n.addEventListener("dblclick",this.dblclick.bind(this));var s=It("pointermove",this.move.bind(this)),i=It("pointerup",this.end.bind(this)),a=It("pointercancel",this.end.bind(this));this.destroy=function(){s(),i(),a()}}return ge(e,[{key:"translating",get:function(){return this.pointers.length>=2}},{key:"wheel",value:function(t){t.preventDefault();var r=this.el.getBoundingClientRect(),o=t.deltaY<0,s=o?this.intensity:-this.intensity,i=(r.left-t.clientX)*s,a=(r.top-t.clientY)*s;this.onzoom(s,i,a,"wheel")}},{key:"touches",value:function(){var t={touches:this.pointers},r=[t.touches[0].clientX,t.touches[0].clientY],o=r[0],s=r[1],i=[t.touches[1].clientX,t.touches[1].clientY],a=i[0],u=i[1],c=Math.sqrt(Math.pow(o-a,2)+Math.pow(s-u,2));return{cx:(o+a)/2,cy:(s+u)/2,distance:c}}},{key:"down",value:function(t){this.pointers.push(t)}},{key:"move",value:function(t){if(this.pointers=this.pointers.map(function(f){return f.pointerId===t.pointerId?t:f}),!!this.translating){var r=this.el.getBoundingClientRect(),o=this.touches(),s=o.cx,i=o.cy,a=o.distance;if(this.previous!==null){var u=a/this.previous.distance-1,c=(r.left-s)*u,l=(r.top-i)*u;this.onzoom(u,c-(this.previous.cx-s),l-(this.previous.cy-i),"touch")}this.previous={cx:s,cy:i,distance:a}}}},{key:"end",value:function(t){this.previous=null,this.pointers=this.pointers.filter(function(r){return r.pointerId!==t.pointerId})}},{key:"dblclick",value:function(t){t.preventDefault();var r=this.el.getBoundingClientRect(),o=4*this.intensity,s=(r.left-t.clientX)*o,i=(r.top-t.clientY)*o;this.onzoom(o,s,i,"dblclick")}}]),e}(),ic=function(e){ze(t,e);var n=Ke(t);function t(r,o){var s;ve(this,t),s=n.call(this,o),E(j(s),"el",void 0),E(j(s),"container",void 0),E(j(s),"transform",{k:1,x:0,y:0}),E(j(s),"mouse",{x:0,y:0}),E(j(s),"_startPosition",null),E(j(s),"_zoom",void 0),E(j(s),"_drag",void 0);var i=s.el=document.createElement("div");return s.container=r,i.style.transformOrigin="0 0",s._zoom=new sc(r,i,.1,s.onZoom.bind(j(s))),s._drag=new Qs(r,s.onTranslate.bind(j(s)),s.onStart.bind(j(s))),o.on("destroy",function(){s._zoom.destroy(),s._drag.destroy()}),s.container.addEventListener("pointermove",s.pointermove.bind(j(s))),s.update(),s}return ge(t,[{key:"update",value:function(){var o=this.transform;this.el.style.transform="translate(".concat(o.x,"px, ").concat(o.y,"px) scale(").concat(o.k,")")}},{key:"pointermove",value:function(o){var s=o.clientX,i=o.clientY,a=this.el.getBoundingClientRect(),u=s-a.left,c=i-a.top,l=this.transform.k;this.mouse={x:u/l,y:c/l},this.trigger("mousemove",Er({},this.mouse))}},{key:"onStart",value:function(){this._startPosition=Er({},this.transform)}},{key:"onTranslate",value:function(o,s){this._zoom.translating||this._startPosition&&this.translate(this._startPosition.x+o,this._startPosition.y+s)}},{key:"onZoom",value:function(o,s,i,a){this.zoom(this.transform.k*(1+o),s,i,a),this.update()}},{key:"translate",value:function(o,s){var i={transform:this.transform,x:o,y:s};this.trigger("translate",i)&&(this.transform.x=i.x,this.transform.y=i.y,this.update(),this.trigger("translated"))}},{key:"zoom",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3?arguments[3]:void 0,u=this.transform.k,c={transform:this.transform,zoom:o,source:a};if(this.trigger("zoom",c)){var l=(u-c.zoom)/(u-o||1);this.transform.k=c.zoom||1,this.transform.x+=s*l,this.transform.y+=i*l,this.update(),this.trigger("zoomed",{source:a})}}},{key:"appendChild",value:function(o){this.el.appendChild(o)}},{key:"removeChild",value:function(o){this.el.removeChild(o)}}]),t}(Nt),ac=function(e){ze(t,e);var n=Ke(t);function t(r,o,s,i){var a;return ve(this,t),a=n.call(this,i),E(j(a),"connection",void 0),E(j(a),"inputNode",void 0),E(j(a),"outputNode",void 0),E(j(a),"el",void 0),a.connection=r,a.inputNode=o,a.outputNode=s,a.el=document.createElement("div"),a.el.style.position="absolute",a.el.style.zIndex="-1",a.trigger("renderconnection",{el:a.el,connection:a.connection,points:a.getPoints()}),a}return ge(t,[{key:"getPoints",value:function(){var o=this.connection,s=o.input,i=o.output;if(this.inputNode.hasSocket(s)&&this.outputNode.hasSocket(i)){var a=this.outputNode.getSocketPosition(i),u=Pt(a,2),c=u[0],l=u[1],f=this.inputNode.getSocketPosition(s),h=Pt(f,2),m=h[0],P=h[1];return[c,l,m,P]}return[0,0,0,0]}},{key:"update",value:function(){this.trigger("updateconnection",{el:this.el,connection:this.connection,points:this.getPoints()})}}]),t}(Nt),uc=function(e){ze(t,e);var n=Ke(t);function t(r,o,s){var i;return ve(this,t),i=n.call(this,s),i.trigger("rendercontrol",{el:r,control:o}),i}return ge(t)}(Nt),cc=function(e){ze(t,e);var n=Ke(t);function t(r,o,s,i,a){var u,c;return ve(this,t),c=n.call(this,a),E(j(c),"el",void 0),E(j(c),"type",void 0),E(j(c),"io",void 0),E(j(c),"node",void 0),c.el=r,c.type=o,c.io=s,c.node=i,c.trigger("rendersocket",(u={el:r},E(u,o,c.io),E(u,"socket",s.socket),u)),c}return ge(t,[{key:"getPosition",value:function(o){var s=o.position,i=this.el;return[s[0]+i.offsetLeft+i.offsetWidth/2,s[1]+i.offsetTop+i.offsetHeight/2]}}]),t}(Nt),lc=function(e){ze(t,e);var n=Ke(t);function t(r,o,s){var i;return ve(this,t),i=n.call(this,s),E(j(i),"node",void 0),E(j(i),"component",void 0),E(j(i),"sockets",new Map),E(j(i),"controls",new Map),E(j(i),"el",void 0),E(j(i),"_startPosition",[]),E(j(i),"_drag",void 0),i.node=r,i.component=o,i.el=document.createElement("div"),i.el.style.position="absolute",i.el.addEventListener("contextmenu",function(a){return i.trigger("contextmenu",{e:a,node:i.node})}),i._drag=new Qs(i.el,i.onTranslate.bind(j(i)),i.onSelect.bind(j(i)),function(){i.trigger("nodedraged",r),i.trigger("nodedragged",r)}),i.trigger("rendernode",{el:i.el,node:r,component:o.data,bindSocket:i.bindSocket.bind(j(i)),bindControl:i.bindControl.bind(j(i))}),i.update(),i}return ge(t,[{key:"clearSockets",value:function(){var o=this,s=[].concat(qe(this.node.inputs.values()),qe(this.node.outputs.values()));this.sockets.forEach(function(i){s.includes(i.io)||o.sockets.delete(i.io)})}},{key:"bindSocket",value:function(o,s,i){this.clearSockets(),this.sockets.set(i,new cc(o,s,i,this.node,this))}},{key:"bindControl",value:function(o,s){this.controls.set(s,new uc(o,s,this))}},{key:"hasSocket",value:function(o){return this.sockets.has(o)}},{key:"getSocketPosition",value:function(o){var s=this.sockets.get(o);if(!s)throw new Error("Socket not found for ".concat(o.name," with key ").concat(o.key));return s.getPosition(this.node)}},{key:"onSelect",value:function(o){var s={node:this.node,accumulate:o.ctrlKey,e:o};this.onStart(),this.trigger("multiselectnode",s),this.trigger("selectnode",s)}},{key:"onStart",value:function(){this._startPosition=qe(this.node.position)}},{key:"onTranslate",value:function(o,s){this.trigger("translatenode",{node:this.node,dx:o,dy:s})}},{key:"onDrag",value:function(o,s){var i=this._startPosition[0]+o,a=this._startPosition[1]+s;this.translate(i,a)}},{key:"translate",value:function(o,s){var i=this.node,a={node:i,x:o,y:s};if(this.trigger("nodetranslate",a)){var u=Pt(i.position,2),c=u[0],l=u[1],f=[c,l];i.position[0]=a.x,i.position[1]=a.y,this.update(),this.trigger("nodetranslated",{node:i,prev:f})}}},{key:"update",value:function(){var o=Pt(this.node.position,2),s=o[0],i=o[1];this.el.style.transform="translate(".concat(s,"px, ").concat(i,"px)")}},{key:"remove",value:function(){}},{key:"destroy",value:function(){this._drag.destroy()}}]),t}(Nt),dc=function(e){ze(t,e);var n=Ke(t);function t(r,o,s){var i;return ve(this,t),i=n.call(this,s),E(j(i),"container",void 0),E(j(i),"components",void 0),E(j(i),"nodes",new Map),E(j(i),"connections",new Map),E(j(i),"area",void 0),i.container=r,i.components=o,i.container.style.overflow="hidden",i.container.addEventListener("click",i.click.bind(j(i))),i.container.addEventListener("contextmenu",function(a){return i.trigger("contextmenu",{e:a,view:j(i)})}),s.on("destroy",It("resize",i.resize.bind(j(i)))),s.on("destroy",function(){return i.nodes.forEach(function(a){return a.destroy()})}),i.on("nodetranslated",i.updateConnections.bind(j(i))),i.on("rendersocket",function(a){var u=a.socket,c=Array.from(i.connections.entries()),l=c.filter(function(f){var h=Pt(f,1),m=h[0],P=m.input,I=m.output;return[P.socket,I.socket].includes(u)});l.forEach(function(f){var h=Pt(f,2);h[0];var m=h[1];return requestAnimationFrame(function(){return m.update()})})}),i.area=new ic(r,j(i)),i.container.appendChild(i.area.el),i}return ge(t,[{key:"addNode",value:function(o){var s=this.components.get(o.name);if(!s)throw new Error("Component ".concat(o.name," not found"));var i=new lc(o,s,this);this.nodes.set(o,i),this.area.appendChild(i.el)}},{key:"removeNode",value:function(o){var s=this.nodes.get(o);this.nodes.delete(o),s&&(this.area.removeChild(s.el),s.destroy())}},{key:"addConnection",value:function(o){if(!o.input.node||!o.output.node)throw new Error("Connection input or output not added to node");var s=this.nodes.get(o.input.node),i=this.nodes.get(o.output.node);if(!s||!i)throw new Error("View node not found for input or output");var a=new ac(o,s,i,this);this.connections.set(o,a),this.area.appendChild(a.el)}},{key:"removeConnection",value:function(o){var s=this.connections.get(o);this.connections.delete(o),s&&this.area.removeChild(s.el)}},{key:"updateConnections",value:function(o){var s=this,i=o.node;i.getConnections().forEach(function(a){var u=s.connections.get(a);if(!u)throw new Error("Connection view not found");u.update()})}},{key:"resize",value:function(){var o=this.container;if(!o.parentElement)throw new Error("Container doesn't have parent element");var s=o.parentElement.clientWidth,i=o.parentElement.clientHeight;o.style.width=s+"px",o.style.height=i+"px"}},{key:"click",value:function(o){var s=this.container;s===o.target&&this.trigger("click",{e:o,container:s})}}]),t}(Nt),fc=function(){function e(){ve(this,e),E(this,"list",[])}return ge(e,[{key:"add",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r?this.contains(t)||this.list.push(t):this.list=[t]}},{key:"clear",value:function(){this.list=[]}},{key:"remove",value:function(t){this.list.splice(this.list.indexOf(t),1)}},{key:"contains",value:function(t){return this.list.indexOf(t)!==-1}},{key:"each",value:function(t){this.list.forEach(t)}}]),e}(),ei=ge(function e(n){ve(this,e),E(this,"handlers",void 0),this.handlers=Er({warn:[console.warn],error:[console.error],componentregister:[],destroy:[]},n)}),pc=function(e){ze(t,e);var n=Ke(t);function t(){return ve(this,t),n.call(this,{nodecreate:[],nodecreated:[],noderemove:[],noderemoved:[],connectioncreate:[],connectioncreated:[],connectionremove:[],connectionremoved:[],translatenode:[],nodetranslate:[],nodetranslated:[],nodedraged:[],nodedragged:[],selectnode:[],multiselectnode:[],nodeselect:[],nodeselected:[],rendernode:[],rendersocket:[],rendercontrol:[],renderconnection:[],updateconnection:[],keydown:[],keyup:[],translate:[],translated:[],zoom:[],zoomed:[],click:[],mousemove:[],contextmenu:[],import:[],export:[],process:[],clear:[]})}return ge(t)}(ei),ti=function(e){ze(t,e);var n=Ke(t);function t(r,o){var s;return ve(this,t),s=n.call(this,r,new pc),E(j(s),"nodes",[]),E(j(s),"selected",new fc),E(j(s),"view",void 0),s.view=new dc(o,s.components,j(s)),s.on("destroy",It("keydown",function(i){return s.trigger("keydown",i)})),s.on("destroy",It("keyup",function(i){return s.trigger("keyup",i)})),s.on("selectnode",function(i){var a=i.node,u=i.accumulate;return s.selectNode(a,u)}),s.on("nodeselected",function(){return s.selected.each(function(i){var a=s.view.nodes.get(i);a&&a.onStart()})}),s.on("translatenode",function(i){var a=i.dx,u=i.dy;return s.selected.each(function(c){var l=s.view.nodes.get(c);l&&l.onDrag(a,u)})}),s}return ge(t,[{key:"addNode",value:function(o){this.trigger("nodecreate",o)&&(this.nodes.push(o),this.view.addNode(o),this.trigger("nodecreated",o))}},{key:"removeNode",value:function(o){var s=this;this.trigger("noderemove",o)&&(o.getConnections().forEach(function(i){return s.removeConnection(i)}),this.nodes.splice(this.nodes.indexOf(o),1),this.view.removeNode(o),this.trigger("noderemoved",o))}},{key:"connect",value:function(o,s){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(this.trigger("connectioncreate",{output:o,input:s}))try{var a=o.connectTo(s);a.data=i,this.view.addConnection(a),this.trigger("connectioncreated",a)}catch(u){this.trigger("warn",u)}}},{key:"removeConnection",value:function(o){this.trigger("connectionremove",o)&&(this.view.removeConnection(o),o.remove(),this.trigger("connectionremoved",o))}},{key:"selectNode",value:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.nodes.indexOf(o)===-1)throw new Error("Node not exist in list");this.trigger("nodeselect",o)&&(this.selected.add(o,s),this.trigger("nodeselected",o))}},{key:"getComponent",value:function(o){var s=this.components.get(o);if(!s)throw"Component ".concat(o," not found");return s}},{key:"register",value:function(o){Dn(Xt(t.prototype),"register",this).call(this,o),o.editor=this}},{key:"clear",value:function(){var o=this;qe(this.nodes).forEach(function(s){return o.removeNode(s)}),this.trigger("clear")}},{key:"toJSON",value:function(){var o={id:this.id,nodes:{}};return this.nodes.forEach(function(s){return o.nodes[s.id]=s.toJSON()}),this.trigger("export",o),o}},{key:"beforeImport",value:function(o){var s=qr.validate(this.id,o);return s.success?(this.silent=!0,this.clear(),this.trigger("import",o),!0):(this.trigger("warn",s.msg),!1)}},{key:"afterImport",value:function(){return this.silent=!1,!0}},{key:"fromJSON",value:function(){var r=Pe(se().mark(function s(i){var a=this,u;return se().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.beforeImport(i)){l.next=2;break}return l.abrupt("return",!1);case 2:return u={},l.prev=3,l.next=6,Promise.all(Object.keys(i.nodes).map(function(){var f=Pe(se().mark(function h(m){var P,I;return se().wrap(function($){for(;;)switch($.prev=$.next){case 0:return P=i.nodes[m],I=a.getComponent(P.name),$.next=4,I.build(Ht.fromJSON(P));case 4:u[m]=$.sent,a.addNode(u[m]);case 6:case"end":return $.stop()}},h)}));return function(h){return f.apply(this,arguments)}}()));case 6:Object.keys(i.nodes).forEach(function(f){var h=i.nodes[f],m=u[f];Object.keys(h.outputs).forEach(function(P){var I=h.outputs[P];I.connections.forEach(function(D){var $=D.node,q=D.data,T=m.outputs.get(P),K=u[$].inputs.get(D.input);if(!T||!K)return a.trigger("error","IO not found for node ".concat(m.id));a.connect(T,K,q)})})}),l.next=13;break;case 9:return l.prev=9,l.t0=l.catch(3),this.trigger("warn",l.t0),l.abrupt("return",!this.afterImport());case 13:return l.abrupt("return",this.afterImport());case 14:case"end":return l.stop()}},s,this,[[3,9]])}));function o(s){return r.apply(this,arguments)}return o}()}]),t}(Xs),yn=function(e){ze(t,e);var n=Ke(t);function t(r,o,s){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return ve(this,t),n.call(this,r,o,s,i)}return ge(t,[{key:"hasConnection",value:function(){return this.connections.length>0}},{key:"connectTo",value:function(o){if(!this.socket.compatibleWith(o.socket))throw new Error("Sockets not compatible");if(!o.multipleConnections&&o.hasConnection())throw new Error("Input already has one connection");if(!this.multipleConnections&&this.hasConnection())throw new Error("Output already has one connection");var s=new Zs(this,o);return this.connections.push(s),s}},{key:"connectedTo",value:function(o){return this.connections.some(function(s){return s.input===o})}},{key:"toJSON",value:function(){return{connections:this.connections.map(function(o){if(!o.input.node)throw new Error("Node not added to Input");return{node:o.input.node.id,input:o.input.key,data:o.data}})}}}]),t}(Ur),bn=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ve(this,e),E(this,"name",void 0),E(this,"data",void 0),E(this,"compatible",[]),this.name=n,this.data=t,this.compatible=[]}return ge(e,[{key:"combineWith",value:function(t){this.compatible.push(t)}},{key:"compatibleWith",value:function(t){return this===t||this.compatible.includes(t)}}]),e}();function hc(e,n){return e.filter(function(t){return n.indexOf(t)!==-1})}var ni=function(){function e(n){ve(this,e),E(this,"nodes",void 0),this.nodes=n}return ge(e,[{key:"extractInputNodes",value:function(t){var r=this;return Object.keys(t.inputs).reduce(function(o,s){var i=t.inputs[s].connections,a=(i||[]).reduce(function(u,c){return[].concat(qe(u),[r.nodes[c.node]])},[]);return[].concat(qe(o),qe(a))},[])}},{key:"findSelf",value:function(t,r){var o=hc(t,r);if(o.length)return o[0];var s=jo(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value,u=[a].concat(qe(t)),c=this.findSelf(u,this.extractInputNodes(a));if(c)return c}}catch(l){s.e(l)}finally{s.f()}return null}},{key:"detect",value:function(){var t=this,r=Object.keys(this.nodes).map(function(u){return t.nodes[u]}),o=jo(r),s;try{for(o.s();!(s=o.n()).done;){var i=s.value,a=this.findSelf([i],this.extractInputNodes(i));if(a)return a}}catch(u){o.e(u)}finally{o.f()}return null}}]),e}(),ot={AVAILABLE:0,PROCESSED:1,ABORT:2},mc=function(e){ze(t,e);var n=Ke(t);function t(){return ve(this,t),n.call(this,{})}return ge(t)}(ei),ri=function(e){ze(t,e);var n=Ke(t);function t(r){var o;return ve(this,t),o=n.call(this,r,new mc),E(j(o),"args",[]),E(j(o),"data",null),E(j(o),"state",ot.AVAILABLE),E(j(o),"forwarded",new Set),E(j(o),"onAbort",function(){}),o}return ge(t,[{key:"clone",value:function(){var o=new t(this.id);return this.components.forEach(function(s){return o.register(s)}),o}},{key:"throwError",value:function(){var r=Pe(se().mark(function s(i){var a,u=arguments;return se().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return a=u.length>1&&u[1]!==void 0?u[1]:null,l.next=3,this.abort();case 3:return this.trigger("error",{message:i,data:a}),this.processDone(),l.abrupt("return","error");case 6:case"end":return l.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"processStart",value:function(){return this.state===ot.AVAILABLE?(this.state=ot.PROCESSED,!0):(this.state===ot.ABORT||console.warn(`The process is busy and has not been restarted.
                Use abort() to force it to complete`),!1)}},{key:"processDone",value:function(){var o=this.state!==ot.ABORT;return this.state=ot.AVAILABLE,o||(this.onAbort(),this.onAbort=function(){}),o}},{key:"abort",value:function(){var r=Pe(se().mark(function s(){var i=this;return se().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){i.state===ot.PROCESSED?(i.state=ot.ABORT,i.onAbort=c):i.state===ot.ABORT?(i.onAbort(),i.onAbort=c):c()}));case 1:case"end":return u.stop()}},s)}));function o(){return r.apply(this,arguments)}return o}()},{key:"lock",value:function(){var r=Pe(se().mark(function s(i){return se().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",new Promise(function(c){i.unlockPool=i.unlockPool||[],i.busy&&!i.outputData?i.unlockPool.push(c):c(),i.busy=!0}));case 1:case"end":return u.stop()}},s)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"unlock",value:function(o){o.unlockPool.forEach(function(s){return s()}),o.unlockPool=[],o.busy=!1}},{key:"extractInputData",value:function(){var r=Pe(se().mark(function s(i){var a=this,u,c,l,f,h,m,P;return se().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:u={},c=0,l=Object.keys(i.inputs);case 2:if(!(c<l.length)){D.next=13;break}return f=l[c],h=i.inputs[f],m=h.connections,D.next=8,Promise.all(m.map(function(){var $=Pe(se().mark(function q(T){var K,X;return se().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return K=a.data.nodes[T.node],pe.next=3,a.processNode(K);case 3:if(X=pe.sent,X){pe.next=8;break}a.abort(),pe.next=9;break;case 8:return pe.abrupt("return",X[T.output]);case 9:case"end":return pe.stop()}},q)}));return function(q){return $.apply(this,arguments)}}()));case 8:P=D.sent,u[f]=P;case 10:c++,D.next=2;break;case 13:return D.abrupt("return",u);case 14:case"end":return D.stop()}},s)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"processWorker",value:function(){var r=Pe(se().mark(function s(i){var a,u,c;return se().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,this.extractInputData(i);case 2:return a=f.sent,u=this.components.get(i.name),c={},f.prev=5,f.next=8,u.worker.apply(u,[i,a,c].concat(qe(this.args)));case 8:f.next=14;break;case 10:f.prev=10,f.t0=f.catch(5),this.abort(),this.trigger("warn",f.t0);case 14:return f.abrupt("return",c);case 15:case"end":return f.stop()}},s,this,[[5,10]])}));function o(s){return r.apply(this,arguments)}return o}()},{key:"processNode",value:function(){var r=Pe(se().mark(function s(i){return se().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!(this.state===ot.ABORT||!i)){u.next=2;break}return u.abrupt("return",null);case 2:return u.next=4,this.lock(i);case 4:if(i.outputData){u.next=8;break}return u.next=7,this.processWorker(i);case 7:i.outputData=u.sent;case 8:return this.unlock(i),u.abrupt("return",i.outputData);case 10:case"end":return u.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"forwardProcess",value:function(){var r=Pe(se().mark(function s(i){var a=this;return se().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(this.state!==ot.ABORT){c.next=2;break}return c.abrupt("return",null);case 2:return c.next=4,Promise.all(Object.keys(i.outputs).map(function(){var l=Pe(se().mark(function f(h){var m;return se().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return m=i.outputs[h],I.next=3,Promise.all(m.connections.map(function(){var D=Pe(se().mark(function $(q){var T;return se().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(T=a.data.nodes[q.node],a.forwarded.has(T)){X.next=7;break}return a.forwarded.add(T),X.next=5,a.processNode(T);case 5:return X.next=7,a.forwardProcess(T);case 7:case"end":return X.stop()}},$)}));return function($){return D.apply(this,arguments)}}()));case 3:return I.abrupt("return",I.sent);case 4:case"end":return I.stop()}},f)}));return function(f){return l.apply(this,arguments)}}()));case 4:return c.abrupt("return",c.sent);case 5:case"end":return c.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"copy",value:function(o){return o=Object.assign({},o),o.nodes=Object.assign({},o.nodes),Object.keys(o.nodes).forEach(function(s){o.nodes[s]=Object.assign({},o.nodes[s])}),o}},{key:"validate",value:function(){var r=Pe(se().mark(function s(i){var a,u,c;return se().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:if(a=qr.validate(this.id,i),u=new ni(i.nodes),a.success){f.next=6;break}return f.next=5,this.throwError(a.msg);case 5:return f.abrupt("return",f.sent);case 6:if(c=u.detect(),!c){f.next=11;break}return f.next=10,this.throwError("Recursion detected",c);case 10:return f.abrupt("return",f.sent);case 11:return f.abrupt("return",!0);case 12:case"end":return f.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"processStartNode",value:function(){var r=Pe(se().mark(function s(i){var a;return se().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(i){c.next=2;break}return c.abrupt("return");case 2:if(a=this.data.nodes[i],a){c.next=7;break}return c.next=6,this.throwError("Node with such id not found");case 6:return c.abrupt("return",c.sent);case 7:return c.next=9,this.processNode(a);case 9:return c.next=11,this.forwardProcess(a);case 11:case"end":return c.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()},{key:"processUnreachable",value:function(){var r=Pe(se().mark(function s(){var i,a,u;return se().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:i=this.data,l.t0=se().keys(i.nodes);case 2:if((l.t1=l.t0()).done){l.next=12;break}if(a=l.t1.value,u=i.nodes[a],!(typeof u.outputData>"u")){l.next=10;break}return l.next=8,this.processNode(u);case 8:return l.next=10,this.forwardProcess(u);case 10:l.next=2;break;case 12:case"end":return l.stop()}},s,this)}));function o(){return r.apply(this,arguments)}return o}()},{key:"process",value:function(){var r=Pe(se().mark(function s(i){var a,u,c,l,f=arguments;return se().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(a=f.length>1&&f[1]!==void 0?f[1]:null,this.processStart()){m.next=3;break}return m.abrupt("return");case 3:if(this.validate(i)){m.next=5;break}return m.abrupt("return");case 5:for(this.data=this.copy(i),u=f.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=f[l];return this.args=c,this.forwarded=new Set,m.next=11,this.processStartNode(a);case 11:return m.next=13,this.processUnreachable();case 13:return m.abrupt("return",this.processDone()?"success":"aborted");case 14:case"end":return m.stop()}},s,this)}));function o(s){return r.apply(this,arguments)}return o}()}]),t}(Xs),fe={Engine:ri,Recursion:ni,Component:Ys,Control:ir,Connection:Zs,Emitter:Nt,Input:Jr,IO:Ur,Node:Ht,NodeEditor:ti,Output:yn,Socket:bn};class vc{constructor(){A(this,"listeners",new Map);this.listeners}on(n,t,r){for(const o of n)this.listeners.get(o)||this.listeners.set(o,new Map),this.listeners.get(o).set(t,r)}removeListener(n){for(const t of this.listeners.keys())this.listeners.get(t)&&this.listeners.get(t).delete(n)}trigger(n,...t){if(this.listeners.get(n))for(const r of this.listeners.get(n).keys())new Promise(o=>setTimeout(o,0)).then(()=>{this.listeners.has(n)&&this.listeners.get(n).has(r)&&this.listeners.get(n).get(r)(n,t)})}clear(){this.listeners=new Map}}/*!
* rete-vue-render-plugin v1.0.0-rc2 
* (c) 2021 Vitaliy Stoliarov 
* Released under the MIT license.
*/function oi(e){if(!e||typeof window>"u")return;const n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n),e}function Vo(e,n,t,r,o,s,i){try{var a=e[s](i),u=a.value}catch(c){t(c);return}a.done?n(u):Promise.resolve(u).then(r,o)}function Fo(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var s=e.apply(n,t);function i(u){Vo(s,r,o,i,a,"next",u)}function a(u){Vo(s,r,o,i,a,"throw",u)}i(void 0)})}}function gc(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function si(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?Object(arguments[n]):{},r=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(t).filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.forEach(function(o){gc(e,o,t[o])})}return e}var yc={props:["node","editor","bindSocket","bindControl"],methods:{inputs:function(){return Array.from(this.node.inputs.values())},outputs:function(){return Array.from(this.node.outputs.values())},controls:function(){return Array.from(this.node.controls.values())},selected:function(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount:function(n,t){t.instance.bindSocket(n,t.arg,t.value)},updated:function(n,t){t.instance.bindSocket(n,t.arg,t.value)}},control:{beforeMount:function(n,t){t.value&&t.instance.bindControl(n,t.value)}}}};function ii(e){var n=function(r){return r.toLowerCase().replace(/ /g,"-")};return Array.isArray(e)?e.map(n):n(e)}var _n=Ze({props:["type","socket"],setup(e){return{className:xt(()=>ii([e.type,e.socket.name]))}}});const bc=Os(),wc=bc((e,n,t,r,o,s)=>(V(),Qe("div",{class:["socket",e.className],title:e.socket.name},null,10,["title"])));oi(`.socket[data-v-51f75f2c] {
  display: inline-block;
  cursor: pointer;
  border: 1px solid white;
  border-radius: 12px;
  width: 24px;
  height: 24px;
  margin: 6px;
  vertical-align: middle;
  background: #96b38a;
  z-index: 2;
  box-sizing: border-box;
}
.socket[data-v-51f75f2c][data-v-51f75f2c]:hover {
  border-width: 4px;
}
.socket[data-v-51f75f2c].multiple[data-v-51f75f2c] {
  border-color: yellow;
}
.socket[data-v-51f75f2c].output[data-v-51f75f2c] {
  margin-right: -12px;
}
.socket[data-v-51f75f2c].input[data-v-51f75f2c] {
  margin-left: -12px;
}`);_n.render=wc;_n.__scopeId="data-v-51f75f2c";_n.__file="src/Socket.vue";var kn=Ze({name:"node",components:{Socket:_n},mixins:[yc],setup(e){const n=()=>e.editor.selected.contains(e.node)?"selected":"";return{className:xt(()=>ii([n(),e.node.name]))}}});const _c=Os();Es("data-v-f9277b0a");const kc={class:"title"},Cc={class:"output-title"},Sc={class:"input-control"};Is();const Ec=_c((e,n,t,r,o,s)=>{const i=wt("Socket"),a=Vn("socket"),u=Vn("control");return V(),Qe("div",{class:["node",e.className]},[me("div",kc,Fe(e.node.name),1),Ge(" Outputs"),(V(!0),Qe(le,null,Be(e.outputs(),c=>(V(),Qe("div",{class:"output",key:c.key},[me("div",Cc,Fe(c.name),1),et(me(i,{type:"output",socket:c.socket},null,8,["socket"]),[[a,c,"output"]])]))),128)),Ge(" Controls"),(V(!0),Qe(le,null,Be(e.controls(),c=>et((V(),Qe("div",{class:"control",key:c.key},null,512)),[[u,c]])),128)),Ge(" Inputs"),(V(!0),Qe(le,null,Be(e.inputs(),c=>(V(),Qe("div",{class:"input",key:c.key},[et(me(i,{type:"input",socket:c.socket},null,8,["socket"]),[[a,c,"input"]]),et(me("div",{class:"input-title"},Fe(c.name),513),[[Wn,!c.showControl()]]),et(me("div",Sc,null,512),[[Wn,c.showControl()],[u,c.control]])]))),128))],2)});oi(`.node[data-v-f9277b0a] {
  background: rgba(110, 136, 255, 0.8);
  border: 2px solid #4e58bf;
  border-radius: 10px;
  cursor: pointer;
  min-width: 180px;
  height: auto;
  padding-bottom: 6px;
  box-sizing: content-box;
  position: relative;
  user-select: none;
}
.node[data-v-f9277b0a][data-v-f9277b0a]:hover {
  background: rgba(130, 153, 255, 0.8);
}
.node[data-v-f9277b0a].selected[data-v-f9277b0a] {
  background: #ffd92c;
  border-color: #e3c000;
}
.node[data-v-f9277b0a] .title[data-v-f9277b0a] {
  color: white;
  font-family: sans-serif;
  font-size: 18px;
  padding: 8px;
}
.node[data-v-f9277b0a] .output[data-v-f9277b0a] {
  text-align: right;
}
.node[data-v-f9277b0a] .input[data-v-f9277b0a] {
  text-align: left;
}
.node[data-v-f9277b0a] .input-title[data-v-f9277b0a], .node[data-v-f9277b0a] .output-title[data-v-f9277b0a] {
  vertical-align: middle;
  color: white;
  display: inline-block;
  font-family: sans-serif;
  font-size: 14px;
  margin: 6px;
  line-height: 24px;
}
.node[data-v-f9277b0a] .input-control[data-v-f9277b0a] {
  z-index: 1;
  width: calc(100% - 36px);
  vertical-align: middle;
  display: inline-block;
}
.node[data-v-f9277b0a] .control[data-v-f9277b0a] {
  padding: 6px 18px;
}`);kn.render=Ec;kn.__scopeId="data-v-f9277b0a";kn.__file="src/Node.vue";function ai(e,n,t){var r=arguments.length>4?arguments[4]:void 0,o=sr(n,t);return r.vueContext=o.mount(e),o}function Ic(e,n,t,r){var o=t.el,s=t.node,i=t.component,a=t.bindSocket,u=t.bindControl,c=i.component||n||kn,l=si({},i.props,{node:s,editor:e,bindSocket:a,bindControl:u});return ai(o,c,l,r,s)}function Oc(e,n,t){var r=n.el,o=n.control,s=o.component,i=si({},o.props,{getData:o.getData.bind(o),putData:o.putData.bind(o)});return ai(r,s,i,t,o)}var sn=function(n){return new Promise(function(t){if(!n.vueContext)return t();n.vueContext.$forceUpdate(),n.vueContext.$nextTick(t)})};function xc(e,n){var t=n.component,r=n.options;e.on("rendernode",function(o){var s=o.el,i=o.node,a=o.component,u=o.bindSocket,c=o.bindControl;a.render&&a.render!=="vue"||(i._vue=Ic(e,t,{el:s,node:i,component:a,bindSocket:u,bindControl:c},r),i.update=Fo(regeneratorRuntime.mark(function l(){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,sn(i);case 2:return h.abrupt("return",h.sent);case 3:case"end":return h.stop()}},l)})))}),e.on("rendercontrol",function(o){var s=o.el,i=o.control;i.render&&i.render!=="vue"||(i._vue=Oc(e,{el:s,control:i},r),i.update=Fo(regeneratorRuntime.mark(function a(){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,sn(i);case 2:return c.abrupt("return",c.sent);case 3:case"end":return c.stop()}},a)})))}),e.on("connectioncreated connectionremoved",function(o){sn(o.output.node),sn(o.input.node)}),e.on("nodeselected",function(){e.nodes.map(sn)})}var Pc={name:"vue-render",install:xc,Node:kn,Socket:_n};/*!
* rete-connection-plugin v0.9.0 
* (c) 2019 Vitaliy Stoliarov 
* Released under the MIT license.
*/function Nc(e){if(e&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n),e}}function Gr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Bo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yr(e,n,t){return n&&Bo(e.prototype,n),t&&Bo(e,t),e}function qt(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ui(e,n){return $c(e)||Tc(e,n)||Ac()}function $c(e){if(Array.isArray(e))return e}function Tc(e,n){var t=[],r=!0,o=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(r=(a=i.next()).done)&&(t.push(a.value),!(n&&t.length===n));r=!0);}catch(u){o=!0,s=u}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return t}function Ac(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function Pn(e){return e.toLowerCase().replace(/ /g,"-")}function ci(e,n){return e.get(n)||(n.parentElement?ci(e,n.parentElement):null)}function Mc(e,n){var t=ui(e,4),r=t[0],o=t[1],s=t[2],i=t[3],a=r+Math.abs(s-r)*n,u=s-Math.abs(s-r)*n;return"M ".concat(r," ").concat(o," C ").concat(a," ").concat(o," ").concat(u," ").concat(i," ").concat(s," ").concat(i)}function zn(e,n,t){var r={points:n,connection:t,d:""};return e.trigger("connectionpath",r),r.d||Mc(n,.4)}function Zr(e){var n=e.el,t=e.d,r=n.querySelector(".connection path");if(!r)throw new Error("Path of connection was broken");r.setAttribute("d",t)}function li(e){var n,t=e.el,r=e.d,o=e.connection,s=o?["input-"+Pn(o.input.name),"output-"+Pn(o.output.name),"socket-input-"+Pn(o.input.socket.name),"socket-output-"+Pn(o.output.socket.name)]:[],i=document.createElementNS("http://www.w3.org/2000/svg","svg"),a=document.createElementNS("http://www.w3.org/2000/svg","path");(n=i.classList).add.apply(n,["connection"].concat(s)),a.classList.add("main-path"),a.setAttribute("d",r),i.appendChild(a),t.appendChild(i),Zr({el:t,d:r})}var Dc=function(){function e(n,t){Gr(this,e),this.emitter=n,this.editorView=t,qt(this,"el",void 0),this.el=document.createElement("div"),this.el.style.position="absolute",this.editorView.area.appendChild(this.el)}return Yr(e,[{key:"updatePseudoConnection",value:function(t){t!==null?this.renderConnection(t):this.el.parentElement&&(this.el.innerHTML="")}},{key:"getPoints",value:function(t){var r=this.editorView.area.mouse;if(!t.node)throw new Error("Node in output/input not found");var o=this.editorView.nodes.get(t.node);if(!o)throw new Error("Node view not found");var s=o.getSocketPosition(t),i=ui(s,2),a=i[0],u=i[1];return t instanceof yn?[a,u,r.x,r.y]:[r.x,r.y,a,u]}},{key:"updateConnection",value:function(t){var r=zn(this.emitter,this.getPoints(t));Zr({el:this.el,d:r})}},{key:"renderConnection",value:function(t){var r=zn(this.emitter,this.getPoints(t));li({el:this.el,d:r})}}]),e}(),Lc=function(){function e(n){var t=this;Gr(this,e),qt(this,"editor",void 0),qt(this,"_io",null),qt(this,"view",void 0),this.editor=n,this.view=new Dc(n,n.view),n.on("mousemove",function(){return t.io&&t.view.updateConnection(t.io)})}return Yr(e,[{key:"reset",value:function(){this.io=null}},{key:"pickOutput",value:function(t){if(this.editor.trigger("connectionpick",t)){if(this.io instanceof Jr){!t.multipleConnections&&t.hasConnection()&&this.editor.removeConnection(t.connections[0]),this.editor.connect(t,this.io),this.reset();return}this.io&&this.reset(),this.io=t}}},{key:"pickInput",value:function(t){var r=this;if(this.editor.trigger("connectionpick",t)){if(this.io===null)return t.hasConnection()?(this.io=t.connections[0].output,this.editor.removeConnection(t.connections[0])):this.io=t,!0;if(!t.multipleConnections&&t.hasConnection()&&this.editor.removeConnection(t.connections[0]),!this.io.multipleConnections&&this.io.hasConnection()&&this.editor.removeConnection(this.io.connections[0]),this.io instanceof yn&&this.io.connectedTo(t)){var o=t.connections.find(function(s){return s.output===r.io});o&&this.editor.removeConnection(o)}this.io instanceof yn&&(this.editor.connect(this.io,t),this.reset())}}},{key:"pickConnection",value:function(t){var r=t.output;this.editor.removeConnection(t),this.io=r}},{key:"io",get:function(){return this._io},set:function(t){this._io=t,this.view.updatePseudoConnection(t)}}]),e}(),Rc=function(){function e(n){Gr(this,e),qt(this,"picker",void 0),qt(this,"target",void 0),this.picker=n,this.target=null}return Yr(e,[{key:"act",value:function(t){var r=t.input,o=t.output;this.unlock(r||o)||(r?this.picker.pickInput(r):o?this.picker.pickOutput(o):this.picker.reset())}},{key:"start",value:function(t,r){this.act(t),this.target=r}},{key:"complete",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.act(t)}},{key:"hasTarget",value:function(){return Boolean(this.target)}},{key:"unlock",value:function(t){var r=this.target;return this.target=null,r&&r===t}}]),e}();Nc(`.connection {
  overflow: visible !important;
  position: absolute;
  z-index: -1;
  pointer-events: none; }
  .connection > * {
    pointer-events: all; }
  .connection .main-path {
    fill: none;
    stroke-width: 5px;
    stroke: steelblue; }
`);function jc(e){e.bind("connectionpath"),e.bind("connectiondrop"),e.bind("connectionpick"),e.bind("resetconnection");var n=new Lc(e),t=new Rc(n),r=new WeakMap;function o(i){var a=r.get(this);if(a){var u=a.input,c=a.output;e.view.container.dispatchEvent(new PointerEvent("pointermove",i)),i.preventDefault(),i.stopPropagation(),t.start({input:u,output:c},u||c)}}function s(i){var a=document.elementFromPoint(i.clientX,i.clientY);n.io&&e.trigger("connectiondrop",n.io),a&&t.complete(ci(r,a)||{})}e.on("resetconnection",function(){return t.complete()}),e.on("rendersocket",function(i){var a=i.el,u=i.input,c=i.output;r.set(a,{input:u,output:c}),a.removeEventListener("pointerdown",o),a.addEventListener("pointerdown",o)}),window.addEventListener("pointerup",s),e.on("renderconnection",function(i){var a=i.el,u=i.connection,c=i.points,l=zn(e,c,u);li({el:a,d:l,connection:u})}),e.on("updateconnection",function(i){var a=i.el,u=i.connection,c=i.points,l=zn(e,c,u);Zr({el:a,d:l})}),e.on("destroy",function(){window.removeEventListener("pointerup",s)})}var Vc={name:"connection",install:jc};class Fc{constructor(n,t){A(this,"name");A(this,"components");this.name=n,this.components=t}install(n,t){typeof n==typeof ee?n.registerAll(this.components):this.components.forEach(r=>{n.register(r)})}}class Ho{constructor(n){A(this,"name");A(this,"refSocket");A(this,"valSocket");this.name=n,this.refSocket=new bn(n+" ref"),this.valSocket=new bn(n+" val")}}class Bc{constructor(){A(this,"anyTypeSocket",new Ho("any"));A(this,"anySocket",new bn("*"));A(this,"typeSocket",new bn("type"));A(this,"types");A(this,"actSocket",()=>this.get("act").valSocket);A(this,"eventSocket",()=>this.get("act").refSocket);A(this,"numSocket",()=>this.get("number"));A(this,"textSocket",()=>this.get("text"));A(this,"boolSocket",()=>this.get("boolean"));A(this,"processSocket",()=>this.get("process").refSocket);this.types=new Map,this.anySocket.combineWith(this.anyTypeSocket.refSocket),this.anySocket.combineWith(this.anyTypeSocket.valSocket),this.anyTypeSocket.valSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(this.anySocket),this.types.set("any",this.anyTypeSocket)}typeList(){let n=Array.from(this.types.entries()).map(([o,s])=>s),t=n.map(o=>o.valSocket),r=n.map(o=>o.refSocket);return[this.anySocket,this.typeSocket,...t,...r].sort()}add(n){if(!(n in this.types.keys())){const t=new Ho(n);this.types.set(n,t),t.refSocket.combineWith(this.anyTypeSocket.refSocket),t.valSocket.combineWith(this.anyTypeSocket.valSocket),t.valSocket.combineWith(this.anySocket),t.refSocket.combineWith(this.anySocket),this.anyTypeSocket.refSocket.combineWith(t.refSocket),this.anyTypeSocket.valSocket.combineWith(t.valSocket),this.anySocket.combineWith(t.refSocket),this.anySocket.combineWith(t.valSocket)}}getRefByVal(n){return n.name=="type"||n.name=="*"?n:this.get(n.name.replace(" val","")).refSocket}getValByRef(n){return n.name=="type"||n.name=="*"?n:this.get(n.name.replace(" ref","")).valSocket}getSocket(n){return this.typeList().find(t=>t.name==n)}get(n){return this.types.get(n)}}const re=new Bc;re.add("text");re.add("number");re.add("boolean");re.add("act");re.add("process");re.numSocket().valSocket.combineWith(re.textSocket().valSocket);class Xe extends Ys{worker(n,t,r,o){if(o.compilerCommands){let s={};Object.keys(t).forEach(u=>s[u]=t[u][0]);let i=n.name.toLowerCase()+"_"+n.id,a=this.compile(n,s,i);Object.keys(t).forEach(u=>{t[u][0]}),a.commands=a.commands.length>0?[{node_id:n.id,commands:`
//Process Node ${n.name}-${n.id}
`},...a.commands]:[],o.compilerCommands.push(a),Object.keys(n.outputs).forEach(u=>{r[u]=a.outputs[u]});return}else{let s={};if(Object.keys(t).forEach(i=>{s[i]=t[i].length>0?t[i][0]:a=>{}}),Object.keys(n.outputs).forEach(i=>{r[i]=this.process(n,i,s,o)}),!o.silent&&(Object.keys(n.outputs).find(i=>n.outputs[i].connections.length==0)||Object.keys(n.outputs).length==0))for(let i of Object.keys(n.outputs))this.process(n,i,s,o)({})}}}class Hc extends Xe{constructor(){super("ConditionNode");A(this,"process",(t,r,o,s)=>{switch(r){case"res":return i=>{if(!s.silent){const u=this.editor.nodes.find(c=>c.id==t.id);if(u){const c=u.getConnections().find((m,P)=>m.input.key=="if"),l=u.getConnections().find((m,P)=>m.input.key=="else"),f=u.getConnections().find((m,P)=>m.input.key=="res");let h=re.anySocket;c&&c.output.socket?h=c.output.socket:l&&l.output.socket?h=l.output.socket:f&&f.output.socket&&(h=f.output.socket),this.reconnectInput(u.inputs.get("if"),c,h),this.reconnectInput(u.inputs.get("else"),l,h),this.reconnectOutput(u.outputs.get("res"),f,h)}}return(o.bool(i)?o.if:o.else)(i)};default:return i=>{}}});A(this,"data",{i18nKeys:["cond"],category:[["controlflow"]]})}compile(t,r,o){return{node_id:t.id,commands:[],outputs:{res:{node_id:t.id,commands:[{node_id:t.id,commands:" ( ( "},r.bool,{node_id:t.id,commands:" )?"},r.if,{node_id:t.id,commands:":"},r.else,{node_id:t.id,commands:" ) "}]}},processDependencys:[]}}async builder(t){var a,u,c,l;const r=new fe.Input("bool",(a=U(["cond"]))!=null?a:"Condition",re.boolSocket().valSocket),o=new fe.Input("if",(u=U(["if"]))!=null?u:"If",re.anySocket),s=new fe.Input("else",(c=U(["else"]))!=null?c:"Else",re.anySocket),i=new fe.Output("res",(l=U(["res"]))!=null?l:"Result",re.anySocket);t.addInput(r).addInput(o).addInput(s).addOutput(i)}reconnectOutput(t,r,o){t&&(o.compatibleWith(t.socket)||r==null||r.remove(),t.socket=o)}reconnectInput(t,r,o){t&&(o.compatibleWith(t.socket)||r==null||r.remove(),t.socket=o)}}class di extends ir{constructor(t,r){super(r);A(this,"default");this.default=t}setValue(t){this.vueContext.value=t!=null?t:this.default}getValue(){var t;return(t=this.vueContext.value)!=null?t:this.vueContext.value=this.default}}const Wc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueBoolComponent",data(){return{value:!1}},methods:{change(e){console.log(e.target.checked),this.readonly||(this.value=!this.value),this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)||!1}};const je=(e,n)=>{const t=e.__vccOpts||e;for(const[r,o]of n)t[r]=o;return t},zc={class:"control title"},Kc={class:"container"},Uc={class:"background-container"};function Jc(e,n,t,r,o,s){return V(),Z(le,null,[te("div",zc,Fe(t.title?t.title+":":""),1),te("div",Kc,[te("div",{class:"switch",onClick:n[0]||(n[0]=i=>s.change(i))},[te("div",Uc,[te("div",{class:Re("background "+(o.value?"checked":""))},null,2)]),te("div",{class:Re("box "+(o.value?"checked":""))},null,2)])])],64)}const qc=je(Wc,[["render",Jc],["__scopeId","data-v-eaf2cc8c"]]);class Xr extends di{constructor(t,r,o=!1,s=null){super(!1,r);A(this,"component");A(this,"props");A(this,"vueContext");this.component=qc,this.props={readonly:o,emitter:t,ikey:r,title:s}}}class Gc extends Xe{constructor(){super("BoolNode");A(this,"process",(t,r,o,s)=>{switch(r){case"bool":return i=>t.data.bool;default:return i=>{}}});A(this,"data",{i18nKeys:["bool"],category:[["values"]]})}compile(t,r,o){return{node_id:t.id,commands:[{commands:`const ${o} = ${t.data.bool}`,node_id:t.id}],outputs:{bool:{node_id:t.id,commands:`${o}`}},processDependencys:[]}}async builder(t){const r=new fe.Output("bool",U(["bool"])||"Boolean",re.boolSocket().valSocket);t.addControl(new Xr(o=>{var s;return(s=this.editor)==null?void 0:s.trigger("process")},"bool",!1)).addOutput(r)}}const Yc={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueNumComponent",data(){return{value:0}},methods:{change(e){this.value=+e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){var e;this.value=(e=this.getData(this.ikey))!=null?e:0}};const Zc={class:"control title"},Xc=["readonly","value"];function Qc(e,n,t,r,o,s){return V(),Z(le,null,[te("div",Zc,Fe(t.title?t.title+":":""),1),te("input",{type:"number",readonly:t.readonly,value:o.value,onInput:n[0]||(n[0]=i=>s.change(i)),onDblclick:n[1]||(n[1]=ct(()=>{},["stop"])),onPointerdown:n[2]||(n[2]=ct(()=>{},["stop"])),onPointermove:n[3]||(n[3]=ct(()=>{},["stop"]))},null,40,Xc)],64)}const el=je(Yc,[["render",Qc],["__scopeId","data-v-0ae98611"]]);class Ee extends di{constructor(t,r,o=!1,s=null){super(0,r);A(this,"component");A(this,"props");this.component=el,this.props={emitter:t,ikey:r,readonly:o,title:s}}}class tl extends Xe{constructor(){super("NumNode");A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>t.data.num;default:return i=>{}}});A(this,"data",{i18nKeys:["num"],category:[["values"]]})}compile(t,r,o){return{node_id:t.id,commands:[{commands:`const ${o} = ${t.data.num}`,node_id:t.id}],outputs:{num:{node_id:t.id,commands:`${o}`}},processDependencys:[]}}async builder(t){const r=new fe.Output("num",U(["num"])||"Number",re.numSocket().valSocket);t.addControl(new Ee(o=>{var s;return(s=ee.instance)==null?void 0:s.trigger("process")},"num",!1)).addOutput(r)}}const nl={props:["readonly","emitter","ikey","getData","putData","title"],name:"VueTextComponent",data(){return{value:""}},methods:{change(e){this.value=e.target.value,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){this.value=this.getData(this.ikey)}};const rl={class:"title control"},ol=["readonly","value"];function sl(e,n,t,r,o,s){return V(),Z(le,null,[te("div",rl,Fe(t.title?t.title+":":""),1),te("input",{type:"text",readonly:t.readonly,value:o.value,onInput:n[0]||(n[0]=i=>s.change(i)),onDblclick:n[1]||(n[1]=ct(()=>{},["stop"])),onPointerdown:n[2]||(n[2]=ct(()=>{},["stop"])),onPointermove:n[3]||(n[3]=ct(()=>{},["stop"]))},null,40,ol)],64)}const il=je(nl,[["render",sl],["__scopeId","data-v-561ca913"]]);class fi extends ir{constructor(t,r,o=!1,s=null){super(r);A(this,"component");A(this,"props");this.component=il,this.props={emitter:t,ikey:r,readonly:o,title:s}}setValue(t){this.vueContext.value=t}}class al extends Xe{constructor(){super("InputNumNode");A(this,"data",{i18nKeys:["numIn"],category:[["processes"]],process:{type:"input",socket:re.numSocket().valSocket}});A(this,"process",(t,r,o,s)=>{switch(r){case"val":return function(a){var l;let u=t.data.key;return s.silent?a[u]:(l=t.data.val)!=null?l:0};default:return i=>{}}})}async builder(t){var o;const r=new fe.Output("val",(o=U(["num"]))!=null?o:"Number",re.numSocket().valSocket);t.addControl(new Ee(s=>{var i;return(i=ee.instance)==null?void 0:i.trigger("process")},"val",!1)),t.addControl(new fi(s=>{var i;return(i=ee.instance)==null?void 0:i.trigger("process")},"key",!1)).addOutput(r)}compile(t,r,o){return{node_id:t.id,commands:[],outputs:{val:{node_id:t.id,commands:`inputs.${t.data.key}`}},processDependencys:[]}}}const ul=Ze({props:{readonly:Boolean,emitter:Function,ikey:String,getData:Function,putData:Function,title:String,options:Array},name:"VueSelectComponent",data(){return{value:0}},methods:{change(e){this.value=e,this.update()},update(){this.ikey&&this.putData(this.ikey,this.value),this.emitter(this.value)}},mounted(){var e;this.value=(e=this.getData(this.ikey))!=null?e:0}});const cl={class:"control title"},ll={key:0,value:"-1",style:{color:"red"}},dl=["value"];function fl(e,n,t,r,o,s){return V(),Z(le,null,[te("div",cl,Fe(e.title?e.title+":":""),1),et(te("select",{name:"drop_select",onDblclick:n[0]||(n[0]=ct(()=>{},["stop"])),onPointerdown:n[1]||(n[1]=ct(()=>{},["stop"])),onPointermove:n[2]||(n[2]=ct(()=>{},["stop"])),onChange:n[3]||(n[3]=i=>e.update()),"onUpdate:modelValue":n[4]||(n[4]=i=>e.value=i)},[e.value==-1?(V(),Z("option",ll,"Error")):Ge("",!0),(V(!0),Z(le,null,Be(e.options,(i,a)=>(V(),Z("option",{value:i},Fe(i),9,dl))),256))],544),[[Wu,e.value]])],64)}const pl=je(ul,[["render",fl],["__scopeId","data-v-96d6609f"]]);class hl extends ir{constructor(t,r,o=!1,s=null){super(r);A(this,"component");A(this,"props");A(this,"options",ee.getProcessIDs().map(({index:t,id:r})=>r.replace("@0.1.0","")));this.component=pl;const i=a=>{t(a)};this.props={emitter:i,ikey:r,readonly:o,title:s,options:this.options}}}class ml extends Xe{constructor(){super("ProcessNode");A(this,"data",{i18nKeys:["process"],category:[["processes"]]});A(this,"process",(t,r,o,s)=>{let i=ee.instance.processProcess(t.data.id);return a=>{let u={};if(Object.keys(o).forEach(c=>{u[c]=o[c](a)}),i||(i=ee.instance.processProcess(t.data.id),console.log("Fetching the Compiled Process")),i){let c;try{c=i(u)}catch{console.log("Error During:",i.toString())}if(c&&c[r])return c[r];console.trace()}}})}async builder(t){t.addControl(new hl(r=>{console.log("UpdateIO",r),this.updateIos(r,t)},"id",!1)),this.updateIos(t.data.id,t)}updateIos(t,r){let o=[],s=[],i=ee.getIOS(t);o=i.inputs,s=i.outputs,r.inputs.forEach(a=>{o.find(u=>a.key==u.key)||(a.connections.forEach(u=>{var c;(c=this.editor)==null||c.removeConnection(u),u.remove()}),r.removeInput(a))}),r.outputs.forEach(a=>{s.find(u=>a.key==u.key)||(a.connections.forEach(u=>{var c;(c=this.editor)==null||c.removeConnection(u),u.remove()}),r.removeOutput(a))}),o.forEach(a=>{r.inputs.has(a.key)||r.addInput(new Jr(a.key,a.name,a.socket))}),s.forEach(a=>{r.outputs.has(a.key)||r.addOutput(new yn(a.key,a.name,a.socket))}),r.update()}worker(t,r,o,s){var a;let i=(a=this.editor)==null?void 0:a.nodes.find(u=>u.id==t.id);i&&this.updateIos(t.data.id,i),super.worker(t,r,o,s)}compile(t,r,o){let s=t.data.id;o=s+"_"+t.id;let i=ee.getIOS(s).outputs,a={};console.log(t.data.id,t.id,r);let u=[{node_id:t.id,commands:"{"}];return Object.keys(r).forEach(c=>{u.length>1&&u.push({node_id:t.id,commands:", "}),u.push({node_id:t.id,commands:`${c}: `}),u.push(r[c])}),u.push({node_id:t.id,commands:"} "}),i.forEach(({key:c})=>{a[c]={node_id:t.id,commands:`( ${o}_get().${c} )`}}),{node_id:t.id,commands:[{node_id:t.id,commands:`
let ${o}_result;
                    
const ${o}_get = ()=> ${o}_result||=${s}(
                    `},{node_id:t.id,commands:u},{node_id:t.id,commands:` );
                    `}],outputs:a,processDependencys:[s]}}}class vl extends Xe{constructor(){super("OutputNumNode");A(this,"data",{i18nKeys:["numOut"],category:[["processes"]],process:{type:"output",socket:re.numSocket().valSocket}});A(this,"process",(t,r,o,s)=>{switch(r){case"res":return i=>{var u,c,l;let a=o.val(i);if(!s.silent){const f=(l=(c=(u=this.editor)==null?void 0:u.nodes)==null?void 0:c.find(h=>h.id==t.id))==null?void 0:l.controls.get("val");f==null||f.setValue(a)}return a};default:return i=>{}}})}async builder(t){var o;const r=new fe.Input("val",(o=U(["num"]))!=null?o:"Number",re.numSocket().valSocket);t.addControl(new Ee(s=>{},"val",!0)),t.addControl(new fi(s=>{var i;return(i=ee.instance)==null?void 0:i.trigger("process")},"key",!1)).addInput(r)}compile(t,r,o){return{node_id:t.id,commands:r.val&&t.data.key.length>0?[{node_id:t.id,commands:[{node_id:t.id,commands:`output.${t.data.key} = `},r.val]}]:[],outputs:{},processDependencys:[]}}worker(t,r,o,s){var c,l;super.worker(t,r,o,s);const i=t.data.key,a=(c=r.val[0])!=null?c:f=>{};let u=(l=this.process(t,"res",{val:a},s))!=null?l:f=>{};s.compilerOutputs&&(s.compilerOutputs[i]=u),s.silent||u({})}}class gl extends Xe{constructor(){super("Addition");A(this,"data",{i18nKeys:["add"],category:[["operators"]]});A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a+u;if(s.silent)console.log(a,"+",u,"=",c),console.trace();else{const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{num:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" + "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}async builder(t){const r=new fe.Input("num",U(["addIn"])||"Addend",re.numSocket().valSocket),o=new fe.Input("num2",U(["addIn"])||"Addend",re.numSocket().valSocket),s=new fe.Output("num",U(["res"])||"Result",re.numSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,U(["addIn"])||"Addend")),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,U(["addIn"])||"Addend")),t.addInput(r).addInput(o).addControl(new Ee((i,a)=>{},"preview",!0,U(["res"])||"Result")).addOutput(s)}}class yl extends Xe{constructor(){super("EqualNode");A(this,"category",["Mathe"]);A(this,"data",{i18nKeys:["equal"],category:[["operators"]]});A(this,"compIn1",()=>U(["compIn1"])||"A");A(this,"compIn2",()=>U(["compIn1"])||"B");A(this,"res",()=>U(["res"])||"Result");A(this,"process",(t,r,o,s)=>{switch(r){case"bool":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a==u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",this.compIn1(),re.numSocket().valSocket),o=new fe.Input("num2",this.compIn2(),re.numSocket().valSocket),s=new fe.Output("bool",this.res(),re.boolSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),t.addInput(r).addInput(o).addControl(new Xr(i=>{},"preview",!0,this.res())).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{bool:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" == "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}class bl extends Xe{constructor(){super("GreaterNode");A(this,"category",["Mathe"]);A(this,"data",{i18nKeys:["greater"],category:[["operators"]]});A(this,"compIn1",()=>U(["compIn1"])||"A");A(this,"compIn2",()=>U(["compIn1"])||"B");A(this,"res",()=>U(["res"])||"Result");A(this,"process",(t,r,o,s)=>{switch(r){case"bool":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a>u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",this.compIn1(),re.numSocket().valSocket),o=new fe.Input("num2",this.compIn2(),re.numSocket().valSocket),s=new fe.Output("bool",this.res(),re.boolSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,this.compIn1())),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,this.compIn2())),t.addInput(r).addInput(o).addControl(new Xr(i=>{},"preview",!0,this.res())).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{bool:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" > "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}class wl extends Xe{constructor(){super("MultNode");A(this,"data",{i18nKeys:["mult"],category:[["operators"]]});A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a*u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",U(["multIn"])||"Addend",re.numSocket().valSocket),o=new fe.Input("num2",U(["multIn"])||"Addend",re.numSocket().valSocket),s=new fe.Output("num",U(["res"])||"Result",re.numSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,U(["multIn"])||"Addend")),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,U(["multIn"])||"Addend")),t.addInput(r).addInput(o).addControl(new Ee((i,a)=>{},"preview",!0,U(["res"])||"Result")).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{num:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" * "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}class _l extends Xe{constructor(){super("Difference");A(this,"data",{i18nKeys:["sub"],category:[["operators"]]});A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a-u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",U(["subIn"])||"Minuend",re.numSocket().valSocket),o=new fe.Input("num2",U(["subIn2"])||"Subrtahend",re.numSocket().valSocket),s=new fe.Output("num",U(["res"])||"Result",re.numSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,U(["subIn"])||"Minuend")),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,U(["subIn2"])||"Subrtahend")),t.addInput(r).addInput(o).addControl(new Ee((i,a)=>{},"preview",!0,U(["res"])||"Result")).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{num:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" - "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}class kl extends Xe{constructor(){super("Modulo");A(this,"data",{i18nKeys:["modulo"],category:[["operators"]]});A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a%u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",U(["modIn"])||"a",re.numSocket().valSocket),o=new fe.Input("num2",U(["modIn2"])||"Module",re.numSocket().valSocket),s=new fe.Output("num",U(["res"])||"Result",re.numSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,U(["divIn"])||"a")),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,U(["divIn2"])||"Module")),t.addInput(r).addInput(o).addControl(new Ee((i,a)=>{},"preview",!0,U(["res"])||"Result")).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{num:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" % "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}class Cl extends Xe{constructor(){super("Divide");A(this,"data",{i18nKeys:["div"],category:[["operators"]]});A(this,"process",(t,r,o,s)=>{switch(r){case"num":return i=>{var l,f,h,m,P,I,D;const a=(f=(l=o.num(i))!=null?l:t.data.num)!=null?f:0,u=(m=(h=o.num2(i))!=null?h:t.data.num2)!=null?m:0,c=a/u;if(!s.silent){const $=(D=(I=(P=this.editor)==null?void 0:P.nodes)==null?void 0:I.find(q=>q.id==t.id))==null?void 0:D.controls.get("preview");$==null||$.setValue(c)}return c};default:return i=>{}}})}async builder(t){const r=new fe.Input("num",U(["divIn"])||"Zhler",re.numSocket().valSocket),o=new fe.Input("num2",U(["divIn2"])||"Nenner",re.numSocket().valSocket),s=new fe.Output("num",U(["res"])||"Result",re.numSocket().valSocket);r.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num",!1,U(["divIn"])||"Zhler")),o.addControl(new Ee(i=>{var a;return(a=this.editor)==null?void 0:a.trigger("process")},"num2",!1,U(["divIn2"])||"Nenner")),t.addInput(r).addInput(o).addControl(new Ee((i,a)=>{},"preview",!0,U(["res"])||"Result")).addOutput(s)}compile(t,r,o){var a,u;let s=r.num?r.num:{node_id:t.id,commands:`${(a=t.data.num)!=null?a:0}`},i=r.num2?r.num2:{node_id:t.id,commands:`${(u=t.data.num2)!=null?u:0}`};return{node_id:t.id,commands:[],outputs:{num:{commands:[{node_id:t.id,commands:" ( "},s,{node_id:t.id,commands:" / "},i,{node_id:t.id,commands:" ) "}],node_id:t.id}},processDependencys:[]}}}const Sl=new Fc("StandardNodes",[new tl,new Gc,new gl,new wl,new bl,new yl,new _l,new al,new vl,new ml,new Hc,new kl,new Cl]);/*!
* rete-area-plugin v0.2.1 
* (c) 2019  
* Released under the ISC license.
*/function El(e){if(e&&!(typeof window>"u")){var n=document.createElement("style");return n.setAttribute("type","text/css"),n.innerHTML=e,document.head.appendChild(n),e}}El(`.rete-background {
  display: table;
  z-index: -1;
  position: absolute;
  top: -320000px;
  left: -320000px;
  width: 640000px;
  height: 640000px;
}
.rete-background.default {
  background-size: 32px 32px;
  background-image: linear-gradient(to right, #ccc 1px, transparent 1px), linear-gradient(to bottom, #ccc 1px, transparent 1px);
}`);function Qr(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function Wo(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,n,t){return n&&Wo(e.prototype,n),t&&Wo(e,t),e}function hi(e,n){return Ol(e)||Pl(e,n)||$l()}function mi(e){return Il(e)||xl(e)||Nl()}function Il(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function Ol(e){if(Array.isArray(e))return e}function xl(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function Pl(e,n){var t=[],r=!0,o=!1,s=void 0;try{for(var i=e[Symbol.iterator](),a;!(r=(a=i.next()).done)&&(t.push(a.value),!(n&&t.length===n));r=!0);}catch(u){o=!0,s=u}finally{try{!r&&i.return!=null&&i.return()}finally{if(o)throw s}}return t}function Nl(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function $l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var Tl=function e(n,t){if(Qr(this,e),!!t){var r=t instanceof HTMLElement?t:document.createElement("div");r.classList+=" rete-background ".concat(t===!0?"default":""),n.view.area.appendChild(r)}},Al=function(){function e(n,t,r){Qr(this,e),this.editor=n,this.scaleExtent=t,this.translateExtent=r,t&&n.on("zoom",this.restrictZoom.bind(this)),r&&n.on("translate",this.restrictTranslate.bind(this))}return pi(e,[{key:"restrictZoom",value:function(t){var r=typeof this.scaleExtent=="boolean"?{min:.1,max:1}:this.scaleExtent;t.transform,t.zoom<r.min?t.zoom=r.min:t.zoom>r.max&&(t.zoom=r.max)}},{key:"restrictTranslate",value:function(t){var r=typeof this.translateExtent=="boolean"?{width:5e3,height:4e3}:this.translateExtent,o=this.editor.view.container,s=t.transform.k,i=r.width*s,a=r.height*s,u=o.clientWidth/2,c=o.clientHeight/2;t.x-=u,t.y-=c,t.x>i?t.x=i:t.x<-i&&(t.x=-i),t.y>a?t.y=a:t.y<-a&&(t.y=-a),t.x+=u,t.y+=c}}]),e}(),Ml=function(){function e(n,t){var r=this,o=t.size,s=o===void 0?16:o,i=t.dynamic,a=i===void 0?!0:i;Qr(this,e),this.editor=n,this.size=s,a?this.editor.on("nodetranslate",this.onTranslate.bind(this)):this.editor.on("rendernode",function(u){var c=u.node,l=u.el;l.addEventListener("mouseup",r.onDrag.bind(r,c)),l.addEventListener("touchend",r.onDrag.bind(r,c)),l.addEventListener("touchcancel",r.onDrag.bind(r,c))})}return pi(e,[{key:"onTranslate",value:function(t){var r=t.x,o=t.y;t.x=this.snap(r),t.y=this.snap(o)}},{key:"onDrag",value:function(t){var r=hi(t.position,2),o=r[0],s=r[1];t.position[0]=this.snap(o),t.position[1]=this.snap(s),console.log(this,o,s,t.position),this.editor.view.nodes.get(t).update(),this.editor.view.updateConnections({node:t})}},{key:"snap",value:function(t){return Math.round(t/this.size)*this.size}}]),e}(),zo=function(n){return n.length===0?0:Math.min.apply(Math,mi(n))},Ko=function(n){return n.length===0?0:Math.max.apply(Math,mi(n))};function Dl(e,n){var t=zo(n.map(function(i){return i.position[0]})),r=zo(n.map(function(i){return i.position[1]})),o=Ko(n.map(function(i){return i.position[0]+e.view.nodes.get(i).el.clientWidth})),s=Ko(n.map(function(i){return i.position[1]+e.view.nodes.get(i).el.clientHeight}));return{left:t,right:o,top:r,bottom:s,width:Math.abs(t-o),height:Math.abs(r-s),getCenter:function(){return[(t+o)/2,(r+s)/2]}}}function Ll(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.nodes,t=Dl(e,n),r=t.getCenter(),o=hi(r,2),s=o[0],i=o[1],a=[e.view.container.clientWidth,e.view.container.clientHeight],u=a[0],c=a[1],l=e.view.area,f=u/t.width,h=c/t.height,m=Math.min(h*.9,f*.9,1);l.transform.x=l.container.clientWidth/2-s*m,l.transform.y=l.container.clientHeight/2-i*m,l.zoom(m,0,0),l.update()}function Rl(e,n){var t=n.background||!1,r=n.snap||!1,o=n.scaleExtent||!1,s=n.translateExtent||!1;t&&(this._background=new Tl(e,t)),(o||s)&&(this._restrictor=new Al(e,o,s)),r&&(this._snap=new Ml(e,r))}var jl={install:Rl,zoomAt:Ll};function Uo(e){return JSON.parse(JSON.stringify(e))}async function vi(e,{data:n={},meta:t={},x:r=0,y:o=0}){const s=await e.createNode(Uo(n));return s.meta=Object.assign(Uo(t),s.meta),s.position[0]=r,s.position[1]=o,s}function eo(e,n,t=[]){for(const r in e){const o=e[r];typeof o.subitems=="object"?eo(o.subitems,n,t.slice(0)):n(o.title,o.callback,t)}}function Vl(e,n,t){return[Math.min(e,window.innerWidth-t.clientWidth),Math.min(n,window.innerHeight-t.clientHeight)]}function Fl(e,n){let t;return(...r)=>{clearTimeout(t),t=setTimeout(()=>{e(...r)},n)}}const Bl=Ze({props:{item:Object,args:Object,delay:{type:Number,required:!0}},emits:["hide","click"],setup(e,{emit:n}){let t=()=>{a()};const r=Me(!1),o=xt(()=>e.item.subitems),s=()=>{const l=t;l&&l.cancel&&t.cancel()},i=()=>{r.value=!0,console.log("Show subitems",e.item.subitems),s()},a=()=>{r.value=!1};return{onClick:l=>{l.stopPropagation(),n("click",e.item),n("hide")},showSubitems:i,timeoutHide:t,hasSubitems:o,visibleSubitems:r,subitemClicked:l=>{n("click",l)}}}}),Hl={key:0,class:"subitems"};function Wl(e,n,t,r,o,s){const i=wt("Item",!0);return V(),Z("div",{onClick:n[1]||(n[1]=(...a)=>e.onClick&&e.onClick(...a)),onMouseover:n[2]||(n[2]=(...a)=>e.showSubitems&&e.showSubitems(...a)),onMouseleave:n[3]||(n[3]=(...a)=>e.timeoutHide&&e.timeoutHide(...a)),class:Re(["item",{hasSubitems:e.hasSubitems}])},[Dt(Fe(e.item.title)+" ",1),e.hasSubitems&&e.visibleSubitems?(V(),Z("div",Hl,[(V(!0),Z(le,null,Be(e.item.subitems,a=>(V(),Qe(i,{key:a.title,item:a,delay:e.delay,onHide:n[0]||(n[0]=u=>e.$emit("hide")),onClick:e.subitemClicked},null,8,["item","delay","onClick"]))),128))])):Ge("",!0)],34)}const zl=je(Bl,[["render",Wl],["__scopeId","data-v-02d0b53d"]]);const Kl=Ze({props:{value:{type:String,default:""}},emits:["search"],setup(e){return{valueRef:Me(e.value)}}}),Ul={class:"search"};function Jl(e,n,t,r,o,s){return V(),Z("div",Ul,[et(te("input",{"onUpdate:modelValue":n[0]||(n[0]=i=>e.valueRef=i),onChange:n[1]||(n[1]=i=>e.$emit("search",e.valueRef))},null,544),[[Hu,e.valueRef]])])}const ql=je(Kl,[["render",Jl],["__scopeId","data-v-78f75ee0"]]),Gl=Ze({components:{Item:zl,Search:ql},props:{searchBar:{type:Boolean,default:!1},searchKeep:{type:Function,default:()=>{}},delay:{type:Number,required:!0}},setup(e){As(()=>{n=Fl(P,e.delay)}),Ms(()=>{ws(()=>{i.value&&([t.value,r.value]=Vl(t.value,r.value,i.value))})});let n=()=>{},t=Me(0),r=Me(0),o=[];const s=Me(""),i=Me(),a=Me(!1);let u={};const c=xt(()=>({"--pos-left":t.value+"px","--pos-top":r.value+"px"})),l=xt(()=>{if(!s.value)return o;const T=new RegExp(s.value,"i");return f(o).filter(({title:K})=>e.searchKeep(K)||K.match(T))}),f=T=>{if(!T)return[];let K=[];return T.map(X=>{X.subitems||K.push(X),K.push(...f(X.subitems))}),K},h=T=>{s.value=T},m=(T,K,X={})=>{a.value=!0,t.value=T,r.value=K,u=X,I()},P=()=>{a.value=!1},I=()=>{const T=n;T&&T.cancel&&n.cancel()},D=(T,K,X=[],Ae)=>{if(X.length==0){Ae.push({title:T,onClick:K});return}let pe=Ae.find(xe=>xe.title==X[0]);pe||(pe={title:X[0],subitems:[]},Ae.push(pe)),pe.subitems||(pe.subitems=[]),D(T,K,X.slice(1),pe.subitems)};return{posLeft:t,posTop:r,visible:a,filter:s,items:o,style:c,filtered:l,myRefMenu:i,extractLeafs:f,onSearch:h,show:m,hide:P,additem:(T,K,X=[])=>{D(T,K,X,o)},timeoutHide:n,cancelHide:I,itemClicked:T=>{T.onClick&&T.onClick(u)}}}});function Yl(e,n,t,r,o,s){const i=wt("Search"),a=wt("Item");return e.visible?(V(),Z("div",{key:0,class:"context-menu",ref:"myRefMenu",style:Kn(e.style),onMouseleave:n[1]||(n[1]=(...u)=>e.timeoutHide&&e.timeoutHide(...u)),onMouseover:n[2]||(n[2]=(...u)=>e.cancelHide&&e.cancelHide(...u)),onContextmenu:n[3]||(n[3]=ct(()=>{},["prevent"])),onWheel:n[4]||(n[4]=ct(()=>{},["stop"]))},[e.searchBar?(V(),Qe(i,{key:0,modelValue:e.filter,"onUpdate:modelValue":n[0]||(n[0]=u=>e.filter=u),onSearch:e.onSearch},null,8,["modelValue","onSearch"])):Ge("",!0),(V(!0),Z(le,null,Be(e.filtered,u=>(V(),Qe(a,{key:u.title,item:u,delay:e.delay/2,onHide:e.hide,onClick:e.itemClicked},null,8,["item","delay","onHide","onClick"]))),128))],36)):Ge("",!0)}const Zl=je(Gl,[["render",Yl],["__scopeId","data-v-7a5cfb8d"]]);function Xl(e,n,t){return sr(n,t).mount(e)}class gi{constructor(n,t,r){const o=document.createElement("div");n.view.container.appendChild(o),this.menu=Xl(o,r||Zl,t)}addItem(...n){this.menu.additem(...n)}show(...n){this.menu.show(...n)}hide(){this.menu.hide()}}class Ql extends gi{constructor(n,t,r,{items:o,allocate:s,rename:i}){super(n,t,r);const a={x:0,y:0};n.on("mousemove",({x:u,y:c})=>{a.x=u,a.y=c});for(const u of n.components.values()){const c=s(u);Array.isArray(c)&&this.addItem(i(u),async()=>{n.addNode(await vi(u,a))},c)}eo(o,(u,c,l)=>this.addItem(u,c,l))}}class ed extends gi{constructor(n,t,r,o){if(super(n,t,r),o.delete&&!o.delete.callback){const s=({node:i})=>{n.selected.list.indexOf(i)!==-1&&n.selected.remove(i),n.removeNode(i)};o.delete.callback=s}if(o.clone&&!o.clone.callback){const s=async i=>{const{name:a,position:[u,c],...l}=i.node,f=n.components.get(a),h=await vi(f,{...l,x:u+10,y:c+10});n.addNode(h),n.trigger("nodeCloned",h)};o.clone.callback=s}typeof o=="object"&&eo(o,(s,i,a)=>this.addItem(s,i,a))}}function td(e,{searchBar:n=!0,searchKeep:t=()=>!1,delay:r=1e3,items:o={},nodeItems:s={delete:{title:"Delete"},clone:{title:"Clone"}},allocate:i=c=>[],rename:a=c=>c.name,vueComponent:u=null}){e.bind("hidecontextmenu"),e.bind("showcontextmenu");let c,l;e.on("hidecontextmenu",()=>{l&&l.hide()}),e.on("click contextmenu",()=>{e.trigger("hidecontextmenu")}),e.on("contextmenu",({e:f,node:h})=>{if(f.preventDefault(),f.stopPropagation(),!e.trigger("showcontextmenu",{e:f,node:h}))return;const[m,P]=[f.clientX,f.clientY];let I;h?(l=new ed(e,{searchBar:!1,delay:r},u,s),I={node:h}):(c||(c=new Ql(e,{searchBar:n,searchKeep:t,delay:r},u,{items:o,allocate:i,rename:a})),l=c,I={}),l.show(m,P,I)})}const nd={name:"context-menu",install:td},rd={props:["node","editor","bindSocket","bindControl"],methods:{inputs(){return Array.from(this.node.inputs.values())},outputs(){return Array.from(this.node.outputs.values())},controls(){return Array.from(this.node.controls.values())},selected(){return this.editor.selected.contains(this.node)?"selected":""}},directives:{socket:{beforeMount(e,n){n.instance.bindSocket(e,n.arg,n.value)},updated(e,n){n.instance.bindSocket(e,n.arg,n.value)}},control:{beforeMount(e,n){n.value&&n.instance.bindControl(e,n.value)}}}};function yi(e){const n=t=>t.toLowerCase().replace(/ /g,"-");return Array.isArray(e)?e.map(n):n(e)}const od=Ze({props:["type","socket"],setup(e){return{className:xt(()=>yi([e.type,e.socket.name]))}}});const sd=["title"];function id(e,n,t,r,o,s){return V(),Z("div",{class:Re(["socket",e.className]),title:e.socket.name},null,10,sd)}const ad=je(od,[["render",id],["__scopeId","data-v-1eb802e5"]]),ud=Ze({name:"node",components:{Socket:ad},mixins:[rd],setup(e){let n=e.node,t=e.editor,r=Me(t.selected.contains(n)?"selected":"");return t&&(t==null||t.on("nodeselected",()=>{r.value=t.selected.contains(n)?"selected":""})),{className:xt(()=>yi([n.name])),selected:r,nodeName:()=>{let i=ee.instance,u=i.components.get(n.name).data.i18nKeys;return u&&(i==null?void 0:i.i18n(u))||n.name}}}});const cd={class:"title"},ld={class:"output-title"},dd={class:"input-control"};function fd(e,n,t,r,o,s){const i=wt("Socket"),a=Vn("socket"),u=Vn("control");return V(),Z("div",{class:Re(["node",e.className,e.selected])},[te("div",cd,Fe(e.nodeName()),1),(V(!0),Z(le,null,Be(e.outputs(),c=>(V(),Z("div",{class:"output",key:c.key},[te("div",ld,Fe(c.name),1),et(me(i,{type:"output",socket:c.socket},null,8,["socket"]),[[a,c,"output"]])]))),128)),(V(!0),Z(le,null,Be(e.controls(),c=>et((V(),Z("div",{class:"control",key:c.key})),[[u,c]])),128)),(V(!0),Z(le,null,Be(e.inputs(),c=>(V(),Z("div",{class:"input",key:c.key},[et(me(i,{type:"input",socket:c.socket},null,8,["socket"]),[[a,c,"input"]]),et(te("div",{class:"input-title"},Fe(c.name),513),[[Wn,!c.showControl()]]),et(te("div",dd,null,512),[[Wn,c.showControl()],[u,c.control]])]))),128))],2)}const pd=je(ud,[["render",fd],["__scopeId","data-v-fe503a83"]]);class bi{constructor(n,t={variables:new Map,subStacks:new Map}){A(this,"engine");A(this,"stack");A(this,"compiledProcesses",new Map);A(this,"compiledCommandList",new Map);this.engine=n,this.stack=t}collectDependencys(n,t=[]){let r=this.compiledProcesses.get(n);if(r)r.processDependencys.forEach(o=>{t.find(s=>s==o)||(t.push(o),this.collectDependencys(o,t))});else return;return t.forEach(o=>{}),t}commandToFunction(n){let t=this.compiledProcesses.get(n),r=this.collectDependencys(n);if(!r)return;let o=[];r.forEach(a=>{if(a!=n){let u=this.compiledProcesses.get(a);u&&(o=o.concat([{node_id:u.node_id,commands:`
const ${a} = function ${a}(inputs){
let output = {}
`},...u.commands,{node_id:u.node_id,commands:`
}`}]))}}),o=o.concat([{node_id:t.node_id,commands:`
const ${n} = function ${n}(inputs){
let output = {}
`},...t.commands,{node_id:t.node_id,commands:`
}
return ${n}(inputs)`}]);const s=a=>{if(!a)return"";if(typeof a.commands=="string")return a.commands;let u="";return a.commands.map(s).forEach(c=>u=u+c),u};let i="";o.map(s).forEach(a=>i=i+a);try{return new Function("inputs",i)}catch{console.log("Error while converting"),console.log(o),console.log(i)}}commandList(n){var i;this.compiledProcesses.get(n);let t=this.collectDependencys(n);if(!t)return;let r=[];t.forEach(a=>{a!=n&&r.push(`import { ${a} } from "./${a}.js"
`)});let o=(i=this.compiledCommandList.get(n))==null?void 0:i.filter(a=>a.commands.length>0);return[...r.map(a=>({node_id:-1,commands:a})),{node_id:-1,commands:`function ${n}(inputs){`},{node_id:-1,commands:"let output = {};"},...o,{node_id:-1,commands:"return output"},{node_id:-1,commands:"}"}]}commandToCode(n){let t=this.compiledProcesses.get(n),r=t.processDependencys;if(!r)return;let o="";return r.forEach(s=>{s!=n&&(o=o+`import { ${s} } from './${s}.js'
`)}),o=o+`

 export function ${n}(inputs){
let output = {}
${t.commands}
}
`,o}processProcess(n){return n=n.replace("@0.1.0",""),this.commandToFunction(n)}register(n){this.engine.register(n)}clear(){this.stack={variables:new Map,subStacks:new Map}}abort(){this.engine.abort()}async compileProcess(n,t){var a,u;n=n.replace("@0.1.0","");let r={silent:!0,compilerCommands:[]};const o=this.engine.clone(),s={...t};s.id=o.id="compiler@0.1.0",await o.process(s,null,r);let i={node_id:-1,commands:[],outputs:{},processDependencys:[]};return(a=r.compilerCommands)==null||a.forEach(c=>{i.commands=i.commands.concat(c.commands),c.processDependencys.forEach(l=>{i.processDependencys.find(f=>f==l)||i.processDependencys.push(l)})}),r.compilerCommands&&this.compiledCommandList.set(n,r.compilerCommands),i.commands=i.commands.concat({node_id:-1,commands:`
return output`}),this.compiledProcesses.set(n,i),console.log(`Compiled ${n}`),(u=ee.instance)==null||u.trigger("export"),i}async process(n,t){await await this.engine.abort();let r={silent:!1,options:t};const o={...n};return o.id=this.engine.id,await this.engine.process(o,null,r)}}A(bi,"max_stack_height",2e3);const Ce=class extends ti{constructor(t,r="main@0.1.0",o={processes:[{id:"main@0.1.0",nodes:{}}]}){super(r,t);A(this,"eventEmitter",new vc);A(this,"editorProcessor");A(this,"curLocale","de");A(this,"i18nMap",{de:{num:"Zahl",bool:"Wahrheitswert",values:"Werte",value:"Wert",operators:"Operatoren",add:"Summe",mult:"Produkt",addIn:"Summand",multIn:"Faktor",res:"Ergebnis",greater:"A>B",equal:"A=B",sub:"Differenz",subIn:"Minuend",subIn2:"Subtrahend",processes:"Prozesse",process:"Prozess",processSelector:"Prozess-Auswahl",cond:"Bedingung",if:"Falls",else:"Sonst",numIn:"Eingabe - Zahl",numOut:"Ausgabe - Zahl",controlflow:"Kontroll-Fluss"}});A(this,"curProcess",0);this.editorProcessor=new bi(new ri(r)),o.processes.find(s=>s.id==r)||(Ce.processes=[{id:"main@0.1.0",nodes:{}}]),Ce.processes.push(...o.processes),this.init()}static getCurProcess(){var t;return(t=this.instance)==null?void 0:t.curProcess}static getProcessIDs(){return this.processes.map((t,r)=>({index:r,id:t.id.slice(0,t.id.length-6)}))}unselectNode(){this.selected.clear(),this.trigger("nodeselected")}static getOrCreate(t,r="main@0.1.0",o={processes:[{id:"main@0.1.0",nodes:{90:{id:90,data:{num:16},inputs:{},outputs:{num:{connections:[{node:97,input:"a",data:{}}]}},position:[20.550017966815403,87.62448929322358],name:"NumNode"},91:{id:91,data:{num:60},inputs:{},outputs:{num:{connections:[{node:97,input:"b",data:{}}]}},position:[20.234525698241214,241.65901568593904],name:"NumNode"},92:{id:92,data:{},inputs:{num:{connections:[{node:97,output:"res",data:{}}]},num2:{connections:[]}},outputs:{num:{connections:[]}},position:[665.5034758550414,41.77663392032889],name:"Addition"},97:{id:97,data:{id:"ggt"},inputs:{a:{connections:[{node:90,output:"num",data:{}}]},b:{connections:[{node:91,output:"num",data:{}}]}},outputs:{res:{connections:[{node:92,input:"num",data:{}}]}},position:[336,49.68333435058594],name:"ProcessNode"}}},{id:"max@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"a",val:4},inputs:{},outputs:{val:{connections:[{node:4,input:"num",data:{}},{node:1,input:"if",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"res",val:4},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:2,output:"val",data:{}}]},num2:{connections:[{node:5,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[307.46665954589844,98.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"b",val:3},inputs:{},outputs:{val:{connections:[{node:4,input:"num2",data:{}},{node:1,input:"else",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"min@0.1.0",nodes:{1:{id:1,data:{},inputs:{bool:{connections:[{node:4,output:"bool",data:{}}]},if:{connections:[{node:2,output:"val",data:{}}]},else:{connections:[{node:5,output:"val",data:{}}]}},outputs:{res:{connections:[{node:3,input:"val",data:{}}]}},position:[602.4666595458984,315.3666687011719],name:"ConditionNode"},2:{id:2,data:{key:"a",val:4},inputs:{},outputs:{val:{connections:[{node:1,input:"if",data:{}},{node:4,input:"num2",data:{}}]}},position:[18.466659545898438,265.3666687011719],name:"InputNumNode"},3:{id:3,data:{key:"res",val:3},inputs:{val:{connections:[{node:1,output:"res",data:{}}]}},outputs:{},position:[870.4666595458984,330.3666687011719],name:"OutputNumNode"},4:{id:4,data:{},inputs:{num:{connections:[{node:5,output:"val",data:{}}]},num2:{connections:[{node:2,output:"val",data:{}}]}},outputs:{bool:{connections:[{node:1,input:"bool",data:{}}]}},position:[316.46665954589844,100.36666870117188],name:"GreaterNode"},5:{id:5,data:{key:"b",val:3},inputs:{},outputs:{val:{connections:[{node:1,input:"else",data:{}},{node:4,input:"num",data:{}}]}},position:[19.466659545898438,478.3666687011719],name:"InputNumNode"}}},{id:"ggt@0.1.0",nodes:{16:{id:16,data:{key:"a",val:8},inputs:{},outputs:{val:{connections:[{node:116,input:"a",data:{}},{node:161,input:"a",data:{}}]}},position:[-31.745339862725608,312.11162002044506],name:"InputNumNode"},17:{id:17,data:{key:"b",val:4},inputs:{},outputs:{val:{connections:[{node:116,input:"b",data:{}},{node:161,input:"b",data:{}}]}},position:[-30.504479413394208,497.977324582685],name:"InputNumNode"},24:{id:24,data:{key:"res",val:4},inputs:{val:{connections:[{node:119,output:"res",data:{}}]}},outputs:{},position:[1483.1156333105785,320.3775464378044],name:"OutputNumNode"},114:{id:114,data:{id:"ggt"},inputs:{a:{connections:[{node:117,output:"num",data:{}}]},b:{connections:[{node:161,output:"res",data:{}}]}},outputs:{res:{connections:[{node:119,input:"else",data:{}}]}},position:[884.7021365502437,219.26161340507292],name:"ProcessNode"},116:{id:116,data:{id:"max"},inputs:{a:{connections:[{node:16,output:"val",data:{}}]},b:{connections:[{node:17,output:"val",data:{}}]}},outputs:{res:{connections:[{node:117,input:"num",data:{}}]}},position:[275.7520925473664,265.8619861884418],name:"ProcessNode"},117:{id:117,data:{},inputs:{num:{connections:[{node:116,output:"res",data:{}}]},num2:{connections:[{node:161,output:"res",data:{}}]}},outputs:{num:{connections:[{node:118,input:"num",data:{}},{node:114,input:"a",data:{}}]}},position:[592.6333312988281,140.6999969482422],name:"Modulo"},118:{id:118,data:{},inputs:{num:{connections:[{node:117,output:"num",data:{}}]},num2:{connections:[]}},outputs:{bool:{connections:[{node:119,input:"bool",data:{}}]}},position:[840.6333312988281,-37.30000305175781],name:"EqualNode"},119:{id:119,data:{},inputs:{bool:{connections:[{node:118,output:"bool",data:{}}]},if:{connections:[{node:161,output:"res",data:{}}]},else:{connections:[{node:114,output:"res",data:{}}]}},outputs:{res:{connections:[{node:24,input:"val",data:{}}]}},position:[1199.0240681258697,342.7625502316739],name:"ConditionNode"},161:{id:161,data:{id:"min"},inputs:{a:{connections:[{node:16,output:"val",data:{}}]},b:{connections:[{node:17,output:"val",data:{}}]}},outputs:{res:{connections:[{node:119,input:"if",data:{}},{node:114,input:"b",data:{}},{node:117,input:"num2",data:{}}]}},position:[275.7520925473664,493.86198618844173],name:"ProcessNode"}}}]}){return this.instance||(this.instance=new Ce(t,r,o)),Ce.importing=!0,this.instance}static getIOS(t){var a,u;let r=this.getProcessIndex(t),o=Ce.processes[r];if(!o)return{inputs:[],outputs:[]};let s=[],i=[];for(let c in o.nodes){let l=o.nodes[c],f=(u=(a=Ce.instance)==null?void 0:a.getComponent(l.name))==null?void 0:u.data;if(f.process){let h=f.process;if(h.type=="input"){let m=l.data.key;s.push({key:m,name:m,socket:h.socket})}if(h.type=="output"){let m=l.data.key;i.push({key:m,name:m,socket:h.socket})}}}return{inputs:s,outputs:i}}async init(){this.use(Pc,{component:pd}),this.use(Vc),this.use(jl,{background:!1,snap:!1,scaleExtent:{min:.25,max:1},translateExtent:{width:5e3,height:4e3}}),this.use(nd,{allocate:t=>{let r=t.data;return r.category?r.category.map(o=>U(o)):[]},rename(t){let r=t.data;return r.i18nKeys&&U(r.i18nKeys)||t.name}}),this.use(Sl);for(let t of Ce.processes)await this.editorProcessor.compileProcess(t.id,t);this.on(["connectioncreated","connectionremoved","nodecreated","noderemoved"],t=>{Ce.importing||this.trigger("process")}),this.on("process",async()=>{this.saveCurProcess(),await this.processEditor()}),this.view.resize(),this.trigger("process"),console.log("Started editor"),await this.loadProcess("main")}i18n(t){return this.i18nRec(t,this.i18nMap[this.curLocale])}i18nRec(t,r){let o=t[0];if(!r[o])return;let s=r[o];return!s||typeof s=="string"?s:this.i18nRec(t.slice(1),s)}register(t){console.log("Register: ",t.name),super.register(t),this.editorProcessor.register(t)}registerAll(t){t.forEach(r=>{this.register(r)})}getCurProcessCode(){return this.editorProcessor.commandList(Ce.processes[this.curProcess].id.replace("@0.1.0",""))}async saveCurProcess(){if(!Ce.importing)try{let t=this.toJSON();Ce.processes[this.curProcess].nodes=t.nodes,await this.editorProcessor.compileProcess(Ce.processes[this.curProcess].id,this.toJSON()),console.log(Ce.processes[this.curProcess])}catch{this.nodes.forEach(r=>{r.inputs.forEach(o=>{o.connections.forEach(s=>{s.output.node||this.removeConnection(s)})}),r.outputs.forEach(o=>{o.connections.forEach(s=>{s.input.node||this.removeConnection(s)})})})}}clear(){let t=Ht.latestId;this.editorProcessor.abort();const r=this.nodes;for(const o of r)this.removeNode(o);super.clear(),this.eventEmitter.clear(),this.editorProcessor.clear(),Ht.latestId=t}installComponents(t){super.use(t)}async fromJSON(t){return await super.fromJSON(t)}async load(t){return Ce.processes=t.processes,await this.fromJSON(Ce.processes[0])}addProcess(t){let r=t+"@0.1.0";Ce.processes.find(o=>o.id==r)||Ce.processes.push({id:r,nodes:{}})}processProcess(t){return this.editorProcessor.processProcess(t)}async processEditor(){await this.editorProcessor.process(this.toJSON())}static getProcessIndex(t){return Ce.processes.findIndex(r=>r.id==t||t+"@0.1.0"==r.id)}async loadProcess(t){let r=Ce.getProcessIndex(t);await this.saveCurProcess(),Ce.importing=!0,this.curProcess=r,this.clear();let o=this.toJSON();o.nodes=Ce.processes[r].nodes,await this.fromJSON(o),console.log("Start initial process"),this.trigger("process"),Ce.importing=!1}};let ee=Ce;A(ee,"processes",[]),A(ee,"instance"),A(ee,"importing",!1);function U(e){var n;return(n=ee.instance)==null?void 0:n.i18n(e)}async function hd(e){e.innerHTML="",ee.getOrCreate(e)}const md={name:"ReteEditor",mounted(){const e=document.getElementById("rete");e&&hd(e)}};const vd={class:"rete",id:"rete"};function gd(e,n,t,r,o,s){return V(),Z("div",vd)}const yd=je(md,[["render",gd]]),bd={setup(){let e=Me(ee.getCurProcess());const n=a=>{var u,c;e.value=(u=t().find(l=>l.id==a))==null?void 0:u.index,(c=ee.instance)==null||c.loadProcess(a).then(()=>{e.value=ee.getCurProcess()})};let t=()=>{var a;return(a=ee.getProcessIDs())==null?void 0:a.map(u=>({id:u.id,index:u.index,className:o(u.index)}))};const r=a=>{var u;(u=ee.instance)==null||u.addProcess(s.value.toString()),s.value=""};let o=a=>{e.value==a},s=Me("");return{select:n,processes:t,newProcessName:s,change:a=>{s.value=a.target.value},addProcess:r,selected:o,curProcess:e}}};const wi=e=>(Es("data-v-ca17bfa2"),e=e(),Is(),e),wd={class:"selector-bar"},_d=["on-submit","value"],kd={style:{display:"inline-flex",width:"100%","padding-bottom":"5px"}},Cd=["onClick"],Sd=wi(()=>te("button",null,[te("img",{class:"icon light",src:"https://raw.githubusercontent.com/microsoft/vscode-icons/master/icons/light/chrome-close.svg"}),te("img",{class:"icon dark",src:"https://raw.githubusercontent.com/microsoft/vscode-icons/master/icons/dark/chrome-close.svg"})],-1)),Ed=wi(()=>te("b",null,"+",-1));function Id(e,n,t,r,o,s){return V(),Z("div",wd,[te("div",null,[te("input",{type:"text","on-submit":r.addProcess,value:r.newProcessName,onInput:n[0]||(n[0]=i=>r.change(i))},null,40,_d)]),(V(!0),Z(le,null,Be(r.processes(),i=>(V(),Z("div",kd,[te("button",{style:{"flex-grow":"1","margin-right":"5px","padding-right":"5px"},class:Re(r.curProcess==i.index?"selected":""),onClick:a=>r.select(i.id)},Fe(i.id),11,Cd),Sd]))),256)),r.newProcessName!=""?(V(),Z("button",{key:0,class:"addProcess",onClick:n[1]||(n[1]=(...i)=>r.addProcess&&r.addProcess(...i))},[Ed,te("i",null,Fe(r.newProcessName),1)])):Ge("",!0)])}const Jo=je(bd,[["render",Id],["__scopeId","data-v-ca17bfa2"]]),Od=Ze({name:"Icon",props:{icon:String}}),xd=["src"];function Pd(e,n,t,r,o,s){return V(),Z(le,null,Be(["light","dark"],i=>te("img",{style:{"min-height":"25px"},class:Re(["icon",i]),src:"https://raw.githubusercontent.com/microsoft/vscode-icons/master/icons/"+i+"/"+(e.icon&&e.icon!=""?e.icon:"error")+".svg"},null,10,xd)),64)}const _i=je(Od,[["render",Pd]]),Nd=Ze({name:"Infor",components:{Icon:_i}}),$d={style:{width:"max-content",padding:"5px",margin:"auto"}},Td=te("h2",null," Info ",-1),Ad={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore"},Md=te("p",null,null,-1),Dd={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore#used-software"},Ld=te("p",null,null,-1),Rd={style:{display:"inline"},title:"Coming Soon"},jd=te("p",null,null,-1),Vd={target:"_blank",href:"https://opensource.org/licenses/MIT"},Fd=te("p",null,null,-1),Bd={target:"_blank",href:"https://github.com/Spreadboard/spreadBoardCore/issues"};function Hd(e,n,t,r,o,s){const i=wt("Icon");return V(),Z("div",$d,[Td,te("a",Ad,[me(i,{icon:"github-inverted"}),Dt(" Source Code ")]),Md,te("a",Dd,[me(i,{icon:"library"}),Dt(" Used Software ")]),Ld,te("a",Rd,[me(i,{icon:"book"}),Dt(" Documentation ")]),jd,te("a",Vd,[me(i,{icon:"tag"}),Dt(" License ")]),Fd,te("a",Bd,[me(i,{icon:"bug"}),Dt(" Issues ")])])}const qo=je(Nd,[["render",Hd]]),Wd=Ze({name:"CommandVue",props:{command:{type:Object,required:!0},topLevel:{type:Boolean,required:!1},parentSelected:{type:Boolean,required:!1}},setup(e){var s,i;let n=e.command,t=Me((s=ee.instance)==null?void 0:s.selected.list);return(i=ee.instance)==null||i.on("nodeselected",a=>{var u;t.value=[],t.value=(u=ee.instance)==null?void 0:u.selected.list}),{command:n,selected:t,select:a=>{var c,l,f;let u=(c=ee.instance)==null?void 0:c.nodes.find(h=>h.id==a);u?(l=ee.instance)==null||l.trigger("selectnode",{node:u}):(f=ee.instance)==null||f.unselectNode()},hasChildren:()=>typeof n.commands!="string"}}});const zd={key:0};function Kd(e,n,t,r,o,s){var a;const i=wt("CommandVue");return V(),Z(le,null,[e.hasChildren()?Ge("",!0):(V(),Z("b",{key:0,onClick:n[0]||(n[0]=u=>e.select(e.command.node_id)),class:Re((a=e.selected)!=null&&a.find(u=>u.id==e.command.node_id)&&!e.parentSelected?"selectedCommand":"")},Fe(e.command.commands),3)),e.hasChildren()?(V(!0),Z(le,{key:1},Be(e.command.commands,u=>{var c,l;return V(),Z("b",{class:Re((c=e.selected)!=null&&c.find(f=>f.id==u.node_id)&&!e.parentSelected?"selectedCommand":"")},[me(i,{command:u,parentSelected:((l=e.selected)==null?void 0:l.find(f=>f.id==u.node_id))!=null||e.parentSelected},null,8,["command","parentSelected"]),e.topLevel?(V(),Z("br",zd)):Ge("",!0)],2)}),256)):Ge("",!0)],64)}const Ud=je(Wd,[["render",Kd],["__scopeId","data-v-69a13c9e"]]),Jd=Ze({name:"CompiledPreview",components:{CommandVue:Ud},setup(){var s,i,a,u,c;let e=Me((s=ee.instance)==null?void 0:s.getCurProcessCode()),n=Me((i=ee.instance)==null?void 0:i.getCurProcessCode()),t=Me(!1);(a=ee.instance)==null||a.on("export",()=>{t.value||(t.value=!0,n.value=e.value,e.value=[],new Promise(l=>setTimeout(l,100)).then(()=>{var f;let l=(f=ee.instance)==null?void 0:f.getCurProcessCode();e.value=l,t.value=!1}))});let r=Me((u=ee.instance)==null?void 0:u.selected.list);(c=ee.instance)==null||c.on("nodeselected",l=>{var f;r.value=[],r.value=(f=ee.instance)==null?void 0:f.selected.list});const o=l=>{var h,m,P;let f=(h=ee.instance)==null?void 0:h.nodes.find(I=>I.id==l);f?(m=ee.instance)==null||m.trigger("selectnode",{node:f}):(P=ee.instance)==null||P.unselectNode()};return console.log(e),{code:e,selected:r,select:o,timeOut:t,pCode:n}}});const qd={key:0,id:"compiledPreview",style:{padding:"5px","margin-left":"0","justify-content":"start","text-align":"start","overflow-x":"auto"}},Gd={key:1,id:"compiledPreview",style:{padding:"5px","margin-left":"0","justify-content":"start","text-align":"start","overflow-x":"auto"}};function Yd(e,n,t,r,o,s){const i=wt("CommandVue");return V(),Z(le,null,[e.timeOut?Ge("",!0):(V(),Z("div",qd,[(V(!0),Z(le,null,Be(e.code,a=>{var u,c;return V(),Z("p",{class:Re((u=e.selected)!=null&&u.find(l=>l.id==a.node_id)?"selectedCommand":"")},[me(i,{command:a,"top-level":!0,parentSelected:((c=e.selected)==null?void 0:c.find(l=>l.id==a.node_id))!=null},null,8,["command","parentSelected"])],2)}),256))])),e.timeOut?(V(),Z("div",Gd,[(V(!0),Z(le,null,Be(e.pCode,a=>{var u,c;return V(),Z("p",{class:Re((u=e.selected)!=null&&u.find(l=>l.id==a.node_id)?"selectedCommand":"")},[me(i,{command:a,"top-level":!0,parentSelected:((c=e.selected)==null?void 0:c.find(l=>l.id==a.node_id))!=null},null,8,["command","parentSelected"])],2)}),256))])):Ge("",!0)],64)}const Go=je(Jd,[["render",Yd]]),Zd={components:{ProcessSelector:Jo,Info:qo,Icon:_i,CompiledPreview:Go},setup(){const e=[{key:"processes",title:"Prozesse",icon:"symbol-interface",componentName:Jo},{key:"code",title:"Code",icon:"code",componentName:Go},{key:"info",title:"Info",icon:"lightbulb",componentName:qo}],n=()=>{var a;let i=t.value;if(i!="")return(a=e.find(u=>u.key==i))==null?void 0:a.componentName},t=Me(""),r=i=>i==t.value?"selected":"notSelected";let o;return{map:e,selected:t,select:i=>{t.value!=i?t.value=i:t.value="",console.log("Select:",t.value),(async()=>{if(document.getElementById("bar"),o&&o.unmount(),n()!=null){let a=sr(n());o=a,a.mount("#bar")}})()},isSelected:r,getSelctedComp:n}}};const Xd={class:"sidebar"},Qd=["onClick"];function ef(e,n,t,r,o,s){const i=wt("Icon");return V(),Z(le,null,[te("div",Xd,[(V(!0),Z(le,null,Be(r.map,a=>(V(),Z("button",{onClick:u=>r.select(a.key),class:Re(r.selected==a.key?"selected":"")},[me(i,{icon:a.icon},null,8,["icon"])],10,Qd))),256))]),te("div",{id:"bar",class:Re(r.selected!=""?"visible":"hidden")},null,2)],64)}const tf=je(Zd,[["render",ef],["__scopeId","data-v-24687be5"]]),nf={class:"editor"},rf=Ze({__name:"App",setup(e){return(n,t)=>(V(),Z("div",nf,[me(tf),me(yd)]))}});var Yo={},of={get exports(){return Yo},set exports(e){Yo=e}};(function(e){var n=function(t){var r=Object.prototype,o=r.hasOwnProperty,s=Object.defineProperty||function(v,y,S){v[y]=S.value},i,a=typeof Symbol=="function"?Symbol:{},u=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function f(v,y,S){return Object.defineProperty(v,y,{value:S,enumerable:!0,configurable:!0,writable:!0}),v[y]}try{f({},"")}catch{f=function(y,S,H){return y[S]=H}}function h(v,y,S,H){var R=y&&y.prototype instanceof T?y:T,ue=Object.create(R.prototype),Se=new ie(H||[]);return s(ue,"_invoke",{value:B(v,S,Se)}),ue}t.wrap=h;function m(v,y,S){try{return{type:"normal",arg:v.call(y,S)}}catch(H){return{type:"throw",arg:H}}}var P="suspendedStart",I="suspendedYield",D="executing",$="completed",q={};function T(){}function K(){}function X(){}var Ae={};f(Ae,u,function(){return this});var pe=Object.getPrototypeOf,xe=pe&&pe(pe(oe([])));xe&&xe!==r&&o.call(xe,u)&&(Ae=xe);var Ue=X.prototype=T.prototype=Object.create(Ae);K.prototype=X,s(Ue,"constructor",{value:X,configurable:!0}),s(X,"constructor",{value:K,configurable:!0}),K.displayName=f(X,l,"GeneratorFunction");function k(v){["next","throw","return"].forEach(function(y){f(v,y,function(S){return this._invoke(y,S)})})}t.isGeneratorFunction=function(v){var y=typeof v=="function"&&v.constructor;return y?y===K||(y.displayName||y.name)==="GeneratorFunction":!1},t.mark=function(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,X):(v.__proto__=X,f(v,l,"GeneratorFunction")),v.prototype=Object.create(Ue),v},t.awrap=function(v){return{__await:v}};function b(v,y){function S(ue,Se,ke,Ne){var $e=m(v[ue],v,Se);if($e.type==="throw")Ne($e.arg);else{var lt=$e.arg,gt=lt.value;return gt&&typeof gt=="object"&&o.call(gt,"__await")?y.resolve(gt.__await).then(function(nt){S("next",nt,ke,Ne)},function(nt){S("throw",nt,ke,Ne)}):y.resolve(gt).then(function(nt){lt.value=nt,ke(lt)},function(nt){return S("throw",nt,ke,Ne)})}}var H;function R(ue,Se){function ke(){return new y(function(Ne,$e){S(ue,Se,Ne,$e)})}return H=H?H.then(ke,ke):ke()}s(this,"_invoke",{value:R})}k(b.prototype),f(b.prototype,c,function(){return this}),t.AsyncIterator=b,t.async=function(v,y,S,H,R){R===void 0&&(R=Promise);var ue=new b(h(v,y,S,H),R);return t.isGeneratorFunction(y)?ue:ue.next().then(function(Se){return Se.done?Se.value:ue.next()})};function B(v,y,S){var H=P;return function(ue,Se){if(H===D)throw new Error("Generator is already running");if(H===$){if(ue==="throw")throw Se;return ne()}for(S.method=ue,S.arg=Se;;){var ke=S.delegate;if(ke){var Ne=G(ke,S);if(Ne){if(Ne===q)continue;return Ne}}if(S.method==="next")S.sent=S._sent=S.arg;else if(S.method==="throw"){if(H===P)throw H=$,S.arg;S.dispatchException(S.arg)}else S.method==="return"&&S.abrupt("return",S.arg);H=D;var $e=m(v,y,S);if($e.type==="normal"){if(H=S.done?$:I,$e.arg===q)continue;return{value:$e.arg,done:S.done}}else $e.type==="throw"&&(H=$,S.method="throw",S.arg=$e.arg)}}}function G(v,y){var S=y.method,H=v.iterator[S];if(H===i)return y.delegate=null,S==="throw"&&v.iterator.return&&(y.method="return",y.arg=i,G(v,y),y.method==="throw")||S!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+S+"' method")),q;var R=m(H,v.iterator,y.arg);if(R.type==="throw")return y.method="throw",y.arg=R.arg,y.delegate=null,q;var ue=R.arg;if(!ue)return y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,q;if(ue.done)y[v.resultName]=ue.value,y.next=v.nextLoc,y.method!=="return"&&(y.method="next",y.arg=i);else return ue;return y.delegate=null,q}k(Ue),f(Ue,l,"Generator"),f(Ue,u,function(){return this}),f(Ue,"toString",function(){return"[object Generator]"});function F(v){var y={tryLoc:v[0]};1 in v&&(y.catchLoc=v[1]),2 in v&&(y.finallyLoc=v[2],y.afterLoc=v[3]),this.tryEntries.push(y)}function _e(v){var y=v.completion||{};y.type="normal",delete y.arg,v.completion=y}function ie(v){this.tryEntries=[{tryLoc:"root"}],v.forEach(F,this),this.reset(!0)}t.keys=function(v){var y=Object(v),S=[];for(var H in y)S.push(H);return S.reverse(),function R(){for(;S.length;){var ue=S.pop();if(ue in y)return R.value=ue,R.done=!1,R}return R.done=!0,R}};function oe(v){if(v){var y=v[u];if(y)return y.call(v);if(typeof v.next=="function")return v;if(!isNaN(v.length)){var S=-1,H=function R(){for(;++S<v.length;)if(o.call(v,S))return R.value=v[S],R.done=!1,R;return R.value=i,R.done=!0,R};return H.next=H}}return{next:ne}}t.values=oe;function ne(){return{value:i,done:!0}}return ie.prototype={constructor:ie,reset:function(v){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(_e),!v)for(var y in this)y.charAt(0)==="t"&&o.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=i)},stop:function(){this.done=!0;var v=this.tryEntries[0],y=v.completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(v){if(this.done)throw v;var y=this;function S(Ne,$e){return ue.type="throw",ue.arg=v,y.next=Ne,$e&&(y.method="next",y.arg=i),!!$e}for(var H=this.tryEntries.length-1;H>=0;--H){var R=this.tryEntries[H],ue=R.completion;if(R.tryLoc==="root")return S("end");if(R.tryLoc<=this.prev){var Se=o.call(R,"catchLoc"),ke=o.call(R,"finallyLoc");if(Se&&ke){if(this.prev<R.catchLoc)return S(R.catchLoc,!0);if(this.prev<R.finallyLoc)return S(R.finallyLoc)}else if(Se){if(this.prev<R.catchLoc)return S(R.catchLoc,!0)}else if(ke){if(this.prev<R.finallyLoc)return S(R.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(v,y){for(var S=this.tryEntries.length-1;S>=0;--S){var H=this.tryEntries[S];if(H.tryLoc<=this.prev&&o.call(H,"finallyLoc")&&this.prev<H.finallyLoc){var R=H;break}}R&&(v==="break"||v==="continue")&&R.tryLoc<=y&&y<=R.finallyLoc&&(R=null);var ue=R?R.completion:{};return ue.type=v,ue.arg=y,R?(this.method="next",this.next=R.finallyLoc,q):this.complete(ue)},complete:function(v,y){if(v.type==="throw")throw v.arg;return v.type==="break"||v.type==="continue"?this.next=v.arg:v.type==="return"?(this.rval=this.arg=v.arg,this.method="return",this.next="end"):v.type==="normal"&&y&&(this.next=y),q},finish:function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var S=this.tryEntries[y];if(S.finallyLoc===v)return this.complete(S.completion,S.afterLoc),_e(S),q}},catch:function(v){for(var y=this.tryEntries.length-1;y>=0;--y){var S=this.tryEntries[y];if(S.tryLoc===v){var H=S.completion;if(H.type==="throw"){var R=H.arg;_e(S)}return R}}throw new Error("illegal catch attempt")},delegateYield:function(v,y,S){return this.delegate={iterator:oe(v),resultName:y,nextLoc:S},this.method==="next"&&(this.arg=i),q}},t}(e.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(of);sr(rf).mount("#app");
